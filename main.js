!function(){"use strict";const e={inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error"},t={profileEditForm:document.forms["profile-form"],addCardForm:document.forms["card-form"],profileEditButton:document.querySelector("#profile-edit-button"),addCardButton:document.querySelector("#profile-add-button"),profileEditPopup:document.querySelector("#profile-edit-popup"),addCardPopup:document.querySelector("#add-card-popup"),picturePopup:document.querySelector("#picture-popup"),profileTitle:document.querySelector(".profile__title"),profileDescription:document.querySelector(".profile__description"),profileTitleInput:document.querySelector("#profile-title-input"),profileDescriptionInput:document.querySelector("#profile-description-input"),cardListEl:document.querySelector(".cards__list"),addCardTitleInput:document.querySelector("#add-card-title"),addCardUrlInput:document.querySelector("#add-card-url")};class r{constructor(e,t,r,s,i,n){let{name:o,link:a,_id:c,isLiked:l,likes:d=[],owner:h}=e;this._name=o,this._link=a,this._id=c,this._isLiked=l,this._likes=d,this._owner=h,this._currentUserId=s,this._cardSelector=t,this._handleImageClick=r,this._api=i,this._handleDeleteCard=n}_createCardElement(){const e=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0);return this._cardElement=e,this._likeButton=this._cardElement.querySelector(".card__like-button"),this._trashButton=this._cardElement.querySelector(".card__trash-button"),this._cardImageEl=this._cardElement.querySelector(".card__image"),this._cardTitleEl=this._cardElement.querySelector(".card__title"),this._likeCountEl=this._cardElement.querySelector(".card__like-count"),this._cardTitleEl.textContent=this._name,this._cardImageEl.src=this._link,this._cardImageEl.alt=this._name,this._setLikeState(),this._cardElement}_setLikeState(){this._isLiked?this._likeButton.classList.add("card__like-button_active"):this._likeButton.classList.remove("card__like-button_active")}_toggleLike(){this._isLiked?this._api.dislikeCard(this._id).then((e=>{this._isLiked=!1,this._likes=e.likes||[],this._setLikeState()})).catch((e=>console.error(`Error unliking card: ${e}`))):this._api.likeCard(this._id).then((e=>{this._isLiked=!0,this._likes=e.likes||[],this._setLikeState()})).catch((e=>console.error(`Error liking card: ${e}`)))}_setEventListeners(){this._likeButton.addEventListener("click",(()=>{this._toggleLike()})),this._owner===this._currentUserId&&this._trashButton.addEventListener("click",(()=>this._handleDeleteCard(this._cardElement,this._id))),this._cardImageEl.addEventListener("click",(()=>this._handleImageClick(this._link,this._name)))}getView(){return this._createCardElement(),this._setEventListeners(),this._cardElement}}class s{constructor(e,t){this._settings=e,this._formElement=t,this._inputList=Array.from(this._formElement.querySelectorAll(this._settings.inputSelector)),this._submitButton=this._formElement.querySelector(this._settings.submitButtonSelector)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?this.disableButton():(this._submitButton.classList.remove(this._settings.inactiveButtonClass),this._submitButton.disabled=!1)}_checkInputValidity(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.validity.valid?(e.classList.remove(this._settings.inputErrorClass),t.textContent=""):(e.classList.add(this._settings.inputErrorClass),t.textContent=e.validationMessage)}_setEventListeners(){this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._setEventListeners()}resetValidation(){this._inputList.forEach((e=>{const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._settings.inputErrorClass),t.textContent=""})),this._toggleButtonState()}disableButton(){this._submitButton.classList.add(this._settings.inactiveButtonClass),this._submitButton.disabled=!0}}class i{constructor(e){this._popupElement=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}setEventListeners(){this._popupElement.querySelector(".popup__close").addEventListener("click",(()=>{this.close()})),this._popupElement.addEventListener("mousedown",(e=>{e.target===this._popupElement&&this.close()}))}}class n extends i{constructor(e,t){super(e),this._handleFormSubmit=t,this._formElement=this._popupElement.querySelector(".popup__form"),this._inputList=Array.from(this._formElement.querySelectorAll(".popup__input"))}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){super.setEventListeners(),this._formElement.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues()),this._formElement.reset()}))}}const o=new class{constructor(e){let{baseUrl:t,headers:r}=e;this._baseUrl=t,this._headers=r}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}_handleError(e){return console.error(e),Promise.reject(e)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>(console.error("API error:",e),Promise.reject(e))))}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._checkResponse).catch(this._handleError)}updateUserInfo(e){let{name:t,about:r}=e;return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:r})}).then(this._checkResponse).catch(this._handleError)}addCard(e){let{name:t,link:r}=e;return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:r})}).then(this._checkResponse).catch(this._handleError)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._checkResponse).catch(this._handleError)}likeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then(this._checkResponse).catch(this._handleError)}dislikeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then(this._checkResponse).catch(this._handleError)}updateAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkResponse).catch(this._handleError)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"765a56ab-1403-4444-8fac-5fc1871e9695","Content-Type":"application/json"}}),{profileEditForm:a,addCardForm:c,profileEditButton:l,addCardButton:d,profileTitleInput:h,profileDescriptionInput:u}=t,_=document.querySelector("#profile-edit-popup .popup__button"),p=document.querySelector("#add-card-popup .popup__button"),m=document.querySelector("#avatar-edit-popup .popup__button"),E=document.querySelector("#edit-avatar-button"),v=new class{constructor(e){let{nameSelector:t,descriptionSelector:r,avatarSelector:s}=e;this._nameElement=document.querySelector(t),this._descriptionElement=document.querySelector(r),this._avatarElement=document.querySelector(s)}getUserInfo(){return{name:this._nameElement.textContent,description:this._descriptionElement.textContent,avatar:this._avatarElement.src}}setUserInfo(e){let{name:t,description:r,avatar:s}=e;this._nameElement.textContent=t,this._descriptionElement.textContent=r,s&&(this._avatarElement.src=s)}}({nameSelector:".profile__title",descriptionSelector:".profile__description",avatarSelector:".profile__image"}),k=new i("#delete-card-popup");k.setEventListeners();const f=(e,t)=>{const r=document.querySelector("#confirm-delete-button"),s=()=>{o.deleteCard(t).then((()=>{e.remove(),k.close()})).catch((e=>console.error(`Error deleting card: ${e}`)))};r.addEventListener("click",s,{once:!0}),k.open(),document.querySelector(".popup__close").addEventListener("click",(()=>{k.close(),r.removeEventListener("click",s)}))},S=e=>new r(e,"#card-template",L,g,o,f).getView(),y=new class{constructor(e,t){let{renderer:r}=e;this._renderer=r,this._container=document.querySelector(t)}renderItems(e){e.forEach((e=>this._renderer(e)))}addItem(e){this._container.prepend(e)}}({renderer:e=>{const t=S(e);y.addItem(t)}},".cards__list");let g;o.getUserInfo().then((e=>(v.setUserInfo({name:e.name,description:e.about,avatar:e.avatar}),g=e._id,o.getInitialCards()))).then((e=>{e.forEach((e=>{const t=S({name:e.name,link:e.link,_id:e._id,owner:e.owner,likes:e.likes});y.addItem(t)}))})).catch((e=>console.error("Error fetching user info or cards:",e)));const L=(e,t)=>{I.open({name:t,link:e})},C=new n("#profile-edit-popup",(e=>{_.textContent="Saving...",o.updateUserInfo({name:e.name,about:e.description}).then((e=>{v.setUserInfo({name:e.name,description:e.about,avatar:e.avatar}),C.close()})).catch((e=>{console.error("Error updating profile:",e)})).finally((()=>{_.textContent="Save"}))}));C.setEventListeners();const b=new n("#add-card-popup",(e=>{p.textContent="Saving...",o.addCard({name:e.title,link:e.url}).then((e=>{const t=S({name:e.name,link:e.link,_id:e._id,owner:e.owner,likes:e.likes});y.addItem(t),b._formElement.reset(),b.close(),p.textContent="Save"})).catch((e=>console.error("Error adding card:",e)))}));b.setEventListeners();const q=new n("#avatar-edit-popup",(e=>{m.textContent="Saving...",o.updateAvatar(e.avatar).then((e=>{document.querySelector(".profile__image").src=e.avatar,q.close()})).catch((e=>console.error("Error updating avatar:",e))).finally((()=>{m.textContent="Save"}))}));q.setEventListeners(),E.addEventListener("click",(()=>{q.open()}));const I=new class extends i{constructor(e){super(e),this._imageElement=this._popupElement.querySelector(".popup__image"),this._captionElement=this._popupElement.querySelector(".popup__caption")}open(e){let{name:t,link:r}=e;this._imageElement.src=r,this._imageElement.alt=t,this._captionElement.textContent=t,super.open()}}("#picture-popup");I.setEventListeners();const B=new s(e,a),U=new s(e,c);B.enableValidation(),U.enableValidation(),l.addEventListener("click",(()=>{const e=v.getUserInfo();h.value=e.name,u.value=e.description,B.resetValidation(),C.open()})),d.addEventListener("click",(()=>{b.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FHQWdHLElBQUFBLENBQUlsRixHQUFpQixJQUFoQixLQUFFTSxFQUFJLEtBQUVDLEdBQU1QLEVBRWpCWSxLQUFLZ0ssY0FBYzFJLElBQU0zQixFQUd6QkssS0FBS2dLLGNBQWN6SSxJQUFNN0IsRUFHekJNLEtBQUtpSyxnQkFBZ0I1SSxZQUFjM0IsRUFHbkNxRixNQUFNVCxNQUNSLEdKNk04QyxrQkFDaERnRixFQUFxQjNFLG9CQUdyQixNQUFNdUYsRUFBdUIsSUFBSTFILEVBQy9CN0UsRUFDQU0sR0FFSWtNLEVBQW9CLElBQUkzSCxFQUM1QjdFLEVBQ0FTLEdBSUY4TCxFQUFxQm5HLG1CQUNyQm9HLEVBQWtCcEcsbUJBR2xCMUYsRUFBa0JpRSxpQkFBaUIsU0F0SFQ4SCxLQUN4QixNQUFNQyxFQUFXNUMsRUFBaUJwQixjQUNsQ3hILEVBQWtCdUcsTUFBUWlGLEVBQVMzSyxLQUNuQ1osRUFBd0JzRyxNQUFRaUYsRUFBU3JDLFlBQ3pDa0MsRUFBcUJsRyxrQkFDckJ1RixFQUF5QmpGLE1BQU0sSUFrSGpDL0YsRUFBYytELGlCQUFpQixTQUFTLEtBQ3RDcUgsRUFBcUJyRixNQUFNLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGb3JtIFZhbGlkYXRpb24gU2V0dGluZ3NcclxuZXhwb3J0IGNvbnN0IGZvcm1WYWxpZGF0aW9uU2V0dGluZ3MgPSB7XHJcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcclxufTtcclxuXHJcbi8vIEluaXRpYWwgQ2FyZHNcclxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3lvc2VtaXRlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWtlIExvdWlzZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xha2UtbG91aXNlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJCYWxkIE1vdW50YWluc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGF0ZW1hci5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiVmFub2lzZSBOYXRpb25hbCBQYXJrXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvdmFub2lzZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWdvLmpwZ1wiLFxyXG4gIH0sXHJcbl07XHJcblxyXG4vLyBFbGVtZW50IFNlbGVjdG9yc1xyXG5leHBvcnQgY29uc3Qgc2VsZWN0b3JzID0ge1xyXG4gIHByb2ZpbGVFZGl0Rm9ybTogZG9jdW1lbnQuZm9ybXNbXCJwcm9maWxlLWZvcm1cIl0sXHJcbiAgYWRkQ2FyZEZvcm06IGRvY3VtZW50LmZvcm1zW1wiY2FyZC1mb3JtXCJdLFxyXG4gIHByb2ZpbGVFZGl0QnV0dG9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdC1idXR0b25cIiksXHJcbiAgYWRkQ2FyZEJ1dHRvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWFkZC1idXR0b25cIiksXHJcbiAgcHJvZmlsZUVkaXRQb3B1cDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtcG9wdXBcIiksXHJcbiAgYWRkQ2FyZFBvcHVwOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLXBvcHVwXCIpLFxyXG4gIHBpY3R1cmVQb3B1cDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwaWN0dXJlLXBvcHVwXCIpLFxyXG4gIHByb2ZpbGVUaXRsZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX190aXRsZVwiKSxcclxuICBwcm9maWxlRGVzY3JpcHRpb246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIiksXHJcbiAgcHJvZmlsZVRpdGxlSW5wdXQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS10aXRsZS1pbnB1dFwiKSxcclxuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWRlc2NyaXB0aW9uLWlucHV0XCIpLFxyXG4gIGNhcmRMaXN0RWw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpc3RcIiksXHJcbiAgYWRkQ2FyZFRpdGxlSW5wdXQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtdGl0bGVcIiksXHJcbiAgYWRkQ2FyZFVybElucHV0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLXVybFwiKSxcclxufTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgLy8gQ29uc3RydWN0b3IgaW5pdGlhbGl6ZXMgdGhlIGNhcmQgb2JqZWN0IHdpdGggaXRzIHByb3BlcnRpZXMgYW5kIGhhbmRsZXMgcGFzc2VkIGFzIGFyZ3VtZW50c1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgeyBuYW1lLCBsaW5rLCBfaWQsIGlzTGlrZWQsIGxpa2VzID0gW10sIG93bmVyIH0sXHJcbiAgICBjYXJkU2VsZWN0b3IsXHJcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxyXG4gICAgY3VycmVudFVzZXJJZCxcclxuICAgIGFwaSxcclxuICAgIGhhbmRsZURlbGV0ZUNhcmRcclxuICApIHtcclxuICAgIHRoaXMuX25hbWUgPSBuYW1lOyAvLyBDYXJkJ3MgbmFtZS90aXRsZVxyXG4gICAgdGhpcy5fbGluayA9IGxpbms7IC8vIFVSTCB0byB0aGUgY2FyZCdzIGltYWdlXHJcbiAgICB0aGlzLl9pZCA9IF9pZDsgLy8gVW5pcXVlIElEIG9mIHRoZSBjYXJkXHJcbiAgICB0aGlzLl9pc0xpa2VkID0gaXNMaWtlZDsgLy8gV2hldGhlciB0aGUgY3VycmVudCB1c2VyIGhhcyBsaWtlZCB0aGUgY2FyZFxyXG4gICAgdGhpcy5fbGlrZXMgPSBsaWtlczsgLy8gQXJyYXkgb2YgdXNlcnMgd2hvIGhhdmUgbGlrZWQgdGhlIGNhcmRcclxuICAgIHRoaXMuX293bmVyID0gb3duZXI7IC8vIElEIG9mIHRoZSB1c2VyIHdobyBvd25zIHRoZSBjYXJkXHJcbiAgICB0aGlzLl9jdXJyZW50VXNlcklkID0gY3VycmVudFVzZXJJZDsgLy8gSUQgb2YgdGhlIGN1cnJlbnQgdXNlciAodG8gY2hlY2sgb3duZXJzaGlwKVxyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yOyAvLyBUZW1wbGF0ZSBzZWxlY3RvciBmb3IgY3JlYXRpbmcgdGhlIGNhcmRcclxuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrOyAvLyBGdW5jdGlvbiB0byBoYW5kbGUgaW1hZ2UgY2xpY2sgZXZlbnRzIChmb3Igb3BlbmluZyBhIGxhcmdlciBpbWFnZSlcclxuICAgIHRoaXMuX2FwaSA9IGFwaTsgLy8gUmVmZXJlbmNlIHRvIHRoZSBBUEkgY2xhc3MgdG8gbWFrZSBsaWtlL3VubGlrZSByZXF1ZXN0c1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCA9IGhhbmRsZURlbGV0ZUNhcmQ7IC8vIEZ1bmN0aW9uIHRvIGhhbmRsZSBjYXJkIGRlbGV0aW9uXHJcbiAgfVxyXG5cclxuICAvLyBQcml2YXRlIG1ldGhvZCB0byBjcmVhdGUgYW5kIHJldHVybiB0aGUgY2FyZCBlbGVtZW50IGZyb20gdGhlIHRlbXBsYXRlXHJcbiAgX2NyZWF0ZUNhcmRFbGVtZW50KCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpIC8vIFNlbGVjdCB0aGUgY2FyZCB0ZW1wbGF0ZVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIikgLy8gU2VsZWN0IHRoZSBjYXJkIHN0cnVjdHVyZSBpbnNpZGUgdGhlIHRlbXBsYXRlXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7IC8vIENsb25lIHRoZSBzdHJ1Y3R1cmUgdG8gY3JlYXRlIGEgbmV3IGNhcmRcclxuXHJcbiAgICAvLyBTdG9yZSByZWZlcmVuY2VzIHRvIHZhcmlvdXMgY2FyZCBlbGVtZW50c1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBjYXJkRWxlbWVudDtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fdHJhc2hCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RyYXNoLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZUVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2NhcmRUaXRsZUVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcclxuICAgIHRoaXMuX2xpa2VDb3VudEVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWNvdW50XCIpO1xyXG5cclxuICAgIC8vIFNldCB0aGUgY2FyZCdzIHRpdGxlLCBpbWFnZSBzb3VyY2UsIGFuZCBhbHQgdGV4dFxyXG4gICAgdGhpcy5fY2FyZFRpdGxlRWwudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2NhcmRJbWFnZUVsLmFsdCA9IHRoaXMuX25hbWU7XHJcblxyXG4gICAgLy8gU2V0IHRoZSBpbml0aWFsIGxpa2Ugc3RhdGUgKGFjdGl2ZS9pbmFjdGl2ZSlcclxuICAgIHRoaXMuX3NldExpa2VTdGF0ZSgpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDsgLy8gUmV0dXJuIHRoZSBjb25zdHJ1Y3RlZCBjYXJkIGVsZW1lbnRcclxuICB9XHJcblxyXG4gIC8vIFByaXZhdGUgbWV0aG9kIHRvIHVwZGF0ZSB0aGUgbGlrZSBidXR0b24ncyBzdGF0ZSAoYWN0aXZlIGlmIGxpa2VkKVxyXG4gIF9zZXRMaWtlU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faXNMaWtlZCkge1xyXG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBQcml2YXRlIG1ldGhvZCB0byB0b2dnbGUgbGlrZS91bmxpa2UgYmVoYXZpb3JcclxuICBfdG9nZ2xlTGlrZSgpIHtcclxuICAgIGlmICh0aGlzLl9pc0xpa2VkKSB7XHJcbiAgICAgIC8vIElmIGNhcmQgaXMgbGlrZWQsIHNlbmQgcmVxdWVzdCB0byB1bmxpa2UgdGhlIGNhcmRcclxuICAgICAgdGhpcy5fYXBpXHJcbiAgICAgICAgLmRpc2xpa2VDYXJkKHRoaXMuX2lkKVxyXG4gICAgICAgIC50aGVuKCh1cGRhdGVkQ2FyZCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5faXNMaWtlZCA9IGZhbHNlOyAvLyBVcGRhdGUgbG9jYWwgbGlrZSBzdGF0ZVxyXG4gICAgICAgICAgdGhpcy5fbGlrZXMgPSB1cGRhdGVkQ2FyZC5saWtlcyB8fCBbXTsgLy8gVXBkYXRlIGxpa2VzIGFycmF5XHJcbiAgICAgICAgICB0aGlzLl9zZXRMaWtlU3RhdGUoKTsgLy8gVXBkYXRlIHRoZSBVSSB0byByZWZsZWN0IG5ldyBsaWtlIHN0YXRlXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihgRXJyb3IgdW5saWtpbmcgY2FyZDogJHtlcnJ9YCkpOyAvLyBIYW5kbGUgZXJyb3JzXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBJZiBjYXJkIGlzIG5vdCBsaWtlZCwgc2VuZCByZXF1ZXN0IHRvIGxpa2UgdGhlIGNhcmRcclxuICAgICAgdGhpcy5fYXBpXHJcbiAgICAgICAgLmxpa2VDYXJkKHRoaXMuX2lkKVxyXG4gICAgICAgIC50aGVuKCh1cGRhdGVkQ2FyZCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5faXNMaWtlZCA9IHRydWU7IC8vIFVwZGF0ZSBsb2NhbCBsaWtlIHN0YXRlXHJcbiAgICAgICAgICB0aGlzLl9saWtlcyA9IHVwZGF0ZWRDYXJkLmxpa2VzIHx8IFtdOyAvLyBVcGRhdGUgbGlrZXMgYXJyYXlcclxuICAgICAgICAgIHRoaXMuX3NldExpa2VTdGF0ZSgpOyAvLyBVcGRhdGUgdGhlIFVJIHRvIHJlZmxlY3QgbmV3IGxpa2Ugc3RhdGVcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGBFcnJvciBsaWtpbmcgY2FyZDogJHtlcnJ9YCkpOyAvLyBIYW5kbGUgZXJyb3JzXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBQcml2YXRlIG1ldGhvZCB0byBzZXQgdXAgZXZlbnQgbGlzdGVuZXJzIGZvciBjYXJkIGFjdGlvbnNcclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAvLyBMaXN0ZW4gZm9yIGxpa2UgYnV0dG9uIGNsaWNrcyB0byB0b2dnbGUgbGlrZS91bmxpa2VcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5fdG9nZ2xlTGlrZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gSWYgdGhlIGNhcmQgYmVsb25ncyB0byB0aGUgY3VycmVudCB1c2VyLCBzZXQgdXAgdGhlIGRlbGV0ZSBidXR0b25cclxuICAgIGlmICh0aGlzLl9vd25lciA9PT0gdGhpcy5fY3VycmVudFVzZXJJZCkge1xyXG4gICAgICB0aGlzLl90cmFzaEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAgIFwiY2xpY2tcIixcclxuICAgICAgICAoKSA9PiB0aGlzLl9oYW5kbGVEZWxldGVDYXJkKHRoaXMuX2NhcmRFbGVtZW50LCB0aGlzLl9pZCkgLy8gQ2FsbCBkZWxldGUgaGFuZGxlciB3aXRoIGNhcmQgaW5mb1xyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIExpc3RlbiBmb3IgaW1hZ2UgY2xpY2tzIHRvIG9wZW4gYSBsYXJnZXIgdmlldyBvZiB0aGUgaW1hZ2VcclxuICAgIHRoaXMuX2NhcmRJbWFnZUVsLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIFwiY2xpY2tcIixcclxuICAgICAgKCkgPT4gdGhpcy5faGFuZGxlSW1hZ2VDbGljayh0aGlzLl9saW5rLCB0aGlzLl9uYW1lKSAvLyBDYWxsIGltYWdlIGNsaWNrIGhhbmRsZXJcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvLyBQdWJsaWMgbWV0aG9kIHRvIGNyZWF0ZSB0aGUgY2FyZCB2aWV3IGFuZCBzZXQgdXAgZXZlbnQgbGlzdGVuZXJzXHJcbiAgZ2V0VmlldygpIHtcclxuICAgIHRoaXMuX2NyZWF0ZUNhcmRFbGVtZW50KCk7IC8vIENyZWF0ZSB0aGUgY2FyZCBlbGVtZW50XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpOyAvLyBBdHRhY2ggZXZlbnQgbGlzdGVuZXJzIHRvIHRoZSBjYXJkXHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7IC8vIFJldHVybiB0aGUgY3JlYXRlZCBjYXJkIGVsZW1lbnRcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgLy8gQ29uc3RydWN0b3IgaW5pdGlhbGl6ZXMgdGhlIGNsYXNzIHdpdGggdmFsaWRhdGlvbiBzZXR0aW5ncyBhbmQgdGhlIGZvcm0gZWxlbWVudCB0byBiZSB2YWxpZGF0ZWRcclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX3NldHRpbmdzID0gc2V0dGluZ3M7IC8vIE9iamVjdCBjb250YWluaW5nIHZhbGlkYXRpb24gc2V0dGluZ3MgKHNlbGVjdG9ycywgY2xhc3NlcylcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7IC8vIFRoZSBmb3JtIGVsZW1lbnQgdGhhdCB3aWxsIGJlIHZhbGlkYXRlZFxyXG5cclxuICAgIC8vIENyZWF0ZSBhbiBhcnJheSBvZiBhbGwgaW5wdXQgZWxlbWVudHMgaW5zaWRlIHRoZSBmb3JtXHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3NldHRpbmdzLmlucHV0U2VsZWN0b3IpXHJcbiAgICApO1xyXG5cclxuICAgIC8vIFNlbGVjdCB0aGUgc3VibWl0IGJ1dHRvbiBpbnNpZGUgdGhlIGZvcm1cclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHRoaXMuX3NldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gUHJpdmF0ZSBtZXRob2QgdG8gY2hlY2sgaWYgYW55IGlucHV0IGZpZWxkIGlzIGludmFsaWRcclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgLy8gQ2hlY2sgaWYgYW55IGlucHV0IGZpZWxkIGluIHRoZSBmb3JtIGlzIGludmFsaWRcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKTtcclxuICB9XHJcblxyXG4gIC8vIFByaXZhdGUgbWV0aG9kIHRvIGVuYWJsZSBvciBkaXNhYmxlIHRoZSBzdWJtaXQgYnV0dG9uIGJhc2VkIG9uIGZvcm0gdmFsaWRpdHlcclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICAvLyBJZiB0aGVyZSdzIGFueSBpbnZhbGlkIGlucHV0LCBkaXNhYmxlIHRoZSBzdWJtaXQgYnV0dG9uOyBvdGhlcndpc2UsIGVuYWJsZSBpdFxyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuZGlzYWJsZUJ1dHRvbigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gUHJpdmF0ZSBtZXRob2QgdG8gY2hlY2sgdGhlIHZhbGlkaXR5IG9mIGEgc3BlY2lmaWMgaW5wdXQgZWxlbWVudCBhbmQgc2hvdy9oaWRlIGVycm9yIG1lc3NhZ2VzXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIC8vIEZpbmQgdGhlIGNvcnJlc3BvbmRpbmcgZXJyb3IgbWVzc2FnZSBlbGVtZW50IGZvciB0aGUgaW5wdXQgZmllbGRcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAvLyBBZGQgdGhlIGVycm9yIGNsYXNzIGFuZCBzaG93IHRoZSB2YWxpZGF0aW9uIG1lc3NhZ2UgaWYgdGhlIGlucHV0IGlzIGludmFsaWRcclxuICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gUmVtb3ZlIHRoZSBlcnJvciBjbGFzcyBhbmQgY2xlYXIgdGhlIGVycm9yIG1lc3NhZ2UgaWYgdGhlIGlucHV0IGlzIHZhbGlkXHJcbiAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBQcml2YXRlIG1ldGhvZCB0byBzZXQgdXAgZXZlbnQgbGlzdGVuZXJzIGZvciBpbnB1dCBmaWVsZHNcclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAvLyBDaGVjayB0aGUgYnV0dG9uIHN0YXRlIGluaXRpYWxseSBpbiBjYXNlIHNvbWUgZmllbGRzIGFyZSBhbHJlYWR5IGZpbGxlZFxyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHJcbiAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzIHRvIGFsbCBpbnB1dCBmaWVsZHMgaW4gdGhlIGZvcm1cclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gQ2hlY2sgdGhlIHZhbGlkaXR5IG9mIHRoZSBpbnB1dCBmaWVsZCBpbiByZWFsLXRpbWUgYW5kIHVwZGF0ZSB0aGUgYnV0dG9uIHN0YXRlXHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIFB1YmxpYyBtZXRob2QgdG8gZW5hYmxlIHZhbGlkYXRpb24gKHNldHMgdXAgdGhlIGV2ZW50IGxpc3RlbmVycyBmb3IgdGhlIGZvcm0pXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICAvLyBQdWJsaWMgbWV0aG9kIHRvIHJlc2V0IGZvcm0gdmFsaWRhdGlvbiAoY2xlYXIgZXJyb3JzIGFuZCByZXNldCBidXR0b24gc3RhdGUpXHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBpbnB1dCBmaWVsZHMgaW4gdGhlIGZvcm1cclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICAgKTtcclxuICAgICAgLy8gUmVtb3ZlIGFueSBlcnJvciBjbGFzc2VzIGFuZCBjbGVhciBlcnJvciBtZXNzYWdlc1xyXG4gICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gUmVzZXQgdGhlIHN1Ym1pdCBidXR0b24ncyBzdGF0ZVxyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICB9XHJcblxyXG4gIC8vIFB1YmxpYyBtZXRob2QgdG8gZGlzYWJsZSB0aGUgc3VibWl0IGJ1dHRvblxyXG4gIGRpc2FibGVCdXR0b24oKSB7XHJcbiAgICAvLyBBZGQgYSBjbGFzcyB0byBkaXNhYmxlIHRoZSBidXR0b24gYW5kIHNldCB0aGUgZGlzYWJsZWQgYXR0cmlidXRlIHRvIHRydWVcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICB9XHJcbn1cclxuIiwiLy8gVGhpcyBjbGFzcyBoYW5kbGVzIHRoZSBiYXNpYyBmdW5jdGlvbmFsaXR5IGZvciBvcGVuaW5nIGFuZCBjbG9zaW5nIHBvcHVwcy5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIC8vIFNlbGVjdCB0aGUgcG9wdXAgZWxlbWVudCB1c2luZyB0aGUgcHJvdmlkZWQgc2VsZWN0b3IuXHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG5cclxuICAgIC8vIEJpbmQgdGhlIGNvbnRleHQgb2YgdGhlIF9oYW5kbGVFc2NDbG9zZSBtZXRob2QgdG8gdGhpcyBpbnN0YW5jZVxyXG4gICAgLy8gVGhpcyBlbnN1cmVzIHRoYXQgdGhlICd0aGlzJyBrZXl3b3JkIGluc2lkZSBfaGFuZGxlRXNjQ2xvc2UgcmVmZXJzIHRvIHRoZSBjbGFzcyBpbnN0YW5jZVxyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgLy8gTWV0aG9kIHRvIG9wZW4gdGhlIHBvcHVwIGFuZCBhZGQgYW4gZXZlbnQgbGlzdGVuZXIgdG8gZGV0ZWN0IHRoZSBcIkVzY2FwZVwiIGtleSBwcmVzc1xyXG4gIG9wZW4oKSB7XHJcbiAgICAvLyBBZGQgYSBjbGFzcyB0byBvcGVuIHRoZSBwb3B1cFxyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XHJcblxyXG4gICAgLy8gQXR0YWNoIGFuIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBkb2N1bWVudCB0byBkZXRlY3QgdGhlIFwiRXNjYXBlXCIga2V5IHByZXNzIGFuZCBjbG9zZSB0aGUgcG9wdXBcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIC8vIE1ldGhvZCB0byBjbG9zZSB0aGUgcG9wdXAgYW5kIHJlbW92ZSB0aGUgXCJFc2NhcGVcIiBrZXkgZXZlbnQgbGlzdGVuZXJcclxuICBjbG9zZSgpIHtcclxuICAgIC8vIFJlbW92ZSB0aGUgY2xhc3MgdGhhdCBvcGVucyB0aGUgcG9wdXBcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG5cclxuICAgIC8vIFJlbW92ZSB0aGUgXCJrZXlkb3duXCIgZXZlbnQgbGlzdGVuZXIgd2hlbiB0aGUgcG9wdXAgaXMgY2xvc2VkXHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICAvLyBQcml2YXRlIG1ldGhvZCB0byBoYW5kbGUgY2xvc2luZyB0aGUgcG9wdXAgd2hlbiB0aGUgXCJFc2NhcGVcIiBrZXkgaXMgcHJlc3NlZFxyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgIC8vIElmIHRoZSBcIkVzY2FwZVwiIGtleSBpcyBwcmVzc2VkLCBjbG9zZSB0aGUgcG9wdXBcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIE1ldGhvZCB0byBzZXQgdXAgZXZlbnQgbGlzdGVuZXJzIGZvciB0aGUgcG9wdXAgKGNsb3NlIGJ1dHRvbiBhbmQgYmFja2dyb3VuZCBjbGljaylcclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIC8vIEZpbmQgYW5kIGF0dGFjaCBhbiBldmVudCBsaXN0ZW5lciB0byB0aGUgY2xvc2UgYnV0dG9uIG9mIHRoZSBwb3B1cFxyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZVwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7IC8vIENsb3NlIHRoZSBwb3B1cCB3aGVuIHRoZSBjbG9zZSBidXR0b24gaXMgY2xpY2tlZFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAvLyBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgdG8gdGhlIHBvcHVwIHRvIGNsb3NlIGl0IHdoZW4gY2xpY2tpbmcgb24gdGhlIGJhY2tncm91bmQgKG91dHNpZGUgdGhlIHBvcHVwIGNvbnRlbnQpXHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIC8vIElmIHRoZSB1c2VyIGNsaWNrcyBkaXJlY3RseSBvbiB0aGUgcG9wdXAgYmFja2dyb3VuZCwgY2xvc2UgdGhlIHBvcHVwXHJcbiAgICAgIGlmIChldnQudGFyZ2V0ID09PSB0aGlzLl9wb3B1cEVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCIvLyBJbXBvcnQgdGhlIGJhc2UgUG9wdXAgY2xhc3NcclxuaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG4vLyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAgdG8gaGFuZGxlIGZvcm1zIGluc2lkZSBhIHBvcHVwXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgLy8gQ29uc3RydWN0b3IgdGFrZXMgdGhlIHBvcHVwIHNlbGVjdG9yIGFuZCBhIGZ1bmN0aW9uIHRvIGhhbmRsZSBmb3JtIHN1Ym1pc3Npb25cclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICAvLyBDYWxsIHRoZSBwYXJlbnQgY2xhc3MgKFBvcHVwKSBjb25zdHJ1Y3RvciB3aXRoIHRoZSBwb3B1cFNlbGVjdG9yXHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuXHJcbiAgICAvLyBTdG9yZSB0aGUgZm9ybSBzdWJtaXNzaW9uIGhhbmRsZXIgZnVuY3Rpb25cclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG5cclxuICAgIC8vIFNlbGVjdCB0aGUgZm9ybSBlbGVtZW50IGluc2lkZSB0aGUgcG9wdXBcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcblxyXG4gICAgLy8gU2VsZWN0IGFsbCBpbnB1dCBmaWVsZHMgaW5zaWRlIHRoZSBmb3JtIGFuZCBjb252ZXJ0IHRoZW0gdG8gYW4gYXJyYXlcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gUHJpdmF0ZSBtZXRob2QgdG8gZ2V0IHRoZSB2YWx1ZXMgZnJvbSBhbGwgaW5wdXQgZmllbGRzXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgLy8gQ3JlYXRlIGFuIGVtcHR5IG9iamVjdCB0byBzdG9yZSB0aGUgaW5wdXQgdmFsdWVzXHJcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xyXG5cclxuICAgIC8vIEl0ZXJhdGUgb3ZlciBhbGwgaW5wdXQgZWxlbWVudHMgYW5kIHN0b3JlIHRoZWlyIG5hbWUgYW5kIHZhbHVlIGluIHRoZSBvYmplY3RcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gUmV0dXJuIHRoZSBvYmplY3QgY29udGFpbmluZyBhbGwgaW5wdXQgdmFsdWVzXHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgfVxyXG5cclxuICAvLyBNZXRob2QgdG8gc2V0IGV2ZW50IGxpc3RlbmVycyBmb3IgdGhlIHBvcHVwXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAvLyBDYWxsIHRoZSBwYXJlbnQgY2xhc3MncyBzZXRFdmVudExpc3RlbmVycyBtZXRob2QgdG8gYWRkIGdlbmVyYWwgcG9wdXAgbGlzdGVuZXJzXHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIC8vIEFkZCBhIHN1Ym1pdCBldmVudCBsaXN0ZW5lciB0byB0aGUgZm9ybVxyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIC8vIFByZXZlbnQgdGhlIGRlZmF1bHQgZm9ybSBzdWJtaXNzaW9uIGJlaGF2aW9yXHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgLy8gQ2FsbCB0aGUgZm9ybSBzdWJtaXNzaW9uIGhhbmRsZXIgd2l0aCB0aGUgaW5wdXQgdmFsdWVzXHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcblxyXG4gICAgICAvLyBSZXNldCB0aGUgZm9ybSBhZnRlciBzdWJtaXNzaW9uXHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnJlc2V0KCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiLy8gSW1wb3J0cyBtb2R1bGVzIGFuZCBjbGFzc2VzIGZvciBBUEkgaW50ZXJhY3Rpb25zLCBmb3JtIHZhbGlkYXRpb24sIHBvcHVwIGhhbmRsaW5nLCBhbmQgY2FyZCByZW5kZXJpbmdcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IHsgZm9ybVZhbGlkYXRpb25TZXR0aW5ncywgc2VsZWN0b3JzIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IFBvcHVwIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwLmpzXCI7IC8vIEltcG9ydCBQb3B1cCBmb3IgdGhlIGRlbGV0ZSBjb25maXJtYXRpb24gcG9wdXBcclxuaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7IC8vIEltcG9ydCBzdHlsZXMgZm9yIHRoZSBwYWdlXHJcblxyXG4vLyBJbml0aWFsaXplIHRoZSBBUEkgaW5zdGFuY2Ugd2l0aCB0aGUgYmFzZSBVUkwgYW5kIGhlYWRlcnMgKGluY2x1ZGluZyBhdXRob3JpemF0aW9uKVxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCI3NjVhNTZhYi0xNDAzLTQ0NDQtOGZhYy01ZmMxODcxZTk2OTVcIiwgLy8gQVBJIHRva2VuIGZvciBhdXRob3JpemF0aW9uXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuXHJcbi8vIERlc3RydWN0dXJlZCBzZWxlY3RvcnMgZnJvbSB0aGUgY29uc3RhbnRzIGZpbGUgZm9yIGVhc3kgYWNjZXNzIHRvIERPTSBlbGVtZW50c1xyXG5jb25zdCB7XHJcbiAgcHJvZmlsZUVkaXRGb3JtLFxyXG4gIGFkZENhcmRGb3JtLFxyXG4gIHByb2ZpbGVFZGl0QnV0dG9uLFxyXG4gIGFkZENhcmRCdXR0b24sXHJcbiAgcHJvZmlsZVRpdGxlSW5wdXQsXHJcbiAgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQsXHJcbn0gPSBzZWxlY3RvcnM7XHJcblxyXG4vLyBDYWNoZSBET00gZWxlbWVudHMgZm9yIGJ1dHRvbnMgdG8gYXZvaWQgcXVlcnlpbmcgdGhlIERPTSByZXBlYXRlZGx5XHJcbmNvbnN0IHNhdmVQcm9maWxlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIiNwcm9maWxlLWVkaXQtcG9wdXAgLnBvcHVwX19idXR0b25cIlxyXG4pO1xyXG5jb25zdCBzYXZlQ2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtcG9wdXAgLnBvcHVwX19idXR0b25cIik7XHJcbmNvbnN0IHNhdmVBdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiI2F2YXRhci1lZGl0LXBvcHVwIC5wb3B1cF9fYnV0dG9uXCJcclxuKTtcclxuY29uc3QgYXZhdGFyRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1hdmF0YXItYnV0dG9uXCIpO1xyXG5cclxuLy8gSW5pdGlhbGl6ZSBVc2VySW5mbyB0byBtYW5hZ2UgYW5kIHVwZGF0ZSBwcm9maWxlIGRhdGEgb24gdGhlIHBhZ2VcclxuY29uc3QgdXNlckluZm9JbnN0YW5jZSA9IG5ldyBVc2VySW5mbyh7XHJcbiAgbmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX190aXRsZVwiLCAvLyBTZWxlY3RvciBmb3IgcHJvZmlsZSBuYW1lXHJcbiAgZGVzY3JpcHRpb25TZWxlY3RvcjogXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIiwgLy8gU2VsZWN0b3IgZm9yIHByb2ZpbGUgZGVzY3JpcHRpb25cclxuICBhdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9faW1hZ2VcIiwgLy8gU2VsZWN0b3IgZm9yIHByb2ZpbGUgYXZhdGFyXHJcbn0pO1xyXG5cclxuLy8gSW5pdGlhbGl6ZSB0aGUgZGVsZXRlIGNvbmZpcm1hdGlvbiBwb3B1cCB1c2luZyB0aGUgUG9wdXAgY2xhc3NcclxuY29uc3QgZGVsZXRlUG9wdXBJbnN0YW5jZSA9IG5ldyBQb3B1cChcIiNkZWxldGUtY2FyZC1wb3B1cFwiKTtcclxuZGVsZXRlUG9wdXBJbnN0YW5jZS5zZXRFdmVudExpc3RlbmVycygpOyAvLyBTZXQgdXAgZXZlbnQgbGlzdGVuZXJzIGZvciBlc2NhcGUga2V5LCBjbG9zZSBidXR0b24sIGFuZCBiYWNrZ3JvdW5kIGNsaWNrc1xyXG5cclxuLy8gRnVuY3Rpb24gdG8gaGFuZGxlIGNhcmQgZGVsZXRpb24gd2l0aCBjb25maXJtYXRpb24gcG9wdXBcclxuY29uc3QgaGFuZGxlRGVsZXRlQ2FyZCA9IChjYXJkRWxlbWVudCwgY2FyZElkKSA9PiB7XHJcbiAgY29uc3QgY29uZmlybURlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29uZmlybS1kZWxldGUtYnV0dG9uXCIpO1xyXG5cclxuICAvLyBDb25maXJtcyBjYXJkIGRlbGV0aW9uIGJ5IGNhbGxpbmcgdGhlIEFQSSBhbmQgcmVtb3ZpbmcgdGhlIGNhcmQgZWxlbWVudCBmcm9tIHRoZSBET01cclxuICBjb25zdCBjb25maXJtRGVsZXRlID0gKCkgPT4ge1xyXG4gICAgYXBpXHJcbiAgICAgIC5kZWxldGVDYXJkKGNhcmRJZCkgLy8gQVBJIGNhbGwgdG8gZGVsZXRlIHRoZSBjYXJkXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBjYXJkRWxlbWVudC5yZW1vdmUoKTsgLy8gUmVtb3ZlIGNhcmQgZnJvbSBVSSB1cG9uIHN1Y2Nlc3NmdWwgZGVsZXRpb25cclxuICAgICAgICBkZWxldGVQb3B1cEluc3RhbmNlLmNsb3NlKCk7IC8vIENsb3NlIHRoZSBwb3B1cCBhZnRlciBkZWxldGlvblxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihgRXJyb3IgZGVsZXRpbmcgY2FyZDogJHtlcnJ9YCkpOyAvLyBIYW5kbGUgYW55IGVycm9yc1xyXG4gIH07XHJcblxyXG4gIC8vIEFkZCBjbGljayBsaXN0ZW5lciBmb3IgY29uZmlybWluZyBkZWxldGlvbiAob25jZSB0byBhdm9pZCBkdXBsaWNhdGUgbGlzdGVuZXJzKVxyXG4gIGNvbmZpcm1EZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNvbmZpcm1EZWxldGUsIHsgb25jZTogdHJ1ZSB9KTtcclxuXHJcbiAgLy8gT3BlbiB0aGUgZGVsZXRlIGNvbmZpcm1hdGlvbiBwb3B1cFxyXG4gIGRlbGV0ZVBvcHVwSW5zdGFuY2Uub3BlbigpO1xyXG5cclxuICAvLyBDbG9zZSBwb3B1cCBhbmQgcmVtb3ZlIGV2ZW50IGxpc3RlbmVyIGlmIFwiWFwiIGJ1dHRvbiBpcyBjbGlja2VkIG9yIEVzY2FwZSBrZXkgaXMgcHJlc3NlZFxyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBkZWxldGVQb3B1cEluc3RhbmNlLmNsb3NlKCk7IC8vIENsb3NlIHRoZSBwb3B1cFxyXG4gICAgY29uZmlybURlbGV0ZUJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY29uZmlybURlbGV0ZSk7IC8vIENsZWFudXAgZXZlbnQgbGlzdGVuZXJcclxuICB9KTtcclxufTtcclxuXHJcbi8vIEZ1bmN0aW9uIHRvIGNyZWF0ZSBhIG5ldyBjYXJkIHVzaW5nIHRoZSBDYXJkIGNsYXNzLCBwYXNzaW5nIGluIG5lY2Vzc2FyeSBoYW5kbGVyc1xyXG5jb25zdCBjcmVhdGVDYXJkID0gKGNhcmREYXRhKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgY2FyZERhdGEsXHJcbiAgICBcIiNjYXJkLXRlbXBsYXRlXCIsIC8vIENhcmQgdGVtcGxhdGUgc2VsZWN0b3JcclxuICAgIGhhbmRsZUltYWdlUG9wdXAsIC8vIEZ1bmN0aW9uIHRvIGhhbmRsZSBpbWFnZSBjbGljayBwb3B1cFxyXG4gICAgY3VycmVudFVzZXJJZCwgLy8gQ3VycmVudCB1c2VyIElEIGZvciBtYW5hZ2luZyBjYXJkIG93bmVyc2hpcFxyXG4gICAgYXBpLCAvLyBBUEkgaW5zdGFuY2UgZm9yIGhhbmRsaW5nIGxpa2VzIGFuZCBkZWxldGlvblxyXG4gICAgaGFuZGxlRGVsZXRlQ2FyZCAvLyBGdW5jdGlvbiB0byBoYW5kbGUgY2FyZCBkZWxldGlvblxyXG4gICk7XHJcbiAgcmV0dXJuIGNhcmQuZ2V0VmlldygpOyAvLyBSZXR1cm4gdGhlIGNhcmQgZWxlbWVudCB0byByZW5kZXJcclxufTtcclxuXHJcbi8vIEluaXRpYWxpemUgdGhlIFNlY3Rpb24gY2xhc3MgdG8gcmVuZGVyIGFuZCBtYW5hZ2UgdGhlIGNhcmQgbGlzdCBpbiB0aGUgVUlcclxuY29uc3QgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbihcclxuICB7XHJcbiAgICByZW5kZXJlcjogKGNhcmREYXRhKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZChjYXJkRGF0YSk7IC8vIENyZWF0ZSBhIGNhcmQgZWxlbWVudCBmb3IgZWFjaCBjYXJkXHJcbiAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY2FyZEVsZW1lbnQpOyAvLyBBZGQgY2FyZCB0byB0aGUgY2FyZCBsaXN0IChwcmVwZW5kIGl0KVxyXG4gICAgfSxcclxuICB9LFxyXG4gIFwiLmNhcmRzX19saXN0XCIgLy8gQ29udGFpbmVyIHdoZXJlIGNhcmRzIHdpbGwgYmUgYXBwZW5kZWRcclxuKTtcclxuXHJcbi8vIEZldGNoIGFuZCByZW5kZXIgdXNlciBpbmZvIGFuZCBjYXJkcyBhZnRlciBwYWdlIGxvYWRcclxubGV0IGN1cnJlbnRVc2VySWQ7IC8vIFZhcmlhYmxlIHRvIHN0b3JlIHRoZSBjdXJyZW50IHVzZXIncyBJRFxyXG5hcGlcclxuICAuZ2V0VXNlckluZm8oKVxyXG4gIC50aGVuKCh1c2VySW5mbykgPT4ge1xyXG4gICAgLy8gU2V0IHVzZXIgaW5mbyBvbiB0aGUgcGFnZSB1c2luZyB0aGUgVXNlckluZm8gaW5zdGFuY2VcclxuICAgIHVzZXJJbmZvSW5zdGFuY2Uuc2V0VXNlckluZm8oe1xyXG4gICAgICBuYW1lOiB1c2VySW5mby5uYW1lLCAvLyBTZXQgcHJvZmlsZSBuYW1lXHJcbiAgICAgIGRlc2NyaXB0aW9uOiB1c2VySW5mby5hYm91dCwgLy8gU2V0IHByb2ZpbGUgZGVzY3JpcHRpb25cclxuICAgICAgYXZhdGFyOiB1c2VySW5mby5hdmF0YXIsIC8vIFNldCBwcm9maWxlIGF2YXRhclxyXG4gICAgfSk7XHJcbiAgICBjdXJyZW50VXNlcklkID0gdXNlckluZm8uX2lkOyAvLyBTdG9yZSB0aGUgY3VycmVudCB1c2VyIElEXHJcblxyXG4gICAgcmV0dXJuIGFwaS5nZXRJbml0aWFsQ2FyZHMoKTsgLy8gRmV0Y2ggaW5pdGlhbCBjYXJkcyBmcm9tIHRoZSBzZXJ2ZXJcclxuICB9KVxyXG4gIC50aGVuKChjYXJkcykgPT4ge1xyXG4gICAgLy8gUmVuZGVyIGVhY2ggY2FyZCBvbiB0aGUgcGFnZVxyXG4gICAgY2FyZHMuZm9yRWFjaCgoY2FyZERhdGEpID0+IHtcclxuICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKHtcclxuICAgICAgICBuYW1lOiBjYXJkRGF0YS5uYW1lLFxyXG4gICAgICAgIGxpbms6IGNhcmREYXRhLmxpbmssXHJcbiAgICAgICAgX2lkOiBjYXJkRGF0YS5faWQsXHJcbiAgICAgICAgb3duZXI6IGNhcmREYXRhLm93bmVyLFxyXG4gICAgICAgIGxpa2VzOiBjYXJkRGF0YS5saWtlcyxcclxuICAgICAgfSk7XHJcbiAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY2FyZEVsZW1lbnQpOyAvLyBBZGQgZWFjaCBjYXJkIHRvIHRoZSBjYXJkIHNlY3Rpb25cclxuICAgIH0pO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyB1c2VyIGluZm8gb3IgY2FyZHM6XCIsIGVycikpOyAvLyBIYW5kbGUgZXJyb3JzIGR1cmluZyBBUEkgcmVxdWVzdHNcclxuXHJcbi8vIE9wZW5zIHByb2ZpbGUgZWRpdCBwb3B1cCBhbmQgcHJlLWZpbGxzIHRoZSBmb3JtIHdpdGggY3VycmVudCB1c2VyIGluZm9cclxuY29uc3QgaGFuZGxlUHJvZmlsZUVkaXQgPSAoKSA9PiB7XHJcbiAgY29uc3QgdXNlckRhdGEgPSB1c2VySW5mb0luc3RhbmNlLmdldFVzZXJJbmZvKCk7IC8vIEdldCBjdXJyZW50IHByb2ZpbGUgZGF0YVxyXG4gIHByb2ZpbGVUaXRsZUlucHV0LnZhbHVlID0gdXNlckRhdGEubmFtZTsgLy8gUHJlLWZpbGwgcHJvZmlsZSBuYW1lIGlucHV0XHJcbiAgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSB1c2VyRGF0YS5kZXNjcmlwdGlvbjsgLy8gUHJlLWZpbGwgcHJvZmlsZSBkZXNjcmlwdGlvblxyXG4gIHByb2ZpbGVGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpOyAvLyBSZXNldCBmb3JtIHZhbGlkYXRpb24gc3RhdGVcclxuICBwcm9maWxlRWRpdFBvcHVwSW5zdGFuY2Uub3BlbigpOyAvLyBPcGVuIHRoZSBwcm9maWxlIGVkaXQgcG9wdXBcclxufTtcclxuXHJcbi8vIE9wZW5zIHRoZSBpbWFnZSBwb3B1cCB3aGVuIGEgY2FyZCBpbWFnZSBpcyBjbGlja2VkXHJcbmNvbnN0IGhhbmRsZUltYWdlUG9wdXAgPSAobGluaywgbmFtZSkgPT4ge1xyXG4gIHBpY3R1cmVQb3B1cEluc3RhbmNlLm9wZW4oeyBuYW1lLCBsaW5rIH0pOyAvLyBPcGVuIHRoZSBwb3B1cCB3aXRoIHRoZSBpbWFnZSBhbmQgaXRzIGNhcHRpb25cclxufTtcclxuXHJcbi8vIEluaXRpYWxpemUgcHJvZmlsZSBlZGl0IHBvcHVwIHdpdGggZm9ybSBzdWJtaXNzaW9uIGhhbmRsaW5nXHJcbmNvbnN0IHByb2ZpbGVFZGl0UG9wdXBJbnN0YW5jZSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIFwiI3Byb2ZpbGUtZWRpdC1wb3B1cFwiLFxyXG4gIChmb3JtRGF0YSkgPT4ge1xyXG4gICAgc2F2ZVByb2ZpbGVCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiOyAvLyBTaG93IGxvYWRpbmcgc3RhdGVcclxuXHJcbiAgICAvLyBTZW5kIFBBVENIIHJlcXVlc3QgdG8gdXBkYXRlIHRoZSB1c2VyJ3MgcHJvZmlsZSBpbmZvXHJcbiAgICBhcGlcclxuICAgICAgLnVwZGF0ZVVzZXJJbmZvKHtcclxuICAgICAgICBuYW1lOiBmb3JtRGF0YS5uYW1lLFxyXG4gICAgICAgIGFib3V0OiBmb3JtRGF0YS5kZXNjcmlwdGlvbixcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKHVwZGF0ZWRVc2VySW5mbykgPT4ge1xyXG4gICAgICAgIHVzZXJJbmZvSW5zdGFuY2Uuc2V0VXNlckluZm8oe1xyXG4gICAgICAgICAgbmFtZTogdXBkYXRlZFVzZXJJbmZvLm5hbWUsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogdXBkYXRlZFVzZXJJbmZvLmFib3V0LFxyXG4gICAgICAgICAgYXZhdGFyOiB1cGRhdGVkVXNlckluZm8uYXZhdGFyLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHByb2ZpbGVFZGl0UG9wdXBJbnN0YW5jZS5jbG9zZSgpOyAvLyBDbG9zZSB0aGUgcG9wdXAgYWZ0ZXIgc3VjY2Vzc1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB1cGRhdGluZyBwcm9maWxlOlwiLCBlcnIpOyAvLyBIYW5kbGUgZXJyb3JzIGR1cmluZyBwcm9maWxlIHVwZGF0ZVxyXG4gICAgICB9KVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgc2F2ZVByb2ZpbGVCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmVcIjsgLy8gUmVzZXQgdGhlIGJ1dHRvbiB0ZXh0IGFmdGVyIHNhdmVcclxuICAgICAgfSk7XHJcbiAgfVxyXG4pO1xyXG5cclxucHJvZmlsZUVkaXRQb3B1cEluc3RhbmNlLnNldEV2ZW50TGlzdGVuZXJzKCk7IC8vIFNldCBldmVudCBsaXN0ZW5lcnMgZm9yIHRoZSBwcm9maWxlIGVkaXQgcG9wdXBcclxuXHJcbi8vIEluaXRpYWxpemUgdGhlIGNhcmQgYWRkaXRpb24gcG9wdXAgd2l0aCBmb3JtIHN1Ym1pc3Npb24gaGFuZGxpbmdcclxuY29uc3QgYWRkQ2FyZFBvcHVwSW5zdGFuY2UgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBcIiNhZGQtY2FyZC1wb3B1cFwiLFxyXG4gIChmb3JtRGF0YSkgPT4ge1xyXG4gICAgc2F2ZUNhcmRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiOyAvLyBTaG93IGxvYWRpbmcgc3RhdGVcclxuXHJcbiAgICAvLyBTZW5kIFBPU1QgcmVxdWVzdCB0byBhZGQgYSBuZXcgY2FyZFxyXG4gICAgYXBpXHJcbiAgICAgIC5hZGRDYXJkKHtcclxuICAgICAgICBuYW1lOiBmb3JtRGF0YS50aXRsZSwgLy8gQ2FyZCB0aXRsZVxyXG4gICAgICAgIGxpbms6IGZvcm1EYXRhLnVybCwgLy8gQ2FyZCBpbWFnZSBVUkxcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKG5ld0NhcmQpID0+IHtcclxuICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoe1xyXG4gICAgICAgICAgbmFtZTogbmV3Q2FyZC5uYW1lLFxyXG4gICAgICAgICAgbGluazogbmV3Q2FyZC5saW5rLFxyXG4gICAgICAgICAgX2lkOiBuZXdDYXJkLl9pZCxcclxuICAgICAgICAgIG93bmVyOiBuZXdDYXJkLm93bmVyLFxyXG4gICAgICAgICAgbGlrZXM6IG5ld0NhcmQubGlrZXMsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCk7IC8vIEFkZCBuZXcgY2FyZCB0byB0aGUgVUlcclxuICAgICAgICBhZGRDYXJkUG9wdXBJbnN0YW5jZS5fZm9ybUVsZW1lbnQucmVzZXQoKTsgLy8gUmVzZXQgZm9ybSBmaWVsZHMgYWZ0ZXIgc3VibWlzc2lvblxyXG4gICAgICAgIGFkZENhcmRQb3B1cEluc3RhbmNlLmNsb3NlKCk7IC8vIENsb3NlIHRoZSBwb3B1cCBhZnRlciBzdWNjZXNzXHJcbiAgICAgICAgc2F2ZUNhcmRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmVcIjsgLy8gUmVzZXQgYnV0dG9uIHRleHRcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhZGRpbmcgY2FyZDpcIiwgZXJyKSk7IC8vIEhhbmRsZSBlcnJvcnMgZHVyaW5nIGNhcmQgYWRkaXRpb25cclxuICB9XHJcbik7XHJcblxyXG5hZGRDYXJkUG9wdXBJbnN0YW5jZS5zZXRFdmVudExpc3RlbmVycygpOyAvLyBTZXQgZXZlbnQgbGlzdGVuZXJzIGZvciB0aGUgY2FyZCBhZGRpdGlvbiBwb3B1cFxyXG5cclxuLy8gSW5pdGlhbGl6ZSBhdmF0YXIgZWRpdCBwb3B1cCB3aXRoIGZvcm0gc3VibWlzc2lvbiBoYW5kbGluZ1xyXG5jb25zdCBhdmF0YXJFZGl0UG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNhdmF0YXItZWRpdC1wb3B1cFwiLCAoZm9ybURhdGEpID0+IHtcclxuICBzYXZlQXZhdGFyQnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjsgLy8gU2hvdyBsb2FkaW5nIHN0YXRlXHJcblxyXG4gIC8vIFNlbmQgUEFUQ0ggcmVxdWVzdCB0byB1cGRhdGUgdGhlIHVzZXIncyBhdmF0YXJcclxuICBhcGlcclxuICAgIC51cGRhdGVBdmF0YXIoZm9ybURhdGEuYXZhdGFyKVxyXG4gICAgLnRoZW4oKHVwZGF0ZWRVc2VySW5mbykgPT4ge1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlXCIpLnNyYyA9IHVwZGF0ZWRVc2VySW5mby5hdmF0YXI7IC8vIFVwZGF0ZSBhdmF0YXIgaW4gdGhlIFVJXHJcbiAgICAgIGF2YXRhckVkaXRQb3B1cC5jbG9zZSgpOyAvLyBDbG9zZSB0aGUgcG9wdXAgYWZ0ZXIgc3VjY2Vzc1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgYXZhdGFyOlwiLCBlcnIpKSAvLyBIYW5kbGUgZXJyb3JzIGR1cmluZyBhdmF0YXIgdXBkYXRlXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHNhdmVBdmF0YXJCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmVcIjsgLy8gUmVzZXQgYnV0dG9uIHRleHRcclxuICAgIH0pO1xyXG59KTtcclxuXHJcbmF2YXRhckVkaXRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpOyAvLyBTZXQgZXZlbnQgbGlzdGVuZXJzIGZvciB0aGUgYXZhdGFyIGVkaXQgcG9wdXBcclxuXHJcbi8vIFNldCB1cCB0aGUgZXZlbnQgbGlzdGVuZXIgZm9yIHRoZSBhdmF0YXIgZWRpdCBidXR0b25cclxuYXZhdGFyRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGF2YXRhckVkaXRQb3B1cC5vcGVuKCk7IC8vIE9wZW4gdGhlIGF2YXRhciBlZGl0IHBvcHVwIHdoZW4gdGhlIGJ1dHRvbiBpcyBjbGlja2VkXHJcbn0pO1xyXG5cclxuLy8gSW5pdGlhbGl6ZSBpbWFnZSBwb3B1cCBmb3IgZGlzcGxheWluZyBsYXJnZXIgaW1hZ2VzXHJcbmNvbnN0IHBpY3R1cmVQb3B1cEluc3RhbmNlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI3BpY3R1cmUtcG9wdXBcIik7XHJcbnBpY3R1cmVQb3B1cEluc3RhbmNlLnNldEV2ZW50TGlzdGVuZXJzKCk7IC8vIFNldCBldmVudCBsaXN0ZW5lcnMgZm9yIHRoZSBpbWFnZSBwb3B1cFxyXG5cclxuLy8gSW5pdGlhbGl6ZSBmb3JtIHZhbGlkYXRvcnMgZm9yIHByb2ZpbGUgYW5kIGNhcmQgZm9ybXNcclxuY29uc3QgcHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICBmb3JtVmFsaWRhdGlvblNldHRpbmdzLFxyXG4gIHByb2ZpbGVFZGl0Rm9ybVxyXG4pO1xyXG5jb25zdCBjYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxyXG4gIGZvcm1WYWxpZGF0aW9uU2V0dGluZ3MsXHJcbiAgYWRkQ2FyZEZvcm1cclxuKTtcclxuXHJcbi8vIEVuYWJsZSBmb3JtIHZhbGlkYXRpb24gZm9yIGJvdGggZm9ybXNcclxucHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5jYXJkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vLyBTZXQgdXAgZXZlbnQgbGlzdGVuZXJzIGZvciBwcm9maWxlIGVkaXQgYW5kIGFkZCBjYXJkIGJ1dHRvbnNcclxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVByb2ZpbGVFZGl0KTsgLy8gT3BlbiBwcm9maWxlIGVkaXQgcG9wdXBcclxuYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGFkZENhcmRQb3B1cEluc3RhbmNlLm9wZW4oKTsgLy8gT3BlbiBjYXJkIGFkZGl0aW9uIHBvcHVwXHJcbn0pO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIC8vIENvbnN0cnVjdG9yIGluaXRpYWxpemVzIEFQSSB3aXRoIGEgYmFzZSBVUkwgYW5kIGF1dGhvcml6YXRpb24gaGVhZGVyc1xyXG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgLy8gTWV0aG9kIHRvIGNoZWNrIHRoZSBzZXJ2ZXIncyByZXNwb25zZSBhbmQgaGFuZGxlIGVycm9yc1xyXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTsgLy8gUmV0dXJuIEpTT04gaWYgcmVzcG9uc2UgaXMgT0tcclxuICAgIH1cclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTsgLy8gUmVqZWN0IHByb21pc2Ugd2l0aCBlcnJvciBzdGF0dXNcclxuICB9XHJcblxyXG4gIC8vIEdlbmVyYWwgZXJyb3IgaGFuZGxlciBmb3IgY2F0Y2hpbmcgYW5kIGxvZ2dpbmcgZXJyb3JzXHJcbiAgX2hhbmRsZUVycm9yKGVycikge1xyXG4gICAgY29uc29sZS5lcnJvcihlcnIpOyAvLyBMb2cgZXJyb3IgdG8gY29uc29sZVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7IC8vIFJlamVjdCB0aGUgcHJvbWlzZSB3aXRoIHRoZSBlcnJvclxyXG4gIH1cclxuXHJcbiAgLy8gRmV0Y2ggaW5pdGlhbCBzZXQgb2YgY2FyZHMgZnJvbSB0aGUgc2VydmVyXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLCAvLyBQYXNzIGF1dGhvcml6YXRpb24gaGVhZGVyc1xyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpOyAvLyBSZXR1cm4gSlNPTiBpZiByZXNwb25zZSBpcyBPS1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7IC8vIFJlamVjdCBpZiB0aGVyZSdzIGFuIGVycm9yXHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkFQSSBlcnJvcjpcIiwgZXJyKTsgLy8gTG9nIHRoZSBlcnJvclxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpOyAvLyBQcm9wYWdhdGUgdGhlIGVycm9yXHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gRmV0Y2ggdXNlciBpbmZvcm1hdGlvbiBmcm9tIHRoZSBzZXJ2ZXJcclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycywgLy8gQXV0aG9yaXphdGlvbiBoZWFkZXJzIGZvciB0aGUgcmVxdWVzdFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSkgLy8gSGFuZGxlIHJlc3BvbnNlIHZhbGlkYXRpb25cclxuICAgICAgLmNhdGNoKHRoaXMuX2hhbmRsZUVycm9yKTsgLy8gSGFuZGxlIGVycm9yc1xyXG4gIH1cclxuXHJcbiAgLy8gVXBkYXRlIHVzZXIgaW5mb3JtYXRpb24gKG5hbWUsIGFib3V0KSBvbiB0aGUgc2VydmVyXHJcbiAgdXBkYXRlVXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLCAvLyBQQVRDSCByZXF1ZXN0IGZvciBwYXJ0aWFsIHVwZGF0ZXNcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IGFib3V0LFxyXG4gICAgICB9KSwgLy8gSlNPTiBib2R5IHdpdGggdXBkYXRlZCBkYXRhXHJcbiAgICB9KVxyXG4gICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKSAvLyBIYW5kbGUgcmVzcG9uc2UgdmFsaWRhdGlvblxyXG4gICAgICAuY2F0Y2godGhpcy5faGFuZGxlRXJyb3IpOyAvLyBIYW5kbGUgZXJyb3JzXHJcbiAgfVxyXG5cclxuICAvLyBBZGQgYSBuZXcgY2FyZCAobmFtZSwgbGluaykgdG8gdGhlIHNlcnZlclxyXG4gIGFkZENhcmQoeyBuYW1lLCBsaW5rIH0pIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIiwgLy8gUE9TVCByZXF1ZXN0IHRvIGNyZWF0ZSBuZXcgY2FyZFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBsaW5rOiBsaW5rLFxyXG4gICAgICB9KSwgLy8gSlNPTiBib2R5IHdpdGggY2FyZCBkZXRhaWxzXHJcbiAgICB9KVxyXG4gICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKSAvLyBIYW5kbGUgcmVzcG9uc2UgdmFsaWRhdGlvblxyXG4gICAgICAuY2F0Y2godGhpcy5faGFuZGxlRXJyb3IpOyAvLyBIYW5kbGUgZXJyb3JzXHJcbiAgfVxyXG5cclxuICAvLyBEZWxldGUgYSBjYXJkIGJ5IGl0cyBJRFxyXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsIC8vIERFTEVURSByZXF1ZXN0IHRvIHJlbW92ZSB0aGUgY2FyZFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLCAvLyBBdXRob3JpemF0aW9uIGhlYWRlcnNcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpIC8vIEhhbmRsZSByZXNwb25zZSB2YWxpZGF0aW9uXHJcbiAgICAgIC5jYXRjaCh0aGlzLl9oYW5kbGVFcnJvcik7IC8vIEhhbmRsZSBlcnJvcnNcclxuICB9XHJcblxyXG4gIC8vIExpa2UgYSBjYXJkIGJ5IHNlbmRpbmcgYSBQVVQgcmVxdWVzdCB0byB0aGUgc2VydmVyXHJcbiAgbGlrZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsIC8vIFBVVCByZXF1ZXN0IHRvIGxpa2UgdGhlIGNhcmRcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpIC8vIEhhbmRsZSByZXNwb25zZSB2YWxpZGF0aW9uXHJcbiAgICAgIC5jYXRjaCh0aGlzLl9oYW5kbGVFcnJvcik7IC8vIEhhbmRsZSBlcnJvcnNcclxuICB9XHJcblxyXG4gIC8vIERpc2xpa2UgYSBjYXJkIGJ5IHNlbmRpbmcgYSBERUxFVEUgcmVxdWVzdCB0byB0aGUgc2VydmVyXHJcbiAgZGlzbGlrZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsIC8vIERFTEVURSByZXF1ZXN0IHRvIHJlbW92ZSB0aGUgbGlrZVxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSkgLy8gSGFuZGxlIHJlc3BvbnNlIHZhbGlkYXRpb25cclxuICAgICAgLmNhdGNoKHRoaXMuX2hhbmRsZUVycm9yKTsgLy8gSGFuZGxlIGVycm9yc1xyXG4gIH1cclxuXHJcbiAgLy8gVXBkYXRlIHVzZXIgYXZhdGFyIGJ5IHNlbmRpbmcgYSBQQVRDSCByZXF1ZXN0IHdpdGggdGhlIG5ldyBhdmF0YXIgVVJMXHJcbiAgdXBkYXRlQXZhdGFyKGF2YXRhclVybCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsIC8vIFBBVENIIHJlcXVlc3QgZm9yIHBhcnRpYWwgdXBkYXRlc1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBhdmF0YXJVcmwsIC8vIEpTT04gYm9keSB3aXRoIG5ldyBhdmF0YXIgVVJMXHJcbiAgICAgIH0pLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSkgLy8gSGFuZGxlIHJlc3BvbnNlIHZhbGlkYXRpb25cclxuICAgICAgLmNhdGNoKHRoaXMuX2hhbmRsZUVycm9yKTsgLy8gSGFuZGxlIGVycm9yc1xyXG4gIH1cclxufVxyXG4iLCIvLyBUaGUgVXNlckluZm8gY2xhc3MgaXMgcmVzcG9uc2libGUgZm9yIG1hbmFnaW5nIGFuZCB1cGRhdGluZyB1c2VyIGluZm9ybWF0aW9uIG9uIHRoZSBwYWdlXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICAvLyBUaGUgY29uc3RydWN0b3IgYWNjZXB0cyBhbiBvYmplY3Qgd2l0aCBDU1Mgc2VsZWN0b3JzIGZvciB0aGUgdXNlcidzIG5hbWUsIGRlc2NyaXB0aW9uLCBhbmQgYXZhdGFyXHJcbiAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGRlc2NyaXB0aW9uU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yIH0pIHtcclxuICAgIC8vIFN0b3JlIHRoZSBET00gZWxlbWVudHMgZm9yIG5hbWUsIGRlc2NyaXB0aW9uLCBhbmQgYXZhdGFyIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBzZWxlY3RvcnNcclxuICAgIHRoaXMuX25hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZGVzY3JpcHRpb25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkZXNjcmlwdGlvblNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2F2YXRhckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIC8vIE1ldGhvZCB0byBnZXQgdGhlIGN1cnJlbnQgdXNlciBpbmZvcm1hdGlvbiBmcm9tIHRoZSBwYWdlXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAvLyBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIHRoZSBjdXJyZW50IG5hbWUsIGRlc2NyaXB0aW9uLCBhbmQgYXZhdGFyIFVSTCBmcm9tIHRoZSBwYWdlXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCxcclxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuX2Rlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCxcclxuICAgICAgYXZhdGFyOiB0aGlzLl9hdmF0YXJFbGVtZW50LnNyYyxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBNZXRob2QgdG8gdXBkYXRlIHRoZSB1c2VyIGluZm9ybWF0aW9uIG9uIHRoZSBwYWdlXHJcbiAgc2V0VXNlckluZm8oeyBuYW1lLCBkZXNjcmlwdGlvbiwgYXZhdGFyIH0pIHtcclxuICAgIC8vIFVwZGF0ZSB0aGUgbmFtZSBhbmQgZGVzY3JpcHRpb24gb24gdGhlIHBhZ2VcclxuICAgIHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHRoaXMuX2Rlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IGRlc2NyaXB0aW9uO1xyXG5cclxuICAgIC8vIFVwZGF0ZSB0aGUgYXZhdGFyIG9ubHkgaWYgdGhlIG5ldyBhdmF0YXIgVVJMIGlzIHByb3ZpZGVkXHJcbiAgICBpZiAoYXZhdGFyKSB7XHJcbiAgICAgIHRoaXMuX2F2YXRhckVsZW1lbnQuc3JjID0gYXZhdGFyO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCIvLyBUaGUgU2VjdGlvbiBjbGFzcyBpcyByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIGl0ZW1zIGFuZCBtYW5hZ2luZyBhIGNvbnRhaW5lclxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICAvLyBDb25zdHJ1Y3RvciBhY2NlcHRzIGFuIG9iamVjdCB3aXRoIGEgcmVuZGVyZXIgZnVuY3Rpb24gYW5kIGEgY29udGFpbmVyIHNlbGVjdG9yXHJcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgLy8gU3RvcmUgdGhlIHJlbmRlcmVyIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSB1c2VkIHRvIHJlbmRlciBlYWNoIGl0ZW1cclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcblxyXG4gICAgLy8gU2VsZWN0IHRoZSBjb250YWluZXIgZWxlbWVudCB3aGVyZSBpdGVtcyB3aWxsIGJlIGFkZGVkXHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIC8vIE1ldGhvZCB0byByZW5kZXIgYSBsaXN0IG9mIGl0ZW1zXHJcbiAgLy8gSXQgaXRlcmF0ZXMgb3ZlciB0aGUgaXRlbXMgYW5kIGNhbGxzIHRoZSByZW5kZXJlciBmdW5jdGlvbiBmb3IgZWFjaCBvbmVcclxuICByZW5kZXJJdGVtcyhpdGVtcykge1xyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4gdGhpcy5fcmVuZGVyZXIoaXRlbSkpO1xyXG4gIH1cclxuXHJcbiAgLy8gTWV0aG9kIHRvIGFkZCBhIG5ldyBpdGVtIHRvIHRoZSBjb250YWluZXJcclxuICAvLyBJdCBwcmVwZW5kcyB0aGUgZWxlbWVudCB0byB0aGUgY29udGFpbmVyIChhZGRzIHRvIHRoZSB0b3ApXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcbn1cclxuIiwiLy8gSW1wb3J0IHRoZSBiYXNlIFBvcHVwIGNsYXNzXHJcbmltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuLy8gUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB0byBoYW5kbGUgaW1hZ2UgcG9wdXBzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIC8vIENvbnN0cnVjdG9yIHRha2VzIHRoZSBwb3B1cCBzZWxlY3RvciBhcyBhbiBhcmd1bWVudFxyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIC8vIENhbGwgdGhlIHBhcmVudCBjbGFzcyAoUG9wdXApIGNvbnN0cnVjdG9yIHdpdGggdGhlIHBvcHVwU2VsZWN0b3JcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG5cclxuICAgIC8vIFNlbGVjdCB0aGUgaW1hZ2UgZWxlbWVudCBpbnNpZGUgdGhlIHBvcHVwXHJcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIik7XHJcblxyXG4gICAgLy8gU2VsZWN0IHRoZSBjYXB0aW9uIGVsZW1lbnQgaW5zaWRlIHRoZSBwb3B1cFxyXG4gICAgdGhpcy5fY2FwdGlvbkVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2FwdGlvblwiKTtcclxuICB9XHJcblxyXG4gIC8vIE1ldGhvZCB0byBvcGVuIHRoZSBpbWFnZSBwb3B1cCB3aXRoIHRoZSBwcm92aWRlZCBuYW1lIGFuZCBsaW5rXHJcbiAgb3Blbih7IG5hbWUsIGxpbmsgfSkge1xyXG4gICAgLy8gU2V0IHRoZSBpbWFnZSBzb3VyY2UgdG8gdGhlIHByb3ZpZGVkIGxpbmtcclxuICAgIHRoaXMuX2ltYWdlRWxlbWVudC5zcmMgPSBsaW5rO1xyXG5cclxuICAgIC8vIFNldCB0aGUgYWx0IHRleHQgb2YgdGhlIGltYWdlIHRvIHRoZSBwcm92aWRlZCBuYW1lXHJcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQuYWx0ID0gbmFtZTtcclxuXHJcbiAgICAvLyBTZXQgdGhlIGNhcHRpb24gdGV4dCB0byB0aGUgcHJvdmlkZWQgbmFtZVxyXG4gICAgdGhpcy5fY2FwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lO1xyXG5cclxuICAgIC8vIENhbGwgdGhlIHBhcmVudCBjbGFzcydzIG9wZW4gbWV0aG9kIHRvIGRpc3BsYXkgdGhlIHBvcHVwXHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJmb3JtVmFsaWRhdGlvblNldHRpbmdzIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsInNlbGVjdG9ycyIsInByb2ZpbGVFZGl0Rm9ybSIsImRvY3VtZW50IiwiZm9ybXMiLCJhZGRDYXJkRm9ybSIsInByb2ZpbGVFZGl0QnV0dG9uIiwicXVlcnlTZWxlY3RvciIsImFkZENhcmRCdXR0b24iLCJwcm9maWxlRWRpdFBvcHVwIiwiYWRkQ2FyZFBvcHVwIiwicGljdHVyZVBvcHVwIiwicHJvZmlsZVRpdGxlIiwicHJvZmlsZURlc2NyaXB0aW9uIiwicHJvZmlsZVRpdGxlSW5wdXQiLCJwcm9maWxlRGVzY3JpcHRpb25JbnB1dCIsImNhcmRMaXN0RWwiLCJhZGRDYXJkVGl0bGVJbnB1dCIsImFkZENhcmRVcmxJbnB1dCIsIkNhcmQiLCJjb25zdHJ1Y3RvciIsIl9yZWYiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVJbWFnZUNsaWNrIiwiY3VycmVudFVzZXJJZCIsImFwaSIsImhhbmRsZURlbGV0ZUNhcmQiLCJuYW1lIiwibGluayIsIl9pZCIsImlzTGlrZWQiLCJsaWtlcyIsIm93bmVyIiwidGhpcyIsIl9uYW1lIiwiX2xpbmsiLCJfaXNMaWtlZCIsIl9saWtlcyIsIl9vd25lciIsIl9jdXJyZW50VXNlcklkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2FwaSIsIl9oYW5kbGVEZWxldGVDYXJkIiwiX2NyZWF0ZUNhcmRFbGVtZW50IiwiY2FyZEVsZW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2NhcmRFbGVtZW50IiwiX2xpa2VCdXR0b24iLCJfdHJhc2hCdXR0b24iLCJfY2FyZEltYWdlRWwiLCJfY2FyZFRpdGxlRWwiLCJfbGlrZUNvdW50RWwiLCJ0ZXh0Q29udGVudCIsInNyYyIsImFsdCIsIl9zZXRMaWtlU3RhdGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJfdG9nZ2xlTGlrZSIsImRpc2xpa2VDYXJkIiwidGhlbiIsInVwZGF0ZWRDYXJkIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJsaWtlQ2FyZCIsIl9zZXRFdmVudExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJnZXRWaWV3IiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJfc2V0dGluZ3MiLCJfZm9ybUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9zdWJtaXRCdXR0b24iLCJfaGFzSW52YWxpZElucHV0Iiwic29tZSIsImlucHV0RWxlbWVudCIsInZhbGlkaXR5IiwidmFsaWQiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJkaXNhYmxlQnV0dG9uIiwiZGlzYWJsZWQiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiZXJyb3JFbGVtZW50IiwiaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImZvckVhY2giLCJlbmFibGVWYWxpZGF0aW9uIiwicmVzZXRWYWxpZGF0aW9uIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJvcGVuIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsInJlc2V0IiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiX2NoZWNrUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiX2hhbmRsZUVycm9yIiwiZ2V0SW5pdGlhbENhcmRzIiwiZmV0Y2giLCJnZXRVc2VySW5mbyIsInVwZGF0ZVVzZXJJbmZvIiwiX3JlZjIiLCJhYm91dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWRkQ2FyZCIsIl9yZWYzIiwiZGVsZXRlQ2FyZCIsImNhcmRJZCIsInVwZGF0ZUF2YXRhciIsImF2YXRhclVybCIsImF2YXRhciIsImF1dGhvcml6YXRpb24iLCJzYXZlUHJvZmlsZUJ1dHRvbiIsInNhdmVDYXJkQnV0dG9uIiwic2F2ZUF2YXRhckJ1dHRvbiIsImF2YXRhckVkaXRCdXR0b24iLCJ1c2VySW5mb0luc3RhbmNlIiwibmFtZVNlbGVjdG9yIiwiZGVzY3JpcHRpb25TZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWVFbGVtZW50IiwiX2Rlc2NyaXB0aW9uRWxlbWVudCIsIl9hdmF0YXJFbGVtZW50IiwiZGVzY3JpcHRpb24iLCJzZXRVc2VySW5mbyIsImRlbGV0ZVBvcHVwSW5zdGFuY2UiLCJjb25maXJtRGVsZXRlQnV0dG9uIiwiY29uZmlybURlbGV0ZSIsIm9uY2UiLCJjcmVhdGVDYXJkIiwiY2FyZERhdGEiLCJoYW5kbGVJbWFnZVBvcHVwIiwiY2FyZFNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlckl0ZW1zIiwiaXRlbXMiLCJpdGVtIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwidXNlckluZm8iLCJjYXJkcyIsInBpY3R1cmVQb3B1cEluc3RhbmNlIiwicHJvZmlsZUVkaXRQb3B1cEluc3RhbmNlIiwiZm9ybURhdGEiLCJ1cGRhdGVkVXNlckluZm8iLCJmaW5hbGx5IiwiYWRkQ2FyZFBvcHVwSW5zdGFuY2UiLCJ0aXRsZSIsInVybCIsIm5ld0NhcmQiLCJhdmF0YXJFZGl0UG9wdXAiLCJfaW1hZ2VFbGVtZW50IiwiX2NhcHRpb25FbGVtZW50IiwicHJvZmlsZUZvcm1WYWxpZGF0b3IiLCJjYXJkRm9ybVZhbGlkYXRvciIsImhhbmRsZVByb2ZpbGVFZGl0IiwidXNlckRhdGEiXSwic291cmNlUm9vdCI6IiJ9
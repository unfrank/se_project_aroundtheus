!function(){"use strict";const e={inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error"},t={profileEditForm:document.forms["profile-form"],addCardForm:document.forms["card-form"],profileEditButton:document.querySelector("#profile-edit-button"),addCardButton:document.querySelector("#profile-add-button"),profileEditPopup:document.querySelector("#profile-edit-popup"),addCardPopup:document.querySelector("#add-card-popup"),picturePopup:document.querySelector("#picture-popup"),profileTitle:document.querySelector(".profile__title"),profileDescription:document.querySelector(".profile__description"),profileTitleInput:document.querySelector("#profile-title-input"),profileDescriptionInput:document.querySelector("#profile-description-input"),cardListEl:document.querySelector(".cards__list"),addCardTitleInput:document.querySelector("#add-card-title"),addCardUrlInput:document.querySelector("#add-card-url")};class r{constructor(e,t,r,s,i,n){let{name:o,link:a,_id:l,isLiked:c,likes:d=[],owner:h}=e;this._name=o,this._link=a,this._id=l,this._isLiked=c,this._likes=d,this._owner=h,this._currentUserId=s,this._cardSelector=t,this._handleImageClick=r,this._api=i,this._handleDeleteCard=n}_createCardElement(){const e=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0);return this._cardElement=e,this._likeButton=this._cardElement.querySelector(".card__like-button"),this._trashButton=this._cardElement.querySelector(".card__trash-button"),this._cardImageEl=this._cardElement.querySelector(".card__image"),this._cardTitleEl=this._cardElement.querySelector(".card__title"),this._likeCountEl=this._cardElement.querySelector(".card__like-count"),this._cardTitleEl.textContent=this._name,this._cardImageEl.src=this._link,this._cardImageEl.alt=this._name,this._setLikeState(),this._cardElement}_setLikeState(){this._isLiked?this._likeButton.classList.add("card__like-button_active"):this._likeButton.classList.remove("card__like-button_active")}_toggleLike(){this._isLiked?this._api.dislikeCard(this._id).then((e=>{this._isLiked=!1,this._likes=e.likes||[],this._setLikeState()})).catch((e=>console.error(`Error unliking card: ${e}`))):this._api.likeCard(this._id).then((e=>{this._isLiked=!0,this._likes=e.likes||[],this._setLikeState()})).catch((e=>console.error(`Error liking card: ${e}`)))}_setEventListeners(){this._likeButton.addEventListener("click",(()=>{this._toggleLike()})),this._owner===this._currentUserId&&this._trashButton.addEventListener("click",(()=>this._handleDeleteCard(this._cardElement,this._id))),this._cardImageEl.addEventListener("click",(()=>this._handleImageClick(this._link,this._name)))}getView(){return this._createCardElement(),this._setEventListeners(),this._cardElement}}class s{constructor(e,t){this._settings=e,this._formElement=t,this._inputList=Array.from(this._formElement.querySelectorAll(this._settings.inputSelector)),this._submitButton=this._formElement.querySelector(this._settings.submitButtonSelector)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?this.disableButton():(this._submitButton.classList.remove(this._settings.inactiveButtonClass),this._submitButton.disabled=!1)}_checkInputValidity(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.validity.valid?(e.classList.remove(this._settings.inputErrorClass),t.textContent=""):(e.classList.add(this._settings.inputErrorClass),t.textContent=e.validationMessage)}_setEventListeners(){this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._setEventListeners()}resetValidation(){this._inputList.forEach((e=>{const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._settings.inputErrorClass),t.textContent=""})),this._toggleButtonState()}disableButton(){this._submitButton.classList.add(this._settings.inactiveButtonClass),this._submitButton.disabled=!0}}class i{constructor(e){this._popupElement=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}setEventListeners(){this._popupElement.querySelector(".popup__close").addEventListener("click",(()=>{this.close()})),this._popupElement.addEventListener("mousedown",(e=>{e.target===this._popupElement&&this.close()}))}}class n extends i{constructor(e,t){super(e),this._handleFormSubmit=t,this._formElement=this._popupElement.querySelector(".popup__form"),this._inputList=Array.from(this._formElement.querySelectorAll(".popup__input"))}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){super.setEventListeners(),this._formElement.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues()),this._formElement.reset()}))}}const o=new class{constructor(e){let{baseUrl:t,headers:r}=e;this._baseUrl=t,this._headers=r}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}_handleError(e){return console.error(e),Promise.reject(e)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>(console.error("API error:",e),Promise.reject(e))))}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._checkResponse).catch(this._handleError)}updateUserInfo(e){let{name:t,about:r}=e;return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:r})}).then(this._checkResponse).catch(this._handleError)}addCard(e){let{name:t,link:r}=e;return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:r})}).then(this._checkResponse).catch(this._handleError)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._checkResponse).catch(this._handleError)}likeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then(this._checkResponse).catch(this._handleError)}dislikeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then(this._checkResponse).catch(this._handleError)}updateAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkResponse).catch(this._handleError)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"765a56ab-1403-4444-8fac-5fc1871e9695","Content-Type":"application/json"}}),{profileEditForm:a,addCardForm:l,profileEditButton:c,addCardButton:d,profileTitleInput:h,profileDescriptionInput:u}=t,_=document.querySelector("#profile-edit-popup .popup__button"),p=document.querySelector("#add-card-popup .popup__button"),m=document.querySelector("#avatar-edit-popup .popup__button"),E=document.querySelector("#edit-avatar-button"),v=new class{constructor(e){let{nameSelector:t,descriptionSelector:r,avatarSelector:s}=e;this._nameElement=document.querySelector(t),this._descriptionElement=document.querySelector(r),this._avatarElement=document.querySelector(s)}getUserInfo(){return{name:this._nameElement.textContent,description:this._descriptionElement.textContent,avatar:this._avatarElement.src}}setUserInfo(e){let{name:t,description:r,avatar:s}=e;this._nameElement.textContent=t,this._descriptionElement.textContent=r,s&&(this._avatarElement.src=s)}}({nameSelector:".profile__title",descriptionSelector:".profile__description",avatarSelector:".profile__image"}),k=(e,t)=>{const r=document.querySelector("#delete-card-popup"),s=document.querySelector("#confirm-delete-button"),i=()=>{o.deleteCard(t).then((()=>{e.remove(),r.classList.remove("popup_opened")})).catch((e=>console.error(`Error deleting card: ${e}`)))};s.addEventListener("click",i,{once:!0}),r.classList.add("popup_opened"),r.querySelector(".popup__close").addEventListener("click",(()=>{r.classList.remove("popup_opened"),s.removeEventListener("click",i)}))},f=e=>new r(e,"#card-template",L,y,o,k).getView(),S=new class{constructor(e,t){let{renderer:r}=e;this._renderer=r,this._container=document.querySelector(t)}renderItems(e){e.forEach((e=>this._renderer(e)))}addItem(e){this._container.prepend(e)}}({renderer:e=>{const t=f(e);S.addItem(t)}},".cards__list");let y;o.getUserInfo().then((e=>(v.setUserInfo({name:e.name,description:e.about,avatar:e.avatar}),y=e._id,o.getInitialCards()))).then((e=>{e.forEach((e=>{const t=f({name:e.name,link:e.link,_id:e._id,owner:e.owner,likes:e.likes});S.addItem(t)}))})).catch((e=>console.error("Error fetching user info or cards:",e)));const L=(e,t)=>{q.open({name:t,link:e})},g=new n("#profile-edit-popup",(e=>{_.textContent="Saving...",o.updateUserInfo({name:e.name,about:e.description}).then((e=>{v.setUserInfo({name:e.name,description:e.about,avatar:e.avatar}),g.close()})).catch((e=>{console.error("Error updating profile:",e)})).finally((()=>{_.textContent="Save"}))}));g.setEventListeners();const C=new n("#add-card-popup",(e=>{p.textContent="Saving...",o.addCard({name:e.title,link:e.url}).then((e=>{const t=f({name:e.name,link:e.link,_id:e._id,owner:e.owner,likes:e.likes});S.addItem(t),C._formElement.reset(),C.close(),p.textContent="Save"})).catch((e=>console.error("Error adding card:",e)))}));C.setEventListeners();const b=new n("#avatar-edit-popup",(e=>{m.textContent="Saving...",o.updateAvatar(e.avatar).then((e=>{document.querySelector(".profile__image").src=e.avatar,b.close()})).catch((e=>console.error("Error updating avatar:",e))).finally((()=>{m.textContent="Save"}))}));b.setEventListeners(),E.addEventListener("click",(()=>{b.open()}));const q=new class extends i{constructor(e){super(e),this._imageElement=this._popupElement.querySelector(".popup__image"),this._captionElement=this._popupElement.querySelector(".popup__caption")}open(e){let{name:t,link:r}=e;this._imageElement.src=r,this._imageElement.alt=t,this._captionElement.textContent=t,super.open()}}("#picture-popup");q.setEventListeners();const I=new s(e,a),B=new s(e,l);I.enableValidation(),B.enableValidation(),c.addEventListener("click",(()=>{const e=v.getUserInfo();h.value=e.name,u.value=e.description,I.resetValidation(),g.open()})),d.addEventListener("click",(()=>{C.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFjLGtCQUMxRCxDQUdBZ0csSUFBQUEsQ0FBSWxGLEdBQWlCLElBQWhCLEtBQUVNLEVBQUksS0FBRUMsR0FBTVAsRUFFakJZLEtBQUtnSyxjQUFjMUksSUFBTTNCLEVBR3pCSyxLQUFLZ0ssY0FBY3pJLElBQU03QixFQUd6Qk0sS0FBS2lLLGdCQUFnQjVJLFlBQWMzQixFQUduQ3FGLE1BQU1ULE1BQ1IsR0p1TThDLGtCQUNoRGdGLEVBQXFCM0Usb0JBR3JCLE1BQU11RixFQUF1QixJQUFJMUgsRUFDL0I3RSxFQUNBTSxHQUVJa00sRUFBb0IsSUFBSTNILEVBQzVCN0UsRUFDQVMsR0FJRjhMLEVBQXFCbkcsbUJBQ3JCb0csRUFBa0JwRyxtQkFHbEIxRixFQUFrQmlFLGlCQUFpQixTQXBIVDhILEtBQ3hCLE1BQU1DLEVBQVc1QyxFQUFpQnBCLGNBQ2xDeEgsRUFBa0J1RyxNQUFRaUYsRUFBUzNLLEtBQ25DWixFQUF3QnNHLE1BQVFpRixFQUFTckMsWUFDekNrQyxFQUFxQmxHLGtCQUNyQnVGLEVBQXlCakYsTUFBTSxJQWdIakMvRixFQUFjK0QsaUJBQWlCLFNBQVMsS0FDdENxSCxFQUFxQnJGLE1BQU0sRyIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZvcm0gVmFsaWRhdGlvbiBTZXR0aW5nc1xyXG5leHBvcnQgY29uc3QgZm9ybVZhbGlkYXRpb25TZXR0aW5ncyA9IHtcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J1dHRvbl9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG59O1xyXG5cclxuLy8gSW5pdGlhbCBDYXJkc1xyXG5leHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFrZS1sb3Vpc2UuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvYmFsZC1tb3VudGFpbnMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYXRlbWFyLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhZ28uanBnXCIsXHJcbiAgfSxcclxuXTtcclxuXHJcbi8vIEVsZW1lbnQgU2VsZWN0b3JzXHJcbmV4cG9ydCBjb25zdCBzZWxlY3RvcnMgPSB7XHJcbiAgcHJvZmlsZUVkaXRGb3JtOiBkb2N1bWVudC5mb3Jtc1tcInByb2ZpbGUtZm9ybVwiXSxcclxuICBhZGRDYXJkRm9ybTogZG9jdW1lbnQuZm9ybXNbXCJjYXJkLWZvcm1cIl0sXHJcbiAgcHJvZmlsZUVkaXRCdXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LWJ1dHRvblwiKSxcclxuICBhZGRDYXJkQnV0dG9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtYWRkLWJ1dHRvblwiKSxcclxuICBwcm9maWxlRWRpdFBvcHVwOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdC1wb3B1cFwiKSxcclxuICBhZGRDYXJkUG9wdXA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtcG9wdXBcIiksXHJcbiAgcGljdHVyZVBvcHVwOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BpY3R1cmUtcG9wdXBcIiksXHJcbiAgcHJvZmlsZVRpdGxlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3RpdGxlXCIpLFxyXG4gIHByb2ZpbGVEZXNjcmlwdGlvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiKSxcclxuICBwcm9maWxlVGl0bGVJbnB1dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXRpdGxlLWlucHV0XCIpLFxyXG4gIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZGVzY3JpcHRpb24taW5wdXRcIiksXHJcbiAgY2FyZExpc3RFbDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKSxcclxuICBhZGRDYXJkVGl0bGVJbnB1dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC10aXRsZVwiKSxcclxuICBhZGRDYXJkVXJsSW5wdXQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtdXJsXCIpLFxyXG59O1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICAvLyBDb25zdHJ1Y3RvciBpbml0aWFsaXplcyB0aGUgY2FyZCBvYmplY3Qgd2l0aCBpdHMgcHJvcGVydGllcyBhbmQgaGFuZGxlcyBwYXNzZWQgYXMgYXJndW1lbnRzXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICB7IG5hbWUsIGxpbmssIF9pZCwgaXNMaWtlZCwgbGlrZXMgPSBbXSwgb3duZXIgfSxcclxuICAgIGNhcmRTZWxlY3RvcixcclxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXHJcbiAgICBjdXJyZW50VXNlcklkLFxyXG4gICAgYXBpLFxyXG4gICAgaGFuZGxlRGVsZXRlQ2FyZFxyXG4gICkge1xyXG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7IC8vIENhcmQncyBuYW1lL3RpdGxlXHJcbiAgICB0aGlzLl9saW5rID0gbGluazsgLy8gVVJMIHRvIHRoZSBjYXJkJ3MgaW1hZ2VcclxuICAgIHRoaXMuX2lkID0gX2lkOyAvLyBVbmlxdWUgSUQgb2YgdGhlIGNhcmRcclxuICAgIHRoaXMuX2lzTGlrZWQgPSBpc0xpa2VkOyAvLyBXaGV0aGVyIHRoZSBjdXJyZW50IHVzZXIgaGFzIGxpa2VkIHRoZSBjYXJkXHJcbiAgICB0aGlzLl9saWtlcyA9IGxpa2VzOyAvLyBBcnJheSBvZiB1c2VycyB3aG8gaGF2ZSBsaWtlZCB0aGUgY2FyZFxyXG4gICAgdGhpcy5fb3duZXIgPSBvd25lcjsgLy8gSUQgb2YgdGhlIHVzZXIgd2hvIG93bnMgdGhlIGNhcmRcclxuICAgIHRoaXMuX2N1cnJlbnRVc2VySWQgPSBjdXJyZW50VXNlcklkOyAvLyBJRCBvZiB0aGUgY3VycmVudCB1c2VyICh0byBjaGVjayBvd25lcnNoaXApXHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7IC8vIFRlbXBsYXRlIHNlbGVjdG9yIGZvciBjcmVhdGluZyB0aGUgY2FyZFxyXG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7IC8vIEZ1bmN0aW9uIHRvIGhhbmRsZSBpbWFnZSBjbGljayBldmVudHMgKGZvciBvcGVuaW5nIGEgbGFyZ2VyIGltYWdlKVxyXG4gICAgdGhpcy5fYXBpID0gYXBpOyAvLyBSZWZlcmVuY2UgdG8gdGhlIEFQSSBjbGFzcyB0byBtYWtlIGxpa2UvdW5saWtlIHJlcXVlc3RzXHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkID0gaGFuZGxlRGVsZXRlQ2FyZDsgLy8gRnVuY3Rpb24gdG8gaGFuZGxlIGNhcmQgZGVsZXRpb25cclxuICB9XHJcblxyXG4gIC8vIFByaXZhdGUgbWV0aG9kIHRvIGNyZWF0ZSBhbmQgcmV0dXJuIHRoZSBjYXJkIGVsZW1lbnQgZnJvbSB0aGUgdGVtcGxhdGVcclxuICBfY3JlYXRlQ2FyZEVsZW1lbnQoKSB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcikgLy8gU2VsZWN0IHRoZSBjYXJkIHRlbXBsYXRlXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKSAvLyBTZWxlY3QgdGhlIGNhcmQgc3RydWN0dXJlIGluc2lkZSB0aGUgdGVtcGxhdGVcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTsgLy8gQ2xvbmUgdGhlIHN0cnVjdHVyZSB0byBjcmVhdGUgYSBuZXcgY2FyZFxyXG5cclxuICAgIC8vIFN0b3JlIHJlZmVyZW5jZXMgdG8gdmFyaW91cyBjYXJkIGVsZW1lbnRzXHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IGNhcmRFbGVtZW50O1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XHJcbiAgICB0aGlzLl90cmFzaEJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdHJhc2gtYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlRWwgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xyXG4gICAgdGhpcy5fbGlrZUNvdW50RWwgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtY291bnRcIik7XHJcblxyXG4gICAgLy8gU2V0IHRoZSBjYXJkJ3MgdGl0bGUsIGltYWdlIHNvdXJjZSwgYW5kIGFsdCB0ZXh0XHJcbiAgICB0aGlzLl9jYXJkVGl0bGVFbC50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwuYWx0ID0gdGhpcy5fbmFtZTtcclxuXHJcbiAgICAvLyBTZXQgdGhlIGluaXRpYWwgbGlrZSBzdGF0ZSAoYWN0aXZlL2luYWN0aXZlKVxyXG4gICAgdGhpcy5fc2V0TGlrZVN0YXRlKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50OyAvLyBSZXR1cm4gdGhlIGNvbnN0cnVjdGVkIGNhcmQgZWxlbWVudFxyXG4gIH1cclxuXHJcbiAgLy8gUHJpdmF0ZSBtZXRob2QgdG8gdXBkYXRlIHRoZSBsaWtlIGJ1dHRvbidzIHN0YXRlIChhY3RpdmUgaWYgbGlrZWQpXHJcbiAgX3NldExpa2VTdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9pc0xpa2VkKSB7XHJcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFByaXZhdGUgbWV0aG9kIHRvIHRvZ2dsZSBsaWtlL3VubGlrZSBiZWhhdmlvclxyXG4gIF90b2dnbGVMaWtlKCkge1xyXG4gICAgaWYgKHRoaXMuX2lzTGlrZWQpIHtcclxuICAgICAgLy8gSWYgY2FyZCBpcyBsaWtlZCwgc2VuZCByZXF1ZXN0IHRvIHVubGlrZSB0aGUgY2FyZFxyXG4gICAgICB0aGlzLl9hcGlcclxuICAgICAgICAuZGlzbGlrZUNhcmQodGhpcy5faWQpXHJcbiAgICAgICAgLnRoZW4oKHVwZGF0ZWRDYXJkKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl9pc0xpa2VkID0gZmFsc2U7IC8vIFVwZGF0ZSBsb2NhbCBsaWtlIHN0YXRlXHJcbiAgICAgICAgICB0aGlzLl9saWtlcyA9IHVwZGF0ZWRDYXJkLmxpa2VzIHx8IFtdOyAvLyBVcGRhdGUgbGlrZXMgYXJyYXlcclxuICAgICAgICAgIHRoaXMuX3NldExpa2VTdGF0ZSgpOyAvLyBVcGRhdGUgdGhlIFVJIHRvIHJlZmxlY3QgbmV3IGxpa2Ugc3RhdGVcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGBFcnJvciB1bmxpa2luZyBjYXJkOiAke2Vycn1gKSk7IC8vIEhhbmRsZSBlcnJvcnNcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIElmIGNhcmQgaXMgbm90IGxpa2VkLCBzZW5kIHJlcXVlc3QgdG8gbGlrZSB0aGUgY2FyZFxyXG4gICAgICB0aGlzLl9hcGlcclxuICAgICAgICAubGlrZUNhcmQodGhpcy5faWQpXHJcbiAgICAgICAgLnRoZW4oKHVwZGF0ZWRDYXJkKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl9pc0xpa2VkID0gdHJ1ZTsgLy8gVXBkYXRlIGxvY2FsIGxpa2Ugc3RhdGVcclxuICAgICAgICAgIHRoaXMuX2xpa2VzID0gdXBkYXRlZENhcmQubGlrZXMgfHwgW107IC8vIFVwZGF0ZSBsaWtlcyBhcnJheVxyXG4gICAgICAgICAgdGhpcy5fc2V0TGlrZVN0YXRlKCk7IC8vIFVwZGF0ZSB0aGUgVUkgdG8gcmVmbGVjdCBuZXcgbGlrZSBzdGF0ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoYEVycm9yIGxpa2luZyBjYXJkOiAke2Vycn1gKSk7IC8vIEhhbmRsZSBlcnJvcnNcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFByaXZhdGUgbWV0aG9kIHRvIHNldCB1cCBldmVudCBsaXN0ZW5lcnMgZm9yIGNhcmQgYWN0aW9uc1xyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIC8vIExpc3RlbiBmb3IgbGlrZSBidXR0b24gY2xpY2tzIHRvIHRvZ2dsZSBsaWtlL3VubGlrZVxyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl90b2dnbGVMaWtlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBJZiB0aGUgY2FyZCBiZWxvbmdzIHRvIHRoZSBjdXJyZW50IHVzZXIsIHNldCB1cCB0aGUgZGVsZXRlIGJ1dHRvblxyXG4gICAgaWYgKHRoaXMuX293bmVyID09PSB0aGlzLl9jdXJyZW50VXNlcklkKSB7XHJcbiAgICAgIHRoaXMuX3RyYXNoQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgXCJjbGlja1wiLFxyXG4gICAgICAgICgpID0+IHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQodGhpcy5fY2FyZEVsZW1lbnQsIHRoaXMuX2lkKSAvLyBDYWxsIGRlbGV0ZSBoYW5kbGVyIHdpdGggY2FyZCBpbmZvXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTGlzdGVuIGZvciBpbWFnZSBjbGlja3MgdG8gb3BlbiBhIGxhcmdlciB2aWV3IG9mIHRoZSBpbWFnZVxyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJjbGlja1wiLFxyXG4gICAgICAoKSA9PiB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHRoaXMuX2xpbmssIHRoaXMuX25hbWUpIC8vIENhbGwgaW1hZ2UgY2xpY2sgaGFuZGxlclxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIFB1YmxpYyBtZXRob2QgdG8gY3JlYXRlIHRoZSBjYXJkIHZpZXcgYW5kIHNldCB1cCBldmVudCBsaXN0ZW5lcnNcclxuICBnZXRWaWV3KCkge1xyXG4gICAgdGhpcy5fY3JlYXRlQ2FyZEVsZW1lbnQoKTsgLy8gQ3JlYXRlIHRoZSBjYXJkIGVsZW1lbnRcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7IC8vIEF0dGFjaCBldmVudCBsaXN0ZW5lcnMgdG8gdGhlIGNhcmRcclxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDsgLy8gUmV0dXJuIHRoZSBjcmVhdGVkIGNhcmQgZWxlbWVudFxyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICAvLyBDb25zdHJ1Y3RvciBpbml0aWFsaXplcyB0aGUgY2xhc3Mgd2l0aCB2YWxpZGF0aW9uIHNldHRpbmdzIGFuZCB0aGUgZm9ybSBlbGVtZW50IHRvIGJlIHZhbGlkYXRlZFxyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5fc2V0dGluZ3MgPSBzZXR0aW5nczsgLy8gT2JqZWN0IGNvbnRhaW5pbmcgdmFsaWRhdGlvbiBzZXR0aW5ncyAoc2VsZWN0b3JzLCBjbGFzc2VzKVxyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDsgLy8gVGhlIGZvcm0gZWxlbWVudCB0aGF0IHdpbGwgYmUgdmFsaWRhdGVkXHJcblxyXG4gICAgLy8gQ3JlYXRlIGFuIGFycmF5IG9mIGFsbCBpbnB1dCBlbGVtZW50cyBpbnNpZGUgdGhlIGZvcm1cclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fc2V0dGluZ3MuaW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcblxyXG4gICAgLy8gU2VsZWN0IHRoZSBzdWJtaXQgYnV0dG9uIGluc2lkZSB0aGUgZm9ybVxyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgdGhpcy5fc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvLyBQcml2YXRlIG1ldGhvZCB0byBjaGVjayBpZiBhbnkgaW5wdXQgZmllbGQgaXMgaW52YWxpZFxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICAvLyBDaGVjayBpZiBhbnkgaW5wdXQgZmllbGQgaW4gdGhlIGZvcm0gaXMgaW52YWxpZFxyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+ICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpO1xyXG4gIH1cclxuXHJcbiAgLy8gUHJpdmF0ZSBtZXRob2QgdG8gZW5hYmxlIG9yIGRpc2FibGUgdGhlIHN1Ym1pdCBidXR0b24gYmFzZWQgb24gZm9ybSB2YWxpZGl0eVxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIC8vIElmIHRoZXJlJ3MgYW55IGludmFsaWQgaW5wdXQsIGRpc2FibGUgdGhlIHN1Ym1pdCBidXR0b247IG90aGVyd2lzZSwgZW5hYmxlIGl0XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgdGhpcy5kaXNhYmxlQnV0dG9uKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBQcml2YXRlIG1ldGhvZCB0byBjaGVjayB0aGUgdmFsaWRpdHkgb2YgYSBzcGVjaWZpYyBpbnB1dCBlbGVtZW50IGFuZCBzaG93L2hpZGUgZXJyb3IgbWVzc2FnZXNcclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgLy8gRmluZCB0aGUgY29ycmVzcG9uZGluZyBlcnJvciBtZXNzYWdlIGVsZW1lbnQgZm9yIHRoZSBpbnB1dCBmaWVsZFxyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG5cclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIC8vIEFkZCB0aGUgZXJyb3IgY2xhc3MgYW5kIHNob3cgdGhlIHZhbGlkYXRpb24gbWVzc2FnZSBpZiB0aGUgaW5wdXQgaXMgaW52YWxpZFxyXG4gICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBSZW1vdmUgdGhlIGVycm9yIGNsYXNzIGFuZCBjbGVhciB0aGUgZXJyb3IgbWVzc2FnZSBpZiB0aGUgaW5wdXQgaXMgdmFsaWRcclxuICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFByaXZhdGUgbWV0aG9kIHRvIHNldCB1cCBldmVudCBsaXN0ZW5lcnMgZm9yIGlucHV0IGZpZWxkc1xyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIC8vIENoZWNrIHRoZSBidXR0b24gc3RhdGUgaW5pdGlhbGx5IGluIGNhc2Ugc29tZSBmaWVsZHMgYXJlIGFscmVhZHkgZmlsbGVkXHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG5cclxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnMgdG8gYWxsIGlucHV0IGZpZWxkcyBpbiB0aGUgZm9ybVxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICAvLyBDaGVjayB0aGUgdmFsaWRpdHkgb2YgdGhlIGlucHV0IGZpZWxkIGluIHJlYWwtdGltZSBhbmQgdXBkYXRlIHRoZSBidXR0b24gc3RhdGVcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gUHVibGljIG1ldGhvZCB0byBlbmFibGUgdmFsaWRhdGlvbiAoc2V0cyB1cCB0aGUgZXZlbnQgbGlzdGVuZXJzIGZvciB0aGUgZm9ybSlcclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIC8vIFB1YmxpYyBtZXRob2QgdG8gcmVzZXQgZm9ybSB2YWxpZGF0aW9uIChjbGVhciBlcnJvcnMgYW5kIHJlc2V0IGJ1dHRvbiBzdGF0ZSlcclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIGlucHV0IGZpZWxkcyBpbiB0aGUgZm9ybVxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgICApO1xyXG4gICAgICAvLyBSZW1vdmUgYW55IGVycm9yIGNsYXNzZXMgYW5kIGNsZWFyIGVycm9yIG1lc3NhZ2VzXHJcbiAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBSZXNldCB0aGUgc3VibWl0IGJ1dHRvbidzIHN0YXRlXHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gUHVibGljIG1ldGhvZCB0byBkaXNhYmxlIHRoZSBzdWJtaXQgYnV0dG9uXHJcbiAgZGlzYWJsZUJ1dHRvbigpIHtcclxuICAgIC8vIEFkZCBhIGNsYXNzIHRvIGRpc2FibGUgdGhlIGJ1dHRvbiBhbmQgc2V0IHRoZSBkaXNhYmxlZCBhdHRyaWJ1dGUgdG8gdHJ1ZVxyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH1cclxufVxyXG4iLCIvLyBUaGlzIGNsYXNzIGhhbmRsZXMgdGhlIGJhc2ljIGZ1bmN0aW9uYWxpdHkgZm9yIG9wZW5pbmcgYW5kIGNsb3NpbmcgcG9wdXBzLlxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgLy8gU2VsZWN0IHRoZSBwb3B1cCBlbGVtZW50IHVzaW5nIHRoZSBwcm92aWRlZCBzZWxlY3Rvci5cclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcblxyXG4gICAgLy8gQmluZCB0aGUgY29udGV4dCBvZiB0aGUgX2hhbmRsZUVzY0Nsb3NlIG1ldGhvZCB0byB0aGlzIGluc3RhbmNlXHJcbiAgICAvLyBUaGlzIGVuc3VyZXMgdGhhdCB0aGUgJ3RoaXMnIGtleXdvcmQgaW5zaWRlIF9oYW5kbGVFc2NDbG9zZSByZWZlcnMgdG8gdGhlIGNsYXNzIGluc3RhbmNlXHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICAvLyBNZXRob2QgdG8gb3BlbiB0aGUgcG9wdXAgYW5kIGFkZCBhbiBldmVudCBsaXN0ZW5lciB0byBkZXRlY3QgdGhlIFwiRXNjYXBlXCIga2V5IHByZXNzXHJcbiAgb3BlbigpIHtcclxuICAgIC8vIEFkZCBhIGNsYXNzIHRvIG9wZW4gdGhlIHBvcHVwXHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcclxuXHJcbiAgICAvLyBBdHRhY2ggYW4gZXZlbnQgbGlzdGVuZXIgdG8gdGhlIGRvY3VtZW50IHRvIGRldGVjdCB0aGUgXCJFc2NhcGVcIiBrZXkgcHJlc3MgYW5kIGNsb3NlIHRoZSBwb3B1cFxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgLy8gTWV0aG9kIHRvIGNsb3NlIHRoZSBwb3B1cCBhbmQgcmVtb3ZlIHRoZSBcIkVzY2FwZVwiIGtleSBldmVudCBsaXN0ZW5lclxyXG4gIGNsb3NlKCkge1xyXG4gICAgLy8gUmVtb3ZlIHRoZSBjbGFzcyB0aGF0IG9wZW5zIHRoZSBwb3B1cFxyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XHJcblxyXG4gICAgLy8gUmVtb3ZlIHRoZSBcImtleWRvd25cIiBldmVudCBsaXN0ZW5lciB3aGVuIHRoZSBwb3B1cCBpcyBjbG9zZWRcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIC8vIFByaXZhdGUgbWV0aG9kIHRvIGhhbmRsZSBjbG9zaW5nIHRoZSBwb3B1cCB3aGVuIHRoZSBcIkVzY2FwZVwiIGtleSBpcyBwcmVzc2VkXHJcbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xyXG4gICAgLy8gSWYgdGhlIFwiRXNjYXBlXCIga2V5IGlzIHByZXNzZWQsIGNsb3NlIHRoZSBwb3B1cFxyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gTWV0aG9kIHRvIHNldCB1cCBldmVudCBsaXN0ZW5lcnMgZm9yIHRoZSBwb3B1cCAoY2xvc2UgYnV0dG9uIGFuZCBiYWNrZ3JvdW5kIGNsaWNrKVxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgLy8gRmluZCBhbmQgYXR0YWNoIGFuIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBjbG9zZSBidXR0b24gb2YgdGhlIHBvcHVwXHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTsgLy8gQ2xvc2UgdGhlIHBvcHVwIHdoZW4gdGhlIGNsb3NlIGJ1dHRvbiBpcyBjbGlja2VkXHJcbiAgICAgIH0pO1xyXG5cclxuICAgIC8vIEFkZCBhbiBldmVudCBsaXN0ZW5lciB0byB0aGUgcG9wdXAgdG8gY2xvc2UgaXQgd2hlbiBjbGlja2luZyBvbiB0aGUgYmFja2dyb3VuZCAob3V0c2lkZSB0aGUgcG9wdXAgY29udGVudClcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldnQpID0+IHtcclxuICAgICAgLy8gSWYgdGhlIHVzZXIgY2xpY2tzIGRpcmVjdGx5IG9uIHRoZSBwb3B1cCBiYWNrZ3JvdW5kLCBjbG9zZSB0aGUgcG9wdXBcclxuICAgICAgaWYgKGV2dC50YXJnZXQgPT09IHRoaXMuX3BvcHVwRWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsIi8vIEltcG9ydCB0aGUgYmFzZSBQb3B1cCBjbGFzc1xyXG5pbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbi8vIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB0byBoYW5kbGUgZm9ybXMgaW5zaWRlIGEgcG9wdXBcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICAvLyBDb25zdHJ1Y3RvciB0YWtlcyB0aGUgcG9wdXAgc2VsZWN0b3IgYW5kIGEgZnVuY3Rpb24gdG8gaGFuZGxlIGZvcm0gc3VibWlzc2lvblxyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIC8vIENhbGwgdGhlIHBhcmVudCBjbGFzcyAoUG9wdXApIGNvbnN0cnVjdG9yIHdpdGggdGhlIHBvcHVwU2VsZWN0b3JcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG5cclxuICAgIC8vIFN0b3JlIHRoZSBmb3JtIHN1Ym1pc3Npb24gaGFuZGxlciBmdW5jdGlvblxyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcblxyXG4gICAgLy8gU2VsZWN0IHRoZSBmb3JtIGVsZW1lbnQgaW5zaWRlIHRoZSBwb3B1cFxyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuXHJcbiAgICAvLyBTZWxlY3QgYWxsIGlucHV0IGZpZWxkcyBpbnNpZGUgdGhlIGZvcm0gYW5kIGNvbnZlcnQgdGhlbSB0byBhbiBhcnJheVxyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIilcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvLyBQcml2YXRlIG1ldGhvZCB0byBnZXQgdGhlIHZhbHVlcyBmcm9tIGFsbCBpbnB1dCBmaWVsZHNcclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICAvLyBDcmVhdGUgYW4gZW1wdHkgb2JqZWN0IHRvIHN0b3JlIHRoZSBpbnB1dCB2YWx1ZXNcclxuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XHJcblxyXG4gICAgLy8gSXRlcmF0ZSBvdmVyIGFsbCBpbnB1dCBlbGVtZW50cyBhbmQgc3RvcmUgdGhlaXIgbmFtZSBhbmQgdmFsdWUgaW4gdGhlIG9iamVjdFxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBSZXR1cm4gdGhlIG9iamVjdCBjb250YWluaW5nIGFsbCBpbnB1dCB2YWx1ZXNcclxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcclxuICB9XHJcblxyXG4gIC8vIE1ldGhvZCB0byBzZXQgZXZlbnQgbGlzdGVuZXJzIGZvciB0aGUgcG9wdXBcclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIC8vIENhbGwgdGhlIHBhcmVudCBjbGFzcydzIHNldEV2ZW50TGlzdGVuZXJzIG1ldGhvZCB0byBhZGQgZ2VuZXJhbCBwb3B1cCBsaXN0ZW5lcnNcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgLy8gQWRkIGEgc3VibWl0IGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBmb3JtXHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgLy8gUHJldmVudCB0aGUgZGVmYXVsdCBmb3JtIHN1Ym1pc3Npb24gYmVoYXZpb3JcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAvLyBDYWxsIHRoZSBmb3JtIHN1Ym1pc3Npb24gaGFuZGxlciB3aXRoIHRoZSBpbnB1dCB2YWx1ZXNcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuXHJcbiAgICAgIC8vIFJlc2V0IHRoZSBmb3JtIGFmdGVyIHN1Ym1pc3Npb25cclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucmVzZXQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCIvLyBJbXBvcnRzIG1vZHVsZXMgYW5kIGNsYXNzZXNcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IHsgZm9ybVZhbGlkYXRpb25TZXR0aW5ncywgc2VsZWN0b3JzIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XHJcblxyXG4vLyBJbml0aWFsaXplIHRoZSBBUEkgaW5zdGFuY2Ugd2l0aCB0aGUgYmFzZSBVUkwgYW5kIGhlYWRlcnMgKGluY2x1ZGluZyBhdXRob3JpemF0aW9uKVxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCI3NjVhNTZhYi0xNDAzLTQ0NDQtOGZhYy01ZmMxODcxZTk2OTVcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuLy8gRGVzdHJ1Y3R1cmVkIHNlbGVjdG9ycyBmcm9tIHRoZSBjb25zdGFudHMgZmlsZSBmb3IgZWFzeSBhY2Nlc3MgdG8gRE9NIGVsZW1lbnRzXHJcbmNvbnN0IHtcclxuICBwcm9maWxlRWRpdEZvcm0sXHJcbiAgYWRkQ2FyZEZvcm0sXHJcbiAgcHJvZmlsZUVkaXRCdXR0b24sXHJcbiAgYWRkQ2FyZEJ1dHRvbixcclxuICBwcm9maWxlVGl0bGVJbnB1dCxcclxuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCxcclxufSA9IHNlbGVjdG9ycztcclxuXHJcbi8vIENhY2hlIERPTSBlbGVtZW50cyBmb3IgYnV0dG9ucyB0byBhdm9pZCBxdWVyeWluZyB0aGUgRE9NIHJlcGVhdGVkbHlcclxuY29uc3Qgc2F2ZVByb2ZpbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiI3Byb2ZpbGUtZWRpdC1wb3B1cCAucG9wdXBfX2J1dHRvblwiXHJcbik7XHJcbmNvbnN0IHNhdmVDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1wb3B1cCAucG9wdXBfX2J1dHRvblwiKTtcclxuY29uc3Qgc2F2ZUF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIjYXZhdGFyLWVkaXQtcG9wdXAgLnBvcHVwX19idXR0b25cIlxyXG4pO1xyXG5jb25zdCBhdmF0YXJFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LWF2YXRhci1idXR0b25cIik7XHJcblxyXG4vLyBJbml0aWFsaXplIFVzZXJJbmZvIHRvIG1hbmFnZSBhbmQgdXBkYXRlIHByb2ZpbGUgZGF0YSBvbiB0aGUgcGFnZVxyXG5jb25zdCB1c2VySW5mb0luc3RhbmNlID0gbmV3IFVzZXJJbmZvKHtcclxuICBuYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX3RpdGxlXCIsXHJcbiAgZGVzY3JpcHRpb25TZWxlY3RvcjogXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIixcclxuICBhdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9faW1hZ2VcIixcclxufSk7XHJcblxyXG4vLyBGdW5jdGlvbiB0byBoYW5kbGUgY2FyZCBkZWxldGlvbiB3aXRoIGNvbmZpcm1hdGlvbiBwb3B1cFxyXG5jb25zdCBoYW5kbGVEZWxldGVDYXJkID0gKGNhcmRFbGVtZW50LCBjYXJkSWQpID0+IHtcclxuICBjb25zdCBkZWxldGVQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVsZXRlLWNhcmQtcG9wdXBcIik7XHJcbiAgY29uc3QgY29uZmlybURlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29uZmlybS1kZWxldGUtYnV0dG9uXCIpO1xyXG5cclxuICAvLyBDb25maXJtcyBjYXJkIGRlbGV0aW9uIGJ5IGNhbGxpbmcgdGhlIEFQSSBhbmQgcmVtb3ZpbmcgdGhlIGNhcmQgZWxlbWVudCBmcm9tIHRoZSBET01cclxuICBjb25zdCBjb25maXJtRGVsZXRlID0gKCkgPT4ge1xyXG4gICAgYXBpXHJcbiAgICAgIC5kZWxldGVDYXJkKGNhcmRJZClcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGNhcmRFbGVtZW50LnJlbW92ZSgpOyAvLyBSZW1vdmUgY2FyZCBmcm9tIFVJIHVwb24gc3VjY2Vzc2Z1bCBkZWxldGlvblxyXG4gICAgICAgIGRlbGV0ZVBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGBFcnJvciBkZWxldGluZyBjYXJkOiAke2Vycn1gKSk7XHJcbiAgfTtcclxuXHJcbiAgLy8gQWRkIGNsaWNrIGxpc3RlbmVyIGZvciBjb25maXJtaW5nIGRlbGV0aW9uIChvbmNlIHRvIGF2b2lkIGR1cGxpY2F0ZSBsaXN0ZW5lcnMpXHJcbiAgY29uZmlybURlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY29uZmlybURlbGV0ZSwgeyBvbmNlOiB0cnVlIH0pO1xyXG5cclxuICAvLyBPcGVuIHRoZSBkZWxldGUgY29uZmlybWF0aW9uIHBvcHVwXHJcbiAgZGVsZXRlUG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcclxuXHJcbiAgLy8gQ2xvc2UgcG9wdXAgYW5kIHJlbW92ZSBldmVudCBsaXN0ZW5lciBpZiBcIlhcIiBidXR0b24gaXMgY2xpY2tlZFxyXG4gIGRlbGV0ZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBkZWxldGVQb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgY29uZmlybURlbGV0ZUJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY29uZmlybURlbGV0ZSk7IC8vIENsZWFudXAgZXZlbnQgbGlzdGVuZXJcclxuICB9KTtcclxufTtcclxuXHJcbi8vIEZ1bmN0aW9uIHRvIGNyZWF0ZSBhIG5ldyBjYXJkIHVzaW5nIHRoZSBDYXJkIGNsYXNzLCBwYXNzaW5nIGluIG5lY2Vzc2FyeSBoYW5kbGVyc1xyXG5jb25zdCBjcmVhdGVDYXJkID0gKGNhcmREYXRhKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgY2FyZERhdGEsXHJcbiAgICBcIiNjYXJkLXRlbXBsYXRlXCIsIC8vIENhcmQgdGVtcGxhdGUgc2VsZWN0b3JcclxuICAgIGhhbmRsZUltYWdlUG9wdXAsIC8vIEZ1bmN0aW9uIHRvIGhhbmRsZSBpbWFnZSBjbGljayBwb3B1cFxyXG4gICAgY3VycmVudFVzZXJJZCxcclxuICAgIGFwaSwgLy8gQVBJIGluc3RhbmNlIGZvciBoYW5kbGluZyBsaWtlcyBhbmQgZGVsZXRpb25cclxuICAgIGhhbmRsZURlbGV0ZUNhcmQgLy8gRnVuY3Rpb24gdG8gaGFuZGxlIGNhcmQgZGVsZXRpb25cclxuICApO1xyXG4gIHJldHVybiBjYXJkLmdldFZpZXcoKTsgLy8gUmV0dXJuIHRoZSBjYXJkIGVsZW1lbnRcclxufTtcclxuXHJcbi8vIEluaXRpYWxpemUgdGhlIFNlY3Rpb24gY2xhc3MgdG8gcmVuZGVyIGFuZCBtYW5hZ2UgY2FyZCBsaXN0IGluIHRoZSBVSVxyXG5jb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIHJlbmRlcmVyOiAoY2FyZERhdGEpID0+IHtcclxuICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGNhcmREYXRhKTsgLy8gQ3JlYXRlIGEgY2FyZCBlbGVtZW50IGZvciBlYWNoIGNhcmRcclxuICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCk7IC8vIEFkZCBjYXJkIHRvIHRoZSBjYXJkIGxpc3QgKHByZXBlbmQpXHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgXCIuY2FyZHNfX2xpc3RcIiAvLyBDb250YWluZXIgd2hlcmUgY2FyZHMgd2lsbCBiZSBhcHBlbmRlZFxyXG4pO1xyXG5cclxuLy8gRmV0Y2ggYW5kIHJlbmRlciB1c2VyIGluZm8gYW5kIGNhcmRzIGFmdGVyIHBhZ2UgbG9hZFxyXG5sZXQgY3VycmVudFVzZXJJZDtcclxuYXBpXHJcbiAgLmdldFVzZXJJbmZvKClcclxuICAudGhlbigodXNlckluZm8pID0+IHtcclxuICAgIC8vIFNldCB1c2VyIGluZm8gb24gdGhlIHBhZ2UgdXNpbmcgdGhlIFVzZXJJbmZvIGluc3RhbmNlXHJcbiAgICB1c2VySW5mb0luc3RhbmNlLnNldFVzZXJJbmZvKHtcclxuICAgICAgbmFtZTogdXNlckluZm8ubmFtZSxcclxuICAgICAgZGVzY3JpcHRpb246IHVzZXJJbmZvLmFib3V0LFxyXG4gICAgICBhdmF0YXI6IHVzZXJJbmZvLmF2YXRhcixcclxuICAgIH0pO1xyXG4gICAgY3VycmVudFVzZXJJZCA9IHVzZXJJbmZvLl9pZDsgLy8gU3RvcmUgdGhlIGN1cnJlbnQgdXNlciBJRFxyXG5cclxuICAgIHJldHVybiBhcGkuZ2V0SW5pdGlhbENhcmRzKCk7IC8vIEZldGNoIGluaXRpYWwgY2FyZHMgZnJvbSB0aGUgc2VydmVyXHJcbiAgfSlcclxuICAudGhlbigoY2FyZHMpID0+IHtcclxuICAgIC8vIFJlbmRlciBlYWNoIGNhcmQgb24gdGhlIHBhZ2VcclxuICAgIGNhcmRzLmZvckVhY2goKGNhcmREYXRhKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZCh7XHJcbiAgICAgICAgbmFtZTogY2FyZERhdGEubmFtZSxcclxuICAgICAgICBsaW5rOiBjYXJkRGF0YS5saW5rLFxyXG4gICAgICAgIF9pZDogY2FyZERhdGEuX2lkLFxyXG4gICAgICAgIG93bmVyOiBjYXJkRGF0YS5vd25lcixcclxuICAgICAgICBsaWtlczogY2FyZERhdGEubGlrZXMsXHJcbiAgICAgIH0pO1xyXG4gICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyB1c2VyIGluZm8gb3IgY2FyZHM6XCIsIGVycikpO1xyXG5cclxuLy8gT3BlbnMgcHJvZmlsZSBlZGl0IHBvcHVwIGFuZCBwcmUtZmlsbHMgdGhlIGZvcm0gd2l0aCBjdXJyZW50IHVzZXIgaW5mb1xyXG5jb25zdCBoYW5kbGVQcm9maWxlRWRpdCA9ICgpID0+IHtcclxuICBjb25zdCB1c2VyRGF0YSA9IHVzZXJJbmZvSW5zdGFuY2UuZ2V0VXNlckluZm8oKTsgLy8gR2V0IGN1cnJlbnQgcHJvZmlsZSBkYXRhXHJcbiAgcHJvZmlsZVRpdGxlSW5wdXQudmFsdWUgPSB1c2VyRGF0YS5uYW1lOyAvLyBQcmUtZmlsbCBwcm9maWxlIG5hbWUgaW5wdXRcclxuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHVzZXJEYXRhLmRlc2NyaXB0aW9uOyAvLyBQcmUtZmlsbCBwcm9maWxlIGRlc2NyaXB0aW9uXHJcbiAgcHJvZmlsZUZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7IC8vIFJlc2V0IGZvcm0gdmFsaWRhdGlvbiBzdGF0ZVxyXG4gIHByb2ZpbGVFZGl0UG9wdXBJbnN0YW5jZS5vcGVuKCk7IC8vIE9wZW4gdGhlIHBvcHVwXHJcbn07XHJcblxyXG4vLyBPcGVucyB0aGUgaW1hZ2UgcG9wdXAgd2hlbiBhIGNhcmQgaW1hZ2UgaXMgY2xpY2tlZFxyXG5jb25zdCBoYW5kbGVJbWFnZVBvcHVwID0gKGxpbmssIG5hbWUpID0+IHtcclxuICBwaWN0dXJlUG9wdXBJbnN0YW5jZS5vcGVuKHsgbmFtZSwgbGluayB9KTsgLy8gT3BlbiB0aGUgcG9wdXAgd2l0aCBpbWFnZSBhbmQgY2FwdGlvblxyXG59O1xyXG5cclxuLy8gSW5pdGlhbGl6ZSBwcm9maWxlIGVkaXQgcG9wdXAgd2l0aCBmb3JtIHN1Ym1pc3Npb24gaGFuZGxpbmdcclxuY29uc3QgcHJvZmlsZUVkaXRQb3B1cEluc3RhbmNlID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgXCIjcHJvZmlsZS1lZGl0LXBvcHVwXCIsXHJcbiAgKGZvcm1EYXRhKSA9PiB7XHJcbiAgICBzYXZlUHJvZmlsZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7IC8vIFNob3cgbG9hZGluZyBzdGF0ZVxyXG5cclxuICAgIC8vIFNlbmQgUEFUQ0ggcmVxdWVzdCB0byB1cGRhdGUgdGhlIHVzZXIncyBwcm9maWxlIGluZm9cclxuICAgIGFwaVxyXG4gICAgICAudXBkYXRlVXNlckluZm8oe1xyXG4gICAgICAgIG5hbWU6IGZvcm1EYXRhLm5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IGZvcm1EYXRhLmRlc2NyaXB0aW9uLFxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigodXBkYXRlZFVzZXJJbmZvKSA9PiB7XHJcbiAgICAgICAgdXNlckluZm9JbnN0YW5jZS5zZXRVc2VySW5mbyh7XHJcbiAgICAgICAgICBuYW1lOiB1cGRhdGVkVXNlckluZm8ubmFtZSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiB1cGRhdGVkVXNlckluZm8uYWJvdXQsXHJcbiAgICAgICAgICBhdmF0YXI6IHVwZGF0ZWRVc2VySW5mby5hdmF0YXIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcHJvZmlsZUVkaXRQb3B1cEluc3RhbmNlLmNsb3NlKCk7IC8vIENsb3NlIHRoZSBwb3B1cCBhZnRlciBzdWNjZXNzXHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHVwZGF0aW5nIHByb2ZpbGU6XCIsIGVycik7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICBzYXZlUHJvZmlsZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2ZVwiOyAvLyBSZXNldCB0aGUgYnV0dG9uIHRleHRcclxuICAgICAgfSk7XHJcbiAgfVxyXG4pO1xyXG5cclxucHJvZmlsZUVkaXRQb3B1cEluc3RhbmNlLnNldEV2ZW50TGlzdGVuZXJzKCk7IC8vIFNldCBldmVudCBsaXN0ZW5lcnMgZm9yIHByb2ZpbGUgcG9wdXBcclxuXHJcbi8vIEluaXRpYWxpemUgdGhlIGNhcmQgYWRkaXRpb24gcG9wdXAgd2l0aCBmb3JtIHN1Ym1pc3Npb24gaGFuZGxpbmdcclxuY29uc3QgYWRkQ2FyZFBvcHVwSW5zdGFuY2UgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBcIiNhZGQtY2FyZC1wb3B1cFwiLFxyXG4gIChmb3JtRGF0YSkgPT4ge1xyXG4gICAgc2F2ZUNhcmRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiOyAvLyBTaG93IGxvYWRpbmcgc3RhdGVcclxuXHJcbiAgICAvLyBTZW5kIFBPU1QgcmVxdWVzdCB0byBhZGQgYSBuZXcgY2FyZFxyXG4gICAgYXBpXHJcbiAgICAgIC5hZGRDYXJkKHtcclxuICAgICAgICBuYW1lOiBmb3JtRGF0YS50aXRsZSxcclxuICAgICAgICBsaW5rOiBmb3JtRGF0YS51cmwsXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKChuZXdDYXJkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKHtcclxuICAgICAgICAgIG5hbWU6IG5ld0NhcmQubmFtZSxcclxuICAgICAgICAgIGxpbms6IG5ld0NhcmQubGluayxcclxuICAgICAgICAgIF9pZDogbmV3Q2FyZC5faWQsXHJcbiAgICAgICAgICBvd25lcjogbmV3Q2FyZC5vd25lcixcclxuICAgICAgICAgIGxpa2VzOiBuZXdDYXJkLmxpa2VzLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY2FyZEVsZW1lbnQpOyAvLyBBZGQgbmV3IGNhcmQgdG8gdGhlIFVJXHJcbiAgICAgICAgYWRkQ2FyZFBvcHVwSW5zdGFuY2UuX2Zvcm1FbGVtZW50LnJlc2V0KCk7IC8vIFJlc2V0IGZvcm0gZmllbGRzXHJcbiAgICAgICAgYWRkQ2FyZFBvcHVwSW5zdGFuY2UuY2xvc2UoKTsgLy8gQ2xvc2UgdGhlIHBvcHVwIGFmdGVyIHN1Y2Nlc3NcclxuICAgICAgICBzYXZlQ2FyZEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2ZVwiOyAvLyBSZXNldCBidXR0b24gdGV4dFxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihcIkVycm9yIGFkZGluZyBjYXJkOlwiLCBlcnIpKTtcclxuICB9XHJcbik7XHJcblxyXG5hZGRDYXJkUG9wdXBJbnN0YW5jZS5zZXRFdmVudExpc3RlbmVycygpOyAvLyBTZXQgZXZlbnQgbGlzdGVuZXJzIGZvciBjYXJkIGFkZGl0aW9uIHBvcHVwXHJcblxyXG4vLyBJbml0aWFsaXplIGF2YXRhciBlZGl0IHBvcHVwIHdpdGggZm9ybSBzdWJtaXNzaW9uIGhhbmRsaW5nXHJcbmNvbnN0IGF2YXRhckVkaXRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI2F2YXRhci1lZGl0LXBvcHVwXCIsIChmb3JtRGF0YSkgPT4ge1xyXG4gIHNhdmVBdmF0YXJCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiOyAvLyBTaG93IGxvYWRpbmcgc3RhdGVcclxuICBhcGlcclxuICAgIC51cGRhdGVBdmF0YXIoZm9ybURhdGEuYXZhdGFyKVxyXG4gICAgLnRoZW4oKHVwZGF0ZWRVc2VySW5mbykgPT4ge1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlXCIpLnNyYyA9IHVwZGF0ZWRVc2VySW5mby5hdmF0YXI7IC8vIFVwZGF0ZSBhdmF0YXIgaW4gdGhlIFVJXHJcbiAgICAgIGF2YXRhckVkaXRQb3B1cC5jbG9zZSgpOyAvLyBDbG9zZSB0aGUgcG9wdXBcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihcIkVycm9yIHVwZGF0aW5nIGF2YXRhcjpcIiwgZXJyKSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgc2F2ZUF2YXRhckJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2ZVwiOyAvLyBSZXNldCBidXR0b24gdGV4dFxyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuYXZhdGFyRWRpdFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7IC8vIFNldCBldmVudCBsaXN0ZW5lcnMgZm9yIGF2YXRhciBlZGl0IHBvcHVwXHJcblxyXG4vLyBTZXQgdXAgdGhlIGV2ZW50IGxpc3RlbmVyIGZvciB0aGUgYXZhdGFyIGVkaXQgYnV0dG9uXHJcbmF2YXRhckVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBhdmF0YXJFZGl0UG9wdXAub3BlbigpO1xyXG59KTtcclxuXHJcbi8vIEluaXRpYWxpemUgaW1hZ2UgcG9wdXAgZm9yIGRpc3BsYXlpbmcgbGFyZ2VyIGltYWdlc1xyXG5jb25zdCBwaWN0dXJlUG9wdXBJbnN0YW5jZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNwaWN0dXJlLXBvcHVwXCIpO1xyXG5waWN0dXJlUG9wdXBJbnN0YW5jZS5zZXRFdmVudExpc3RlbmVycygpOyAvLyBTZXQgZXZlbnQgbGlzdGVuZXJzIGZvciBpbWFnZSBwb3B1cFxyXG5cclxuLy8gSW5pdGlhbGl6ZSBmb3JtIHZhbGlkYXRvcnMgZm9yIHByb2ZpbGUgYW5kIGNhcmQgZm9ybXNcclxuY29uc3QgcHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICBmb3JtVmFsaWRhdGlvblNldHRpbmdzLFxyXG4gIHByb2ZpbGVFZGl0Rm9ybVxyXG4pO1xyXG5jb25zdCBjYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxyXG4gIGZvcm1WYWxpZGF0aW9uU2V0dGluZ3MsXHJcbiAgYWRkQ2FyZEZvcm1cclxuKTtcclxuXHJcbi8vIEVuYWJsZSBmb3JtIHZhbGlkYXRpb24gZm9yIGJvdGggZm9ybXNcclxucHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5jYXJkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vLyBTZXQgdXAgZXZlbnQgbGlzdGVuZXJzIGZvciBwcm9maWxlIGVkaXQgYW5kIGFkZCBjYXJkIGJ1dHRvbnNcclxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVByb2ZpbGVFZGl0KTtcclxuYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGFkZENhcmRQb3B1cEluc3RhbmNlLm9wZW4oKTtcclxufSk7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgLy8gQ29uc3RydWN0b3IgaW5pdGlhbGl6ZXMgQVBJIHdpdGggYSBiYXNlIFVSTCBhbmQgYXV0aG9yaXphdGlvbiBoZWFkZXJzXHJcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICAvLyBNZXRob2QgdG8gY2hlY2sgdGhlIHNlcnZlcidzIHJlc3BvbnNlIGFuZCBoYW5kbGUgZXJyb3JzXHJcbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpOyAvLyBSZXR1cm4gSlNPTiBpZiByZXNwb25zZSBpcyBPS1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApOyAvLyBSZWplY3QgcHJvbWlzZSB3aXRoIGVycm9yIHN0YXR1c1xyXG4gIH1cclxuXHJcbiAgLy8gR2VuZXJhbCBlcnJvciBoYW5kbGVyIGZvciBjYXRjaGluZyBhbmQgbG9nZ2luZyBlcnJvcnNcclxuICBfaGFuZGxlRXJyb3IoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGVycik7IC8vIExvZyBlcnJvciB0byBjb25zb2xlXHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTsgLy8gUmVqZWN0IHRoZSBwcm9taXNlIHdpdGggdGhlIGVycm9yXHJcbiAgfVxyXG5cclxuICAvLyBGZXRjaCBpbml0aWFsIHNldCBvZiBjYXJkcyBmcm9tIHRoZSBzZXJ2ZXJcclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsIC8vIFBhc3MgYXV0aG9yaXphdGlvbiBoZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7IC8vIFJldHVybiBKU09OIGlmIHJlc3BvbnNlIGlzIE9LXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTsgLy8gUmVqZWN0IGlmIHRoZXJlJ3MgYW4gZXJyb3JcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiQVBJIGVycm9yOlwiLCBlcnIpOyAvLyBMb2cgdGhlIGVycm9yXHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7IC8vIFByb3BhZ2F0ZSB0aGUgZXJyb3JcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBGZXRjaCB1c2VyIGluZm9ybWF0aW9uIGZyb20gdGhlIHNlcnZlclxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLCAvLyBBdXRob3JpemF0aW9uIGhlYWRlcnMgZm9yIHRoZSByZXF1ZXN0XHJcbiAgICB9KVxyXG4gICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKSAvLyBIYW5kbGUgcmVzcG9uc2UgdmFsaWRhdGlvblxyXG4gICAgICAuY2F0Y2godGhpcy5faGFuZGxlRXJyb3IpOyAvLyBIYW5kbGUgZXJyb3JzXHJcbiAgfVxyXG5cclxuICAvLyBVcGRhdGUgdXNlciBpbmZvcm1hdGlvbiAobmFtZSwgYWJvdXQpIG9uIHRoZSBzZXJ2ZXJcclxuICB1cGRhdGVVc2VySW5mbyh7IG5hbWUsIGFib3V0IH0pIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsIC8vIFBBVENIIHJlcXVlc3QgZm9yIHBhcnRpYWwgdXBkYXRlc1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBhYm91dDogYWJvdXQsXHJcbiAgICAgIH0pLCAvLyBKU09OIGJvZHkgd2l0aCB1cGRhdGVkIGRhdGFcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpIC8vIEhhbmRsZSByZXNwb25zZSB2YWxpZGF0aW9uXHJcbiAgICAgIC5jYXRjaCh0aGlzLl9oYW5kbGVFcnJvcik7IC8vIEhhbmRsZSBlcnJvcnNcclxuICB9XHJcblxyXG4gIC8vIEFkZCBhIG5ldyBjYXJkIChuYW1lLCBsaW5rKSB0byB0aGUgc2VydmVyXHJcbiAgYWRkQ2FyZCh7IG5hbWUsIGxpbmsgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLCAvLyBQT1NUIHJlcXVlc3QgdG8gY3JlYXRlIG5ldyBjYXJkXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGxpbms6IGxpbmssXHJcbiAgICAgIH0pLCAvLyBKU09OIGJvZHkgd2l0aCBjYXJkIGRldGFpbHNcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpIC8vIEhhbmRsZSByZXNwb25zZSB2YWxpZGF0aW9uXHJcbiAgICAgIC5jYXRjaCh0aGlzLl9oYW5kbGVFcnJvcik7IC8vIEhhbmRsZSBlcnJvcnNcclxuICB9XHJcblxyXG4gIC8vIERlbGV0ZSBhIGNhcmQgYnkgaXRzIElEXHJcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIiwgLy8gREVMRVRFIHJlcXVlc3QgdG8gcmVtb3ZlIHRoZSBjYXJkXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsIC8vIEF1dGhvcml6YXRpb24gaGVhZGVyc1xyXG4gICAgfSlcclxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSkgLy8gSGFuZGxlIHJlc3BvbnNlIHZhbGlkYXRpb25cclxuICAgICAgLmNhdGNoKHRoaXMuX2hhbmRsZUVycm9yKTsgLy8gSGFuZGxlIGVycm9yc1xyXG4gIH1cclxuXHJcbiAgLy8gTGlrZSBhIGNhcmQgYnkgc2VuZGluZyBhIFBVVCByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXJcclxuICBsaWtlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIiwgLy8gUFVUIHJlcXVlc3QgdG8gbGlrZSB0aGUgY2FyZFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSkgLy8gSGFuZGxlIHJlc3BvbnNlIHZhbGlkYXRpb25cclxuICAgICAgLmNhdGNoKHRoaXMuX2hhbmRsZUVycm9yKTsgLy8gSGFuZGxlIGVycm9yc1xyXG4gIH1cclxuXHJcbiAgLy8gRGlzbGlrZSBhIGNhcmQgYnkgc2VuZGluZyBhIERFTEVURSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXJcclxuICBkaXNsaWtlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIiwgLy8gREVMRVRFIHJlcXVlc3QgdG8gcmVtb3ZlIHRoZSBsaWtlXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KVxyXG4gICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKSAvLyBIYW5kbGUgcmVzcG9uc2UgdmFsaWRhdGlvblxyXG4gICAgICAuY2F0Y2godGhpcy5faGFuZGxlRXJyb3IpOyAvLyBIYW5kbGUgZXJyb3JzXHJcbiAgfVxyXG5cclxuICAvLyBVcGRhdGUgdXNlciBhdmF0YXIgYnkgc2VuZGluZyBhIFBBVENIIHJlcXVlc3Qgd2l0aCB0aGUgbmV3IGF2YXRhciBVUkxcclxuICB1cGRhdGVBdmF0YXIoYXZhdGFyVXJsKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIiwgLy8gUEFUQ0ggcmVxdWVzdCBmb3IgcGFydGlhbCB1cGRhdGVzXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGF2YXRhclVybCwgLy8gSlNPTiBib2R5IHdpdGggbmV3IGF2YXRhciBVUkxcclxuICAgICAgfSksXHJcbiAgICB9KVxyXG4gICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKSAvLyBIYW5kbGUgcmVzcG9uc2UgdmFsaWRhdGlvblxyXG4gICAgICAuY2F0Y2godGhpcy5faGFuZGxlRXJyb3IpOyAvLyBIYW5kbGUgZXJyb3JzXHJcbiAgfVxyXG59XHJcbiIsIi8vIFRoZSBVc2VySW5mbyBjbGFzcyBpcyByZXNwb25zaWJsZSBmb3IgbWFuYWdpbmcgYW5kIHVwZGF0aW5nIHVzZXIgaW5mb3JtYXRpb24gb24gdGhlIHBhZ2VcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIC8vIFRoZSBjb25zdHJ1Y3RvciBhY2NlcHRzIGFuIG9iamVjdCB3aXRoIENTUyBzZWxlY3RvcnMgZm9yIHRoZSB1c2VyJ3MgbmFtZSwgZGVzY3JpcHRpb24sIGFuZCBhdmF0YXJcclxuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3RvciwgZGVzY3JpcHRpb25TZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xyXG4gICAgLy8gU3RvcmUgdGhlIERPTSBlbGVtZW50cyBmb3IgbmFtZSwgZGVzY3JpcHRpb24sIGFuZCBhdmF0YXIgYmFzZWQgb24gdGhlIHByb3ZpZGVkIHNlbGVjdG9yc1xyXG4gICAgdGhpcy5fbmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9kZXNjcmlwdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRlc2NyaXB0aW9uU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgLy8gTWV0aG9kIHRvIGdldCB0aGUgY3VycmVudCB1c2VyIGluZm9ybWF0aW9uIGZyb20gdGhlIHBhZ2VcclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIC8vIFJldHVybnMgYW4gb2JqZWN0IHdpdGggdGhlIGN1cnJlbnQgbmFtZSwgZGVzY3JpcHRpb24sIGFuZCBhdmF0YXIgVVJMIGZyb20gdGhlIHBhZ2VcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5fZGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgICBhdmF0YXI6IHRoaXMuX2F2YXRhckVsZW1lbnQuc3JjLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIE1ldGhvZCB0byB1cGRhdGUgdGhlIHVzZXIgaW5mb3JtYXRpb24gb24gdGhlIHBhZ2VcclxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGRlc2NyaXB0aW9uLCBhdmF0YXIgfSkge1xyXG4gICAgLy8gVXBkYXRlIHRoZSBuYW1lIGFuZCBkZXNjcmlwdGlvbiBvbiB0aGUgcGFnZVxyXG4gICAgdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fZGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSBhdmF0YXIgb25seSBpZiB0aGUgbmV3IGF2YXRhciBVUkwgaXMgcHJvdmlkZWRcclxuICAgIGlmIChhdmF0YXIpIHtcclxuICAgICAgdGhpcy5fYXZhdGFyRWxlbWVudC5zcmMgPSBhdmF0YXI7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8vIFRoZSBTZWN0aW9uIGNsYXNzIGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgaXRlbXMgYW5kIG1hbmFnaW5nIGEgY29udGFpbmVyXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIC8vIENvbnN0cnVjdG9yIGFjY2VwdHMgYW4gb2JqZWN0IHdpdGggYSByZW5kZXJlciBmdW5jdGlvbiBhbmQgYSBjb250YWluZXIgc2VsZWN0b3JcclxuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICAvLyBTdG9yZSB0aGUgcmVuZGVyZXIgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIHVzZWQgdG8gcmVuZGVyIGVhY2ggaXRlbVxyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuXHJcbiAgICAvLyBTZWxlY3QgdGhlIGNvbnRhaW5lciBlbGVtZW50IHdoZXJlIGl0ZW1zIHdpbGwgYmUgYWRkZWRcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgLy8gTWV0aG9kIHRvIHJlbmRlciBhIGxpc3Qgb2YgaXRlbXNcclxuICAvLyBJdCBpdGVyYXRlcyBvdmVyIHRoZSBpdGVtcyBhbmQgY2FsbHMgdGhlIHJlbmRlcmVyIGZ1bmN0aW9uIGZvciBlYWNoIG9uZVxyXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB0aGlzLl9yZW5kZXJlcihpdGVtKSk7XHJcbiAgfVxyXG5cclxuICAvLyBNZXRob2QgdG8gYWRkIGEgbmV3IGl0ZW0gdG8gdGhlIGNvbnRhaW5lclxyXG4gIC8vIEl0IHByZXBlbmRzIHRoZSBlbGVtZW50IHRvIHRoZSBjb250YWluZXIgKGFkZHMgdG8gdGhlIHRvcClcclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG4iLCIvLyBJbXBvcnQgdGhlIGJhc2UgUG9wdXAgY2xhc3NcclxuaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG4vLyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHRvIGhhbmRsZSBpbWFnZSBwb3B1cHNcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgLy8gQ29uc3RydWN0b3IgdGFrZXMgdGhlIHBvcHVwIHNlbGVjdG9yIGFzIGFuIGFyZ3VtZW50XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgLy8gQ2FsbCB0aGUgcGFyZW50IGNsYXNzIChQb3B1cCkgY29uc3RydWN0b3Igd2l0aCB0aGUgcG9wdXBTZWxlY3RvclxyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcblxyXG4gICAgLy8gU2VsZWN0IHRoZSBpbWFnZSBlbGVtZW50IGluc2lkZSB0aGUgcG9wdXBcclxuICAgIHRoaXMuX2ltYWdlRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcclxuXHJcbiAgICAvLyBTZWxlY3QgdGhlIGNhcHRpb24gZWxlbWVudCBpbnNpZGUgdGhlIHBvcHVwXHJcbiAgICB0aGlzLl9jYXB0aW9uRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jYXB0aW9uXCIpO1xyXG4gIH1cclxuXHJcbiAgLy8gTWV0aG9kIHRvIG9wZW4gdGhlIGltYWdlIHBvcHVwIHdpdGggdGhlIHByb3ZpZGVkIG5hbWUgYW5kIGxpbmtcclxuICBvcGVuKHsgbmFtZSwgbGluayB9KSB7XHJcbiAgICAvLyBTZXQgdGhlIGltYWdlIHNvdXJjZSB0byB0aGUgcHJvdmlkZWQgbGlua1xyXG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LnNyYyA9IGxpbms7XHJcblxyXG4gICAgLy8gU2V0IHRoZSBhbHQgdGV4dCBvZiB0aGUgaW1hZ2UgdG8gdGhlIHByb3ZpZGVkIG5hbWVcclxuICAgIHRoaXMuX2ltYWdlRWxlbWVudC5hbHQgPSBuYW1lO1xyXG5cclxuICAgIC8vIFNldCB0aGUgY2FwdGlvbiB0ZXh0IHRvIHRoZSBwcm92aWRlZCBuYW1lXHJcbiAgICB0aGlzLl9jYXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XHJcblxyXG4gICAgLy8gQ2FsbCB0aGUgcGFyZW50IGNsYXNzJ3Mgb3BlbiBtZXRob2QgdG8gZGlzcGxheSB0aGUgcG9wdXBcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImZvcm1WYWxpZGF0aW9uU2V0dGluZ3MiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwic2VsZWN0b3JzIiwicHJvZmlsZUVkaXRGb3JtIiwiZG9jdW1lbnQiLCJmb3JtcyIsImFkZENhcmRGb3JtIiwicHJvZmlsZUVkaXRCdXR0b24iLCJxdWVyeVNlbGVjdG9yIiwiYWRkQ2FyZEJ1dHRvbiIsInByb2ZpbGVFZGl0UG9wdXAiLCJhZGRDYXJkUG9wdXAiLCJwaWN0dXJlUG9wdXAiLCJwcm9maWxlVGl0bGUiLCJwcm9maWxlRGVzY3JpcHRpb24iLCJwcm9maWxlVGl0bGVJbnB1dCIsInByb2ZpbGVEZXNjcmlwdGlvbklucHV0IiwiY2FyZExpc3RFbCIsImFkZENhcmRUaXRsZUlucHV0IiwiYWRkQ2FyZFVybElucHV0IiwiQ2FyZCIsImNvbnN0cnVjdG9yIiwiX3JlZiIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJjdXJyZW50VXNlcklkIiwiYXBpIiwiaGFuZGxlRGVsZXRlQ2FyZCIsIm5hbWUiLCJsaW5rIiwiX2lkIiwiaXNMaWtlZCIsImxpa2VzIiwib3duZXIiLCJ0aGlzIiwiX25hbWUiLCJfbGluayIsIl9pc0xpa2VkIiwiX2xpa2VzIiwiX293bmVyIiwiX2N1cnJlbnRVc2VySWQiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfYXBpIiwiX2hhbmRsZURlbGV0ZUNhcmQiLCJfY3JlYXRlQ2FyZEVsZW1lbnQiLCJjYXJkRWxlbWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfY2FyZEVsZW1lbnQiLCJfbGlrZUJ1dHRvbiIsIl90cmFzaEJ1dHRvbiIsIl9jYXJkSW1hZ2VFbCIsIl9jYXJkVGl0bGVFbCIsIl9saWtlQ291bnRFbCIsInRleHRDb250ZW50Iiwic3JjIiwiYWx0IiwiX3NldExpa2VTdGF0ZSIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsIl90b2dnbGVMaWtlIiwiZGlzbGlrZUNhcmQiLCJ0aGVuIiwidXBkYXRlZENhcmQiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImxpa2VDYXJkIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImdldFZpZXciLCJGb3JtVmFsaWRhdG9yIiwic2V0dGluZ3MiLCJmb3JtRWxlbWVudCIsIl9zZXR0aW5ncyIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3N1Ym1pdEJ1dHRvbiIsIl9oYXNJbnZhbGlkSW5wdXQiLCJzb21lIiwiaW5wdXRFbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImRpc2FibGVCdXR0b24iLCJkaXNhYmxlZCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJlcnJvckVsZW1lbnQiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiZm9yRWFjaCIsImVuYWJsZVZhbGlkYXRpb24iLCJyZXNldFZhbGlkYXRpb24iLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsIm9wZW4iLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0VmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwicmVzZXQiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJfY2hlY2tSZXNwb25zZSIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJfaGFuZGxlRXJyb3IiLCJnZXRJbml0aWFsQ2FyZHMiLCJmZXRjaCIsImdldFVzZXJJbmZvIiwidXBkYXRlVXNlckluZm8iLCJfcmVmMiIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhZGRDYXJkIiwiX3JlZjMiLCJkZWxldGVDYXJkIiwiY2FyZElkIiwidXBkYXRlQXZhdGFyIiwiYXZhdGFyVXJsIiwiYXZhdGFyIiwiYXV0aG9yaXphdGlvbiIsInNhdmVQcm9maWxlQnV0dG9uIiwic2F2ZUNhcmRCdXR0b24iLCJzYXZlQXZhdGFyQnV0dG9uIiwiYXZhdGFyRWRpdEJ1dHRvbiIsInVzZXJJbmZvSW5zdGFuY2UiLCJuYW1lU2VsZWN0b3IiLCJkZXNjcmlwdGlvblNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfbmFtZUVsZW1lbnQiLCJfZGVzY3JpcHRpb25FbGVtZW50IiwiX2F2YXRhckVsZW1lbnQiLCJkZXNjcmlwdGlvbiIsInNldFVzZXJJbmZvIiwiZGVsZXRlUG9wdXAiLCJjb25maXJtRGVsZXRlQnV0dG9uIiwiY29uZmlybURlbGV0ZSIsIm9uY2UiLCJjcmVhdGVDYXJkIiwiY2FyZERhdGEiLCJoYW5kbGVJbWFnZVBvcHVwIiwiY2FyZFNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlckl0ZW1zIiwiaXRlbXMiLCJpdGVtIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwidXNlckluZm8iLCJjYXJkcyIsInBpY3R1cmVQb3B1cEluc3RhbmNlIiwicHJvZmlsZUVkaXRQb3B1cEluc3RhbmNlIiwiZm9ybURhdGEiLCJ1cGRhdGVkVXNlckluZm8iLCJmaW5hbGx5IiwiYWRkQ2FyZFBvcHVwSW5zdGFuY2UiLCJ0aXRsZSIsInVybCIsIm5ld0NhcmQiLCJhdmF0YXJFZGl0UG9wdXAiLCJfaW1hZ2VFbGVtZW50IiwiX2NhcHRpb25FbGVtZW50IiwicHJvZmlsZUZvcm1WYWxpZGF0b3IiLCJjYXJkRm9ybVZhbGlkYXRvciIsImhhbmRsZVByb2ZpbGVFZGl0IiwidXNlckRhdGEiXSwic291cmNlUm9vdCI6IiJ9
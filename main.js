!function(){"use strict";const e={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error"},t={profileEditForm:document.forms["profile-form"],addCardForm:document.forms["card-form"],avatarEditForm:document.querySelector("#edit-avatar-form"),profileEditButton:document.querySelector("#profile-edit-button"),addCardButton:document.querySelector("#profile-add-button"),profileTitle:document.querySelector(".profile__title"),profileDescription:document.querySelector(".profile__description"),profileTitleInput:document.querySelector("#profile-title-input"),profileDescriptionInput:document.querySelector("#profile-description-input"),cardListEl:document.querySelector(".cards__list"),addCardTitleInput:document.querySelector("#add-card-title"),addCardUrlInput:document.querySelector("#add-card-url")};class r{constructor(e,t,r,s,i,n){let{name:o,link:a,_id:l,isLiked:d,likes:c=[],owner:h}=e;this._name=o,this._link=a,this._id=l,this._isLiked=d,this._likes=c,this._owner=h,this._currentUserId=s,this._cardSelector=t,this._handleImageClick=r,this._api=i,this._handleDeleteCard=n}setLikeState(){this._isLiked?this._likeButton.classList.add("card__like-button_active"):this._likeButton.classList.remove("card__like-button_active")}toggleLike(){this._isLiked?this._api.dislikeCard(this._id).then((e=>{this._isLiked=e.isLiked,this.setLikeState()})).catch((e=>console.error(`Error unliking card: ${e}`))):this._api.likeCard(this._id).then((e=>{this._isLiked=e.isLiked,this.setLikeState()})).catch((e=>console.error(`Error liking card: ${e}`)))}setEventListeners(){this._likeButton.addEventListener("click",(()=>{this.toggleLike()})),this._owner===this._currentUserId&&this._trashButton.addEventListener("click",(()=>this._handleDeleteCard(this._cardElement,this._id))),this._cardImageEl.addEventListener("click",(()=>this._handleImageClick(this._link,this._name)))}getView(){return this.createCardElement(),this.setEventListeners(),this._cardElement}createCardElement(){const e=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0);return this._cardElement=e,this._likeButton=this._cardElement.querySelector(".card__like-button"),this._trashButton=this._cardElement.querySelector(".card__trash-button"),this._cardImageEl=this._cardElement.querySelector(".card__image"),this._cardTitleEl=this._cardElement.querySelector(".card__title"),this._cardTitleEl.textContent=this._name,this._cardImageEl.src=this._link,this._cardImageEl.alt=this._name,this.setLikeState(),this._cardElement}}class s{constructor(e,t){this._settings=e,this._formElement=t,this._inputList=Array.from(this._formElement.querySelectorAll(this._settings.inputSelector)),this._submitButton=this._formElement.querySelector(this._settings.submitButtonSelector)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?this.disableButton():(this._submitButton.classList.remove(this._settings.inactiveButtonClass),this._submitButton.disabled=!1)}_checkInputValidity(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.validity.valid?(e.classList.remove(this._settings.inputErrorClass),t.textContent=""):(e.classList.add(this._settings.inputErrorClass),t.textContent=e.validationMessage)}_setEventListeners(){this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._setEventListeners()}resetValidation(){this._inputList.forEach((e=>{const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._settings.inputErrorClass),t.textContent=""})),this._toggleButtonState()}disableButton(){this._submitButton.classList.add(this._settings.inactiveButtonClass),this._submitButton.disabled=!0}}class i{constructor(e){this._popupElement=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}setEventListeners(){this._popupElement.querySelector(".popup__close").addEventListener("click",(()=>{this.close()})),this._popupElement.addEventListener("mousedown",(e=>{e.target===this._popupElement&&this.close()}))}}class n extends i{constructor(e,t){super(e),this.handleFormSubmit=t,this.formElement=this._popupElement.querySelector(".popup__form")||null,this.formElement&&(this._submitBtn=this.formElement.querySelector(".popup__button"),this._submitBtnText=this._submitBtn.textContent),this.formElement&&(this.inputList=Array.from(this.formElement.querySelectorAll(".popup__input")))}__getInputValues(){const e={};return this.formElement&&this.inputList.forEach((t=>{e[t.name]=t.value})),e}renderLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._submitBtn.textContent=e?t:this._submitBtnText}setEventListeners(){super.setEventListeners(),this.formElement&&this.formElement.addEventListener("submit",(e=>{e.preventDefault(),this.handleFormSubmit(this.__getInputValues())}))}resetForm(){this.formElement&&this.formElement.reset()}close(){super.close()}}const o=new class{constructor(e){let{baseUrl:t,headers:r}=e;this.baseUrl=t,this.headers=r}_request(e,t){return fetch(e,t).then(this._checkResponse)}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}_handleError(e){return console.error(e),Promise.reject(e)}getInitialCards(){return this._request(`${this.baseUrl}/cards`,{headers:this.headers}).catch(this._handleError)}getUserInfo(){return this._request(`${this.baseUrl}/users/me`,{headers:this.headers}).catch(this._handleError)}updateUserInfo(e){let{name:t,about:r}=e;return this._request(`${this.baseUrl}/users/me`,{method:"PATCH",headers:this.headers,body:JSON.stringify({name:t,about:r})}).catch(this._handleError)}addCard(e){let{name:t,link:r}=e;return this._request(`${this.baseUrl}/cards`,{method:"POST",headers:this.headers,body:JSON.stringify({name:t,link:r})}).catch(this._handleError)}deleteCard(e){return this._request(`${this.baseUrl}/cards/${e}`,{method:"DELETE",headers:this.headers}).catch(this._handleError)}likeCard(e){return this._request(`${this.baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this.headers}).catch(this._handleError)}dislikeCard(e){return this._request(`${this.baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this.headers}).catch(this._handleError)}updateAvatar(e){return this._request(`${this.baseUrl}/users/me/avatar`,{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:e})}).catch(this._handleError)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"765a56ab-1403-4444-8fac-5fc1871e9695","Content-Type":"application/json"}}),{addCardForm:a,addCardButton:l,avatarEditForm:d,profileEditForm:c,profileEditButton:h,profileTitleInput:u,profileDescriptionInput:_}=t,m=document.querySelector("#edit-avatar-button"),p=new class{constructor(e){let{nameSelector:t,descriptionSelector:r,avatarSelector:s}=e;this._nameElement=document.querySelector(t),this._descriptionElement=document.querySelector(r),this._avatarElement=document.querySelector(s)}getUserInfo(){return{name:this._nameElement.textContent,description:this._descriptionElement.textContent,avatar:this._avatarElement.src}}setUserInfo(e){let{name:t,description:r,avatar:s}=e;this._nameElement.textContent=t,this._descriptionElement.textContent=r,this._avatarElement.src=s}}({nameSelector:".profile__title",descriptionSelector:".profile__description",avatarSelector:".profile__image"}),E=new class extends i{constructor(e){super(e),this.confirmButton=this._popupElement.querySelector(".popup__button_confirm-delete"),this.handleConfirm=null}setConfirmHandler(e){this.handleConfirm=e,this.confirmButton.removeEventListener("click",this._boundHandleConfirm),this._boundHandleConfirm=()=>{this.handleConfirm()},this.confirmButton.addEventListener("click",this._boundHandleConfirm,{once:!0})}setEventListeners(){super.setEventListeners(),this._popupElement.querySelector(".popup__close").addEventListener("click",(()=>this.close()))}}("#delete-card-popup");E.setEventListeners();const f=(e,t)=>{E.setConfirmHandler((()=>{o.deleteCard(t).then((()=>{e.remove(),E.close()})).catch((e=>console.error(`Error deleting card: ${e}`)))})),E.open()},v=e=>new r({name:e.name,link:e.link,_id:e._id,owner:e.owner,isLiked:e.isLiked},"#card-template",g,k,o,f).getView(),L=new class{constructor(e,t){let{renderer:r}=e;this._renderer=r,this._container=document.querySelector(t)}renderItems(e){e.forEach((e=>this._renderer(e)))}addItem(e){this._container.prepend(e)}}({renderer:e=>{const t=v(e);L.addItem(t)}},".cards__list");let k;o.getUserInfo().then((e=>(p.setUserInfo({name:e.name,description:e.about,avatar:e.avatar}),k=e._id,o.getInitialCards()))).then((e=>{L.renderItems(e.reverse())})).catch((e=>console.error("Error fetching user info or cards:",e)));const g=(e,t)=>{y.open({name:t,link:e})},S=new n("#profile-edit-popup",(e=>{S.renderLoading(!0),o.updateUserInfo({name:e.name,about:e.description}).then((e=>{p.setUserInfo({name:e.name,description:e.about,avatar:e.avatar}),S.close(),S.resetForm()})).catch((e=>{console.error("Error updating profile:",e)})).finally((()=>{S.renderLoading(!1)}))}));S.setEventListeners();const b=new n("#add-card-popup",(e=>{b.renderLoading(!0),o.addCard({name:e.title,link:e.url}).then((e=>{const t=v({name:e.name,link:e.link,_id:e._id,owner:e.owner,likes:e.likes});L.addItem(t),b.close(),b.resetForm(),I.disableButton()})).catch((e=>{console.error("Error adding card:",e)})).finally((()=>{b.renderLoading(!1)}))}));b.setEventListeners();const C=new n("#avatar-edit-popup",(e=>{C.renderLoading(!0),o.updateAvatar(e.avatar).then((e=>{p.setUserInfo({name:e.name,description:e.about,avatar:e.avatar}),C.close(),d.reset()})).catch((e=>console.error("Error updating avatar:",e))).finally((()=>{C.renderLoading(!1)}))}));C.setEventListeners(),m.addEventListener("click",(()=>{C.open()}));const y=new class extends i{constructor(e){super(e),this._imageElement=this._popupElement.querySelector(".popup__image"),this._captionElement=this._popupElement.querySelector(".popup__caption")}open(e){let{name:t,link:r}=e;this._imageElement.src=r,this._imageElement.alt=t,this._captionElement.textContent=t,super.open()}}("#picture-popup");y.setEventListeners();const q=new s(e,c),I=new s(e,a),B=new s(e,d);q.enableValidation(),I.enableValidation(),B.enableValidation(),h.addEventListener("click",(()=>{const e=p.getUserInfo();u.value=e.name,_.value=e.description,q.resetValidation(),S.open()})),l.addEventListener("click",(()=>{b.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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anMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZm9ybVZhbGlkYXRpb25TZXR0aW5ncyA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcclxufTtcclxuXHJcbi8vIEVsZW1lbnQgU2VsZWN0b3JzXHJcbmV4cG9ydCBjb25zdCBzZWxlY3RvcnMgPSB7XHJcbiAgcHJvZmlsZUVkaXRGb3JtOiBkb2N1bWVudC5mb3Jtc1tcInByb2ZpbGUtZm9ybVwiXSxcclxuICBhZGRDYXJkRm9ybTogZG9jdW1lbnQuZm9ybXNbXCJjYXJkLWZvcm1cIl0sXHJcbiAgYXZhdGFyRWRpdEZvcm06IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1hdmF0YXItZm9ybVwiKSxcclxuICBwcm9maWxlRWRpdEJ1dHRvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtYnV0dG9uXCIpLFxyXG4gIGFkZENhcmRCdXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1hZGQtYnV0dG9uXCIpLFxyXG4gIHByb2ZpbGVUaXRsZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX190aXRsZVwiKSxcclxuICBwcm9maWxlRGVzY3JpcHRpb246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIiksXHJcbiAgcHJvZmlsZVRpdGxlSW5wdXQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS10aXRsZS1pbnB1dFwiKSxcclxuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWRlc2NyaXB0aW9uLWlucHV0XCIpLFxyXG4gIGNhcmRMaXN0RWw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpc3RcIiksXHJcbiAgYWRkQ2FyZFRpdGxlSW5wdXQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtdGl0bGVcIiksXHJcbiAgYWRkQ2FyZFVybElucHV0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLXVybFwiKSxcclxufTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgLy8gQ29uc3RydWN0b3IgaW5pdGlhbGl6ZXMgdGhlIGNhcmQgb2JqZWN0IHdpdGggaXRzIHByb3BlcnRpZXMgYW5kIGhhbmRsZXMgcGFzc2VkIGFzIGFyZ3VtZW50c1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgeyBuYW1lLCBsaW5rLCBfaWQsIGlzTGlrZWQsIGxpa2VzID0gW10sIG93bmVyIH0sXHJcbiAgICBjYXJkU2VsZWN0b3IsXHJcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxyXG4gICAgY3VycmVudFVzZXJJZCxcclxuICAgIGFwaSxcclxuICAgIGhhbmRsZURlbGV0ZUNhcmRcclxuICApIHtcclxuICAgIHRoaXMuX25hbWUgPSBuYW1lOyAvLyBDYXJkJ3MgbmFtZS90aXRsZVxyXG4gICAgdGhpcy5fbGluayA9IGxpbms7IC8vIFVSTCB0byB0aGUgY2FyZCdzIGltYWdlXHJcbiAgICB0aGlzLl9pZCA9IF9pZDsgLy8gVW5pcXVlIElEIG9mIHRoZSBjYXJkXHJcbiAgICB0aGlzLl9pc0xpa2VkID0gaXNMaWtlZDsgLy8gV2hldGhlciB0aGUgY3VycmVudCB1c2VyIGhhcyBsaWtlZCB0aGUgY2FyZFxyXG4gICAgdGhpcy5fbGlrZXMgPSBsaWtlczsgLy8gQXJyYXkgb2YgdXNlcnMgd2hvIGhhdmUgbGlrZWQgdGhlIGNhcmRcclxuICAgIHRoaXMuX293bmVyID0gb3duZXI7IC8vIElEIG9mIHRoZSB1c2VyIHdobyBvd25zIHRoZSBjYXJkXHJcbiAgICB0aGlzLl9jdXJyZW50VXNlcklkID0gY3VycmVudFVzZXJJZDsgLy8gSUQgb2YgdGhlIGN1cnJlbnQgdXNlciAodG8gY2hlY2sgb3duZXJzaGlwKVxyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yOyAvLyBUZW1wbGF0ZSBzZWxlY3RvciBmb3IgY3JlYXRpbmcgdGhlIGNhcmRcclxuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrOyAvLyBGdW5jdGlvbiB0byBoYW5kbGUgaW1hZ2UgY2xpY2sgZXZlbnRzIChmb3Igb3BlbmluZyBhIGxhcmdlciBpbWFnZSlcclxuICAgIHRoaXMuX2FwaSA9IGFwaTsgLy8gUmVmZXJlbmNlIHRvIHRoZSBBUEkgY2xhc3MgdG8gbWFrZSBsaWtlL3VubGlrZSByZXF1ZXN0c1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCA9IGhhbmRsZURlbGV0ZUNhcmQ7IC8vIEZ1bmN0aW9uIHRvIGhhbmRsZSBjYXJkIGRlbGV0aW9uXHJcbiAgfVxyXG5cclxuICAvLyBQcml2YXRlIG1ldGhvZCB0byB1cGRhdGUgdGhlIGxpa2UgYnV0dG9uJ3Mgc3RhdGUgKGFjdGl2ZSBpZiBsaWtlZClcclxuICBzZXRMaWtlU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faXNMaWtlZCkge1xyXG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7IC8vIEFkZHMgdGhlIGFjdGl2ZSBjbGFzcyB0byBmaWxsIHRoZSBoZWFydFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpOyAvLyBSZW1vdmVzIHRoZSBhY3RpdmUgY2xhc3MgdG8gdW5maWxsIHRoZSBoZWFydFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gUHJpdmF0ZSBtZXRob2QgdG8gdG9nZ2xlIGxpa2UvdW5saWtlIGJlaGF2aW9yXHJcbiAgdG9nZ2xlTGlrZSgpIHtcclxuICAgIGlmICh0aGlzLl9pc0xpa2VkKSB7XHJcbiAgICAgIC8vIElmIGNhcmQgaXMgbGlrZWQsIHNlbmQgcmVxdWVzdCB0byB1bmxpa2UgdGhlIGNhcmRcclxuICAgICAgdGhpcy5fYXBpXHJcbiAgICAgICAgLmRpc2xpa2VDYXJkKHRoaXMuX2lkKVxyXG4gICAgICAgIC50aGVuKCh1cGRhdGVkQ2FyZCkgPT4ge1xyXG4gICAgICAgICAgLy8gdGhpcy5faXNMaWtlZCA9IGZhbHNlOyAvLyBVcGRhdGUgbG9jYWwgbGlrZSBzdGF0ZVxyXG4gICAgICAgICAgdGhpcy5faXNMaWtlZCA9IHVwZGF0ZWRDYXJkLmlzTGlrZWQ7IC8vIFVwZGF0ZSBsaWtlcyBhcnJheVxyXG4gICAgICAgICAgdGhpcy5zZXRMaWtlU3RhdGUoKTsgLy8gUmUgcmVuZGVyIGxpa2Ugc3RhdGVcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGBFcnJvciB1bmxpa2luZyBjYXJkOiAke2Vycn1gKSk7IC8vIEhhbmRsZSBlcnJvcnNcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIElmIGNhcmQgaXMgbm90IGxpa2VkLCBzZW5kIHJlcXVlc3QgdG8gbGlrZSB0aGUgY2FyZFxyXG4gICAgICB0aGlzLl9hcGlcclxuICAgICAgICAubGlrZUNhcmQodGhpcy5faWQpXHJcbiAgICAgICAgLnRoZW4oKHVwZGF0ZWRDYXJkKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl9pc0xpa2VkID0gdXBkYXRlZENhcmQuaXNMaWtlZDsgLy8gVXBkYXRlIHRoZSBpc0xpa2VkIHByb3BlcnR5IGZyb20gdGhlIHJlc3BvbnNlXHJcbiAgICAgICAgICAvLyB0aGlzLl9saWtlcyA9IHVwZGF0ZWRDYXJkLmxpa2VzIHx8IFtdOyAvLyBVcGRhdGUgbGlrZXMgYXJyYXlcclxuICAgICAgICAgIHRoaXMuc2V0TGlrZVN0YXRlKCk7IC8vIFJlIHJlbmRlciBsaWtlIHN0YXRlXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihgRXJyb3IgbGlraW5nIGNhcmQ6ICR7ZXJyfWApKTsgLy8gSGFuZGxlIGVycm9yc1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gUHJpdmF0ZSBtZXRob2QgdG8gc2V0IHVwIGV2ZW50IGxpc3RlbmVycyBmb3IgY2FyZCBhY3Rpb25zXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAvLyBMaXN0ZW4gZm9yIGxpa2UgYnV0dG9uIGNsaWNrcyB0byB0b2dnbGUgbGlrZS91bmxpa2VcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy50b2dnbGVMaWtlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBJZiB0aGUgY2FyZCBiZWxvbmdzIHRvIHRoZSBjdXJyZW50IHVzZXIsIHNldCB1cCB0aGUgZGVsZXRlIGJ1dHRvblxyXG4gICAgaWYgKHRoaXMuX293bmVyID09PSB0aGlzLl9jdXJyZW50VXNlcklkKSB7XHJcbiAgICAgIHRoaXMuX3RyYXNoQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgXCJjbGlja1wiLFxyXG4gICAgICAgICgpID0+IHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQodGhpcy5fY2FyZEVsZW1lbnQsIHRoaXMuX2lkKSAvLyBDYWxsIGRlbGV0ZSBoYW5kbGVyIHdpdGggY2FyZCBpbmZvXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTGlzdGVuIGZvciBpbWFnZSBjbGlja3MgdG8gb3BlbiBhIGxhcmdlciB2aWV3IG9mIHRoZSBpbWFnZVxyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJjbGlja1wiLFxyXG4gICAgICAoKSA9PiB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHRoaXMuX2xpbmssIHRoaXMuX25hbWUpIC8vIENhbGwgaW1hZ2UgY2xpY2sgaGFuZGxlclxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIFB1YmxpYyBtZXRob2QgdG8gY3JlYXRlIHRoZSBjYXJkIHZpZXcgYW5kIHNldCB1cCBldmVudCBsaXN0ZW5lcnNcclxuICBnZXRWaWV3KCkge1xyXG4gICAgdGhpcy5jcmVhdGVDYXJkRWxlbWVudCgpOyAvLyBDcmVhdGUgdGhlIGNhcmQgZWxlbWVudFxyXG4gICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpOyAvLyBBdHRhY2ggZXZlbnQgbGlzdGVuZXJzIHRvIHRoZSBjYXJkXHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7IC8vIFJldHVybiB0aGUgY3JlYXRlZCBjYXJkIGVsZW1lbnRcclxuICB9XHJcblxyXG4gIC8vIFByaXZhdGUgbWV0aG9kIHRvIGNyZWF0ZSBhbmQgcmV0dXJuIHRoZSBjYXJkIGVsZW1lbnQgZnJvbSB0aGUgdGVtcGxhdGVcclxuICBjcmVhdGVDYXJkRWxlbWVudCgpIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKSAvLyBTZWxlY3QgdGhlIGNhcmQgdGVtcGxhdGVcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpIC8vIFNlbGVjdCB0aGUgY2FyZCBzdHJ1Y3R1cmUgaW5zaWRlIHRoZSB0ZW1wbGF0ZVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpOyAvLyBDbG9uZSB0aGUgc3RydWN0dXJlIHRvIGNyZWF0ZSBhIG5ldyBjYXJkXHJcblxyXG4gICAgLy8gU3RvcmUgcmVmZXJlbmNlcyB0byB2YXJpb3VzIGNhcmQgZWxlbWVudHNcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gY2FyZEVsZW1lbnQ7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX3RyYXNoQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190cmFzaC1idXR0b25cIik7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9jYXJkVGl0bGVFbCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XHJcblxyXG4gICAgLy8gU2V0IHRoZSBjYXJkJ3MgdGl0bGUsIGltYWdlIHNvdXJjZSwgYW5kIGFsdCB0ZXh0XHJcbiAgICB0aGlzLl9jYXJkVGl0bGVFbC50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwuYWx0ID0gdGhpcy5fbmFtZTtcclxuXHJcbiAgICAvLyBTZXQgdGhlIGluaXRpYWwgbGlrZSBzdGF0ZSAoYWN0aXZlL2luYWN0aXZlKVxyXG4gICAgdGhpcy5zZXRMaWtlU3RhdGUoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7IC8vIFJldHVybiB0aGUgY29uc3RydWN0ZWQgY2FyZCBlbGVtZW50XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIC8vIENvbnN0cnVjdG9yIGluaXRpYWxpemVzIHRoZSBjbGFzcyB3aXRoIHZhbGlkYXRpb24gc2V0dGluZ3MgYW5kIHRoZSBmb3JtIGVsZW1lbnQgdG8gYmUgdmFsaWRhdGVkXHJcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzOyAvLyBPYmplY3QgY29udGFpbmluZyB2YWxpZGF0aW9uIHNldHRpbmdzIChzZWxlY3RvcnMsIGNsYXNzZXMpXHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50OyAvLyBUaGUgZm9ybSBlbGVtZW50IHRoYXQgd2lsbCBiZSB2YWxpZGF0ZWRcclxuXHJcbiAgICAvLyBDcmVhdGUgYW4gYXJyYXkgb2YgYWxsIGlucHV0IGVsZW1lbnRzIGluc2lkZSB0aGUgZm9ybVxyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9zZXR0aW5ncy5pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBTZWxlY3QgdGhlIHN1Ym1pdCBidXR0b24gaW5zaWRlIHRoZSBmb3JtXHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9zZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIFByaXZhdGUgbWV0aG9kIHRvIGNoZWNrIGlmIGFueSBpbnB1dCBmaWVsZCBpcyBpbnZhbGlkXHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIC8vIENoZWNrIGlmIGFueSBpbnB1dCBmaWVsZCBpbiB0aGUgZm9ybSBpcyBpbnZhbGlkXHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCk7XHJcbiAgfVxyXG5cclxuICAvLyBQcml2YXRlIG1ldGhvZCB0byBlbmFibGUgb3IgZGlzYWJsZSB0aGUgc3VibWl0IGJ1dHRvbiBiYXNlZCBvbiBmb3JtIHZhbGlkaXR5XHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgLy8gSWYgdGhlcmUncyBhbnkgaW52YWxpZCBpbnB1dCwgZGlzYWJsZSB0aGUgc3VibWl0IGJ1dHRvbjsgb3RoZXJ3aXNlLCBlbmFibGUgaXRcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLmRpc2FibGVCdXR0b24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFByaXZhdGUgbWV0aG9kIHRvIGNoZWNrIHRoZSB2YWxpZGl0eSBvZiBhIHNwZWNpZmljIGlucHV0IGVsZW1lbnQgYW5kIHNob3cvaGlkZSBlcnJvciBtZXNzYWdlc1xyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICAvLyBGaW5kIHRoZSBjb3JyZXNwb25kaW5nIGVycm9yIG1lc3NhZ2UgZWxlbWVudCBmb3IgdGhlIGlucHV0IGZpZWxkXHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcblxyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgLy8gQWRkIHRoZSBlcnJvciBjbGFzcyBhbmQgc2hvdyB0aGUgdmFsaWRhdGlvbiBtZXNzYWdlIGlmIHRoZSBpbnB1dCBpcyBpbnZhbGlkXHJcbiAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFJlbW92ZSB0aGUgZXJyb3IgY2xhc3MgYW5kIGNsZWFyIHRoZSBlcnJvciBtZXNzYWdlIGlmIHRoZSBpbnB1dCBpcyB2YWxpZFxyXG4gICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gUHJpdmF0ZSBtZXRob2QgdG8gc2V0IHVwIGV2ZW50IGxpc3RlbmVycyBmb3IgaW5wdXQgZmllbGRzXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgLy8gQ2hlY2sgdGhlIGJ1dHRvbiBzdGF0ZSBpbml0aWFsbHkgaW4gY2FzZSBzb21lIGZpZWxkcyBhcmUgYWxyZWFkeSBmaWxsZWRcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcblxyXG4gICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVycyB0byBhbGwgaW5wdXQgZmllbGRzIGluIHRoZSBmb3JtXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIC8vIENoZWNrIHRoZSB2YWxpZGl0eSBvZiB0aGUgaW5wdXQgZmllbGQgaW4gcmVhbC10aW1lIGFuZCB1cGRhdGUgdGhlIGJ1dHRvbiBzdGF0ZVxyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBQdWJsaWMgbWV0aG9kIHRvIGVuYWJsZSB2YWxpZGF0aW9uIChzZXRzIHVwIHRoZSBldmVudCBsaXN0ZW5lcnMgZm9yIHRoZSBmb3JtKVxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgLy8gUHVibGljIG1ldGhvZCB0byByZXNldCBmb3JtIHZhbGlkYXRpb24gKGNsZWFyIGVycm9ycyBhbmQgcmVzZXQgYnV0dG9uIHN0YXRlKVxyXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgaW5wdXQgZmllbGRzIGluIHRoZSBmb3JtXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICAgICk7XHJcbiAgICAgIC8vIFJlbW92ZSBhbnkgZXJyb3IgY2xhc3NlcyBhbmQgY2xlYXIgZXJyb3IgbWVzc2FnZXNcclxuICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFJlc2V0IHRoZSBzdWJtaXQgYnV0dG9uJ3Mgc3RhdGVcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgfVxyXG5cclxuICAvLyBQdWJsaWMgbWV0aG9kIHRvIGRpc2FibGUgdGhlIHN1Ym1pdCBidXR0b25cclxuICBkaXNhYmxlQnV0dG9uKCkge1xyXG4gICAgLy8gQWRkIGEgY2xhc3MgdG8gZGlzYWJsZSB0aGUgYnV0dG9uIGFuZCBzZXQgdGhlIGRpc2FibGVkIGF0dHJpYnV0ZSB0byB0cnVlXHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgfVxyXG59XHJcbiIsIi8vIFRoaXMgY2xhc3MgaGFuZGxlcyB0aGUgYmFzaWMgZnVuY3Rpb25hbGl0eSBmb3Igb3BlbmluZyBhbmQgY2xvc2luZyBwb3B1cHMuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAvLyBTZWxlY3QgdGhlIHBvcHVwIGVsZW1lbnQgdXNpbmcgdGhlIHByb3ZpZGVkIHNlbGVjdG9yLlxyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuXHJcbiAgICAvLyBCaW5kIHRoZSBjb250ZXh0IG9mIHRoZSBfaGFuZGxlRXNjQ2xvc2UgbWV0aG9kIHRvIHRoaXMgaW5zdGFuY2VcclxuICAgIC8vIFRoaXMgZW5zdXJlcyB0aGF0IHRoZSAndGhpcycga2V5d29yZCBpbnNpZGUgX2hhbmRsZUVzY0Nsb3NlIHJlZmVycyB0byB0aGUgY2xhc3MgaW5zdGFuY2VcclxuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIC8vIE1ldGhvZCB0byBvcGVuIHRoZSBwb3B1cCBhbmQgYWRkIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGRldGVjdCB0aGUgXCJFc2NhcGVcIiBrZXkgcHJlc3NcclxuICBvcGVuKCkge1xyXG4gICAgLy8gQWRkIGEgY2xhc3MgdG8gb3BlbiB0aGUgcG9wdXBcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xyXG5cclxuICAgIC8vIEF0dGFjaCBhbiBldmVudCBsaXN0ZW5lciB0byB0aGUgZG9jdW1lbnQgdG8gZGV0ZWN0IHRoZSBcIkVzY2FwZVwiIGtleSBwcmVzcyBhbmQgY2xvc2UgdGhlIHBvcHVwXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICAvLyBNZXRob2QgdG8gY2xvc2UgdGhlIHBvcHVwIGFuZCByZW1vdmUgdGhlIFwiRXNjYXBlXCIga2V5IGV2ZW50IGxpc3RlbmVyXHJcbiAgY2xvc2UoKSB7XHJcbiAgICAvLyBSZW1vdmUgdGhlIGNsYXNzIHRoYXQgb3BlbnMgdGhlIHBvcHVwXHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcclxuXHJcbiAgICAvLyBSZW1vdmUgdGhlIFwia2V5ZG93blwiIGV2ZW50IGxpc3RlbmVyIHdoZW4gdGhlIHBvcHVwIGlzIGNsb3NlZFxyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgLy8gUHJpdmF0ZSBtZXRob2QgdG8gaGFuZGxlIGNsb3NpbmcgdGhlIHBvcHVwIHdoZW4gdGhlIFwiRXNjYXBlXCIga2V5IGlzIHByZXNzZWRcclxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICAvLyBJZiB0aGUgXCJFc2NhcGVcIiBrZXkgaXMgcHJlc3NlZCwgY2xvc2UgdGhlIHBvcHVwXHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBNZXRob2QgdG8gc2V0IHVwIGV2ZW50IGxpc3RlbmVycyBmb3IgdGhlIHBvcHVwIChjbG9zZSBidXR0b24gYW5kIGJhY2tncm91bmQgY2xpY2spXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAvLyBGaW5kIGFuZCBhdHRhY2ggYW4gZXZlbnQgbGlzdGVuZXIgdG8gdGhlIGNsb3NlIGJ1dHRvbiBvZiB0aGUgcG9wdXBcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2VcIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpOyAvLyBDbG9zZSB0aGUgcG9wdXAgd2hlbiB0aGUgY2xvc2UgYnV0dG9uIGlzIGNsaWNrZWRcclxuICAgICAgfSk7XHJcblxyXG4gICAgLy8gQWRkIGFuIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBwb3B1cCB0byBjbG9zZSBpdCB3aGVuIGNsaWNraW5nIG9uIHRoZSBiYWNrZ3JvdW5kIChvdXRzaWRlIHRoZSBwb3B1cCBjb250ZW50KVxyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xyXG4gICAgICAvLyBJZiB0aGUgdXNlciBjbGlja3MgZGlyZWN0bHkgb24gdGhlIHBvcHVwIGJhY2tncm91bmQsIGNsb3NlIHRoZSBwb3B1cFxyXG4gICAgICBpZiAoZXZ0LnRhcmdldCA9PT0gdGhpcy5fcG9wdXBFbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiLy8gSW1wb3J0IHRoZSBiYXNlIFBvcHVwIGNsYXNzXHJcbmltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuLy8gUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHRvIGhhbmRsZSBmb3JtcyBpbnNpZGUgYSBwb3B1cFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIC8vIENvbnN0cnVjdG9yIHRha2VzIHRoZSBwb3B1cCBzZWxlY3RvciBhbmQgYSBmdW5jdGlvbiB0byBoYW5kbGUgZm9ybSBzdWJtaXNzaW9uXHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLmhhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHRoZXJlJ3MgYSBmb3JtIGVsZW1lbnQsIGFzIHNvbWUgcG9wdXBzIG1pZ2h0IG5vdCBoYXZlIG9uZVxyXG4gICAgdGhpcy5mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpIHx8IG51bGw7XHJcblxyXG4gICAgLy8gRmluZCB0aGUgc3VibWl0IGJ1dHRvbiBhbmQgc3RvcmUgaXRzIGluaXRpYWwgdGV4dFxyXG4gICAgaWYgKHRoaXMuZm9ybUVsZW1lbnQpIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnRuID0gdGhpcy5mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ0blRleHQgPSB0aGlzLl9zdWJtaXRCdG4udGV4dENvbnRlbnQ7IC8vIFN0b3JlIGluaXRpYWwgYnV0dG9uIHRleHRcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBhIGZvcm0gZXhpc3RzLCBnZXQgaW5wdXQgZmllbGRzXHJcbiAgICBpZiAodGhpcy5mb3JtRWxlbWVudCkge1xyXG4gICAgICB0aGlzLmlucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgICAgdGhpcy5mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gTWV0aG9kIHRvIGdldCBpbnB1dCB2YWx1ZXMgZnJvbSB0aGUgZm9ybVxyXG4gIF9fZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xyXG4gICAgaWYgKHRoaXMuZm9ybUVsZW1lbnQpIHtcclxuICAgICAgdGhpcy5pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgICBpbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcclxuICB9XHJcblxyXG4gIC8vIE1ldGhvZCB0byBoYW5kbGUgdGhlIGxvYWRpbmcgc3RhdGUgb2YgdGhlIHN1Ym1pdCBidXR0b25cclxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZywgbG9hZGluZ1RleHQgPSBcIlNhdmluZy4uLlwiKSB7XHJcbiAgICBpZiAoaXNMb2FkaW5nKSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IGxvYWRpbmdUZXh0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnRuLnRleHRDb250ZW50ID0gdGhpcy5fc3VibWl0QnRuVGV4dDsgLy8gUmV2ZXJ0IHRvIGluaXRpYWwgdGV4dFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQWRkIGV2ZW50IGxpc3RlbmVycyB0byB0aGUgZm9ybVxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICBpZiAodGhpcy5mb3JtRWxlbWVudCkge1xyXG4gICAgICB0aGlzLmZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gUHVibGljIG1ldGhvZCB0byByZXNldCB0aGUgZm9ybSAodGhpcyBjYW4gbm93IGJlIGNhbGxlZCBleHBsaWNpdGx5KVxyXG4gIHJlc2V0Rm9ybSgpIHtcclxuICAgIGlmICh0aGlzLmZvcm1FbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuZm9ybUVsZW1lbnQucmVzZXQoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIENsb3NlIHBvcHVwIGFuZCByZXNldCB0aGUgZm9ybSBpZiBhcHBsaWNhYmxlXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpOyAvLyBDYWxsIHRoZSBiYXNlIGNsYXNzIGNsb3NlIG1ldGhvZFxyXG4gIH1cclxufVxyXG4iLCIvLyBJbXBvcnRzXHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCB7IGZvcm1WYWxpZGF0aW9uU2V0dGluZ3MsIHNlbGVjdG9ycyB9IGZyb20gXCIuLi91dGlscy91dGlscy5qc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XHJcblxyXG4vLyBJbml0aWFsaXplIHRoZSBBUEkgaW5zdGFuY2VcclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiNzY1YTU2YWItMTQwMy00NDQ0LThmYWMtNWZjMTg3MWU5Njk1XCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuXHJcbi8vIERlc3RydWN0dXJlZCBzZWxlY3RvcnMgZnJvbSBjb25zdGFudHNcclxuY29uc3Qge1xyXG4gIGFkZENhcmRGb3JtLFxyXG4gIGFkZENhcmRCdXR0b24sXHJcbiAgYXZhdGFyRWRpdEZvcm0sXHJcbiAgcHJvZmlsZUVkaXRGb3JtLFxyXG4gIHByb2ZpbGVFZGl0QnV0dG9uLFxyXG4gIHByb2ZpbGVUaXRsZUlucHV0LFxyXG4gIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0LFxyXG59ID0gc2VsZWN0b3JzO1xyXG5cclxuLy8gQ2FjaGUgRE9NIGVsZW1lbnQgZm9yIHRoZSBhdmF0YXIgZWRpdCBidXR0b24gdG8gYXZvaWQgcXVlcnlpbmcgdGhlIERPTSByZXBlYXRlZGx5XHJcbmNvbnN0IGF2YXRhckVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtYXZhdGFyLWJ1dHRvblwiKTtcclxuXHJcbi8vIEluaXRpYWxpemUgVXNlckluZm8gdG8gbWFuYWdlIGFuZCB1cGRhdGUgcHJvZmlsZSBkYXRhIG9uIHRoZSBwYWdlXHJcbmNvbnN0IHVzZXJJbmZvSW5zdGFuY2UgPSBuZXcgVXNlckluZm8oe1xyXG4gIG5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fdGl0bGVcIiwgLy8gU2VsZWN0b3IgZm9yIHByb2ZpbGUgbmFtZVxyXG4gIGRlc2NyaXB0aW9uU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIsIC8vIFNlbGVjdG9yIGZvciBwcm9maWxlIGRlc2NyaXB0aW9uXHJcbiAgYXZhdGFyU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2ltYWdlXCIsIC8vIFNlbGVjdG9yIGZvciBwcm9maWxlIGF2YXRhclxyXG59KTtcclxuXHJcbi8vIEluaXRpYWxpemUgdGhlIGRlbGV0ZSBjb25maXJtYXRpb24gcG9wdXAgb25seSBvbmNlXHJcbmNvbnN0IGRlbGV0ZVBvcHVwSW5zdGFuY2UgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKFwiI2RlbGV0ZS1jYXJkLXBvcHVwXCIpO1xyXG5kZWxldGVQb3B1cEluc3RhbmNlLnNldEV2ZW50TGlzdGVuZXJzKCk7IC8vIFNldCB1cCBldmVudCBsaXN0ZW5lcnMgZm9yIGVzY2FwZSBrZXksIGNsb3NlIGJ1dHRvbiwgYW5kIGJhY2tncm91bmQgY2xpY2tzXHJcblxyXG4vLyBGdW5jdGlvbiB0byBoYW5kbGUgY2FyZCBkZWxldGlvbiB3aXRoIGNvbmZpcm1hdGlvbiBwb3B1cFxyXG5jb25zdCBoYW5kbGVEZWxldGVDYXJkID0gKGNhcmRFbGVtZW50LCBjYXJkSWQpID0+IHtcclxuICBkZWxldGVQb3B1cEluc3RhbmNlLnNldENvbmZpcm1IYW5kbGVyKCgpID0+IHtcclxuICAgIGFwaVxyXG4gICAgICAuZGVsZXRlQ2FyZChjYXJkSWQpIC8vIEFQSSBjYWxsIHRvIGRlbGV0ZSB0aGUgY2FyZFxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgY2FyZEVsZW1lbnQucmVtb3ZlKCk7IC8vIFJlbW92ZSBjYXJkIGZyb20gVUkgdXBvbiBzdWNjZXNzZnVsIGRlbGV0aW9uXHJcbiAgICAgICAgZGVsZXRlUG9wdXBJbnN0YW5jZS5jbG9zZSgpOyAvLyBDbG9zZSB0aGUgcG9wdXAgYWZ0ZXIgZGVsZXRpb25cclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoYEVycm9yIGRlbGV0aW5nIGNhcmQ6ICR7ZXJyfWApKTsgLy8gSGFuZGxlIGFueSBlcnJvcnNcclxuICB9KTtcclxuICBkZWxldGVQb3B1cEluc3RhbmNlLm9wZW4oKTsgLy8gT3BlbiB0aGUgZGVsZXRlIGNvbmZpcm1hdGlvbiBwb3B1cFxyXG59O1xyXG5cclxuLy8gRnVuY3Rpb24gdG8gY3JlYXRlIGEgY2FyZFxyXG5jb25zdCBjcmVhdGVDYXJkID0gKGNhcmREYXRhKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBjYXJkRGF0YS5uYW1lLFxyXG4gICAgICBsaW5rOiBjYXJkRGF0YS5saW5rLFxyXG4gICAgICBfaWQ6IGNhcmREYXRhLl9pZCxcclxuICAgICAgb3duZXI6IGNhcmREYXRhLm93bmVyLFxyXG4gICAgICBpc0xpa2VkOiBjYXJkRGF0YS5pc0xpa2VkLFxyXG4gICAgfSxcclxuICAgIFwiI2NhcmQtdGVtcGxhdGVcIiwgLy8gQ2FyZCB0ZW1wbGF0ZSBzZWxlY3RvclxyXG4gICAgaGFuZGxlSW1hZ2VQb3B1cCwgLy8gRnVuY3Rpb24gdG8gaGFuZGxlIGltYWdlIGNsaWNrIHBvcHVwXHJcbiAgICBjdXJyZW50VXNlcklkLCAvLyBDdXJyZW50IHVzZXIgSUQgZm9yIG1hbmFnaW5nIGNhcmQgb3duZXJzaGlwXHJcbiAgICBhcGksIC8vIEFQSSBpbnN0YW5jZSBmb3IgaGFuZGxpbmcgbGlrZXMgYW5kIGRlbGV0aW9uXHJcbiAgICBoYW5kbGVEZWxldGVDYXJkIC8vIEZ1bmN0aW9uIHRvIGhhbmRsZSBjYXJkIGRlbGV0aW9uXHJcbiAgKTtcclxuICByZXR1cm4gY2FyZC5nZXRWaWV3KCk7XHJcbn07XHJcblxyXG4vLyBJbml0aWFsaXplIHRoZSBTZWN0aW9uIGNsYXNzIHRvIHJlbmRlciBhbmQgbWFuYWdlIHRoZSBjYXJkIGxpc3QgaW4gdGhlIFVJXHJcbmNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgcmVuZGVyZXI6IChjYXJkRGF0YSkgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoY2FyZERhdGEpO1xyXG4gICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBcIi5jYXJkc19fbGlzdFwiXHJcbik7XHJcblxyXG4vLyBGZXRjaCBhbmQgcmVuZGVyIHVzZXIgaW5mbyBhbmQgY2FyZHMgYWZ0ZXIgcGFnZSBsb2FkXHJcbmxldCBjdXJyZW50VXNlcklkOyAvLyBWYXJpYWJsZSB0byBzdG9yZSB0aGUgY3VycmVudCB1c2VyJ3MgSURcclxuYXBpXHJcbiAgLmdldFVzZXJJbmZvKClcclxuICAudGhlbigodXNlckluZm8pID0+IHtcclxuICAgIC8vIFNldCB1c2VyIGluZm8gb24gdGhlIHBhZ2UgdXNpbmcgdGhlIFVzZXJJbmZvIGluc3RhbmNlXHJcbiAgICB1c2VySW5mb0luc3RhbmNlLnNldFVzZXJJbmZvKHtcclxuICAgICAgbmFtZTogdXNlckluZm8ubmFtZSwgLy8gU2V0IHByb2ZpbGUgbmFtZVxyXG4gICAgICBkZXNjcmlwdGlvbjogdXNlckluZm8uYWJvdXQsIC8vIFNldCBwcm9maWxlIGRlc2NyaXB0aW9uXHJcbiAgICAgIGF2YXRhcjogdXNlckluZm8uYXZhdGFyLCAvLyBTZXQgcHJvZmlsZSBhdmF0YXJcclxuICAgIH0pO1xyXG4gICAgY3VycmVudFVzZXJJZCA9IHVzZXJJbmZvLl9pZDsgLy8gU3RvcmUgdGhlIGN1cnJlbnQgdXNlciBJRFxyXG5cclxuICAgIHJldHVybiBhcGkuZ2V0SW5pdGlhbENhcmRzKCk7IC8vIEZldGNoIGluaXRpYWwgY2FyZHMgZnJvbSB0aGUgc2VydmVyXHJcbiAgfSlcclxuICAudGhlbigoY2FyZHMpID0+IHtcclxuICAgIGNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKGNhcmRzLnJldmVyc2UoKSk7IC8vIFJlbmRlciBhbGwgY2FyZHMgdXNpbmcgcmVuZGVySXRlbXNcclxuICB9KVxyXG5cclxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHVzZXIgaW5mbyBvciBjYXJkczpcIiwgZXJyKSk7IC8vIEhhbmRsZSBlcnJvcnMgZHVyaW5nIEFQSSByZXF1ZXN0c1xyXG5cclxuLy8gT3BlbnMgcHJvZmlsZSBlZGl0IHBvcHVwIGFuZCBwcmUtZmlsbHMgdGhlIGZvcm0gd2l0aCBjdXJyZW50IHVzZXIgaW5mb1xyXG5jb25zdCBoYW5kbGVQcm9maWxlRWRpdCA9ICgpID0+IHtcclxuICBjb25zdCB1c2VyRGF0YSA9IHVzZXJJbmZvSW5zdGFuY2UuZ2V0VXNlckluZm8oKTsgLy8gR2V0IGN1cnJlbnQgcHJvZmlsZSBkYXRhXHJcbiAgcHJvZmlsZVRpdGxlSW5wdXQudmFsdWUgPSB1c2VyRGF0YS5uYW1lOyAvLyBQcmUtZmlsbCBwcm9maWxlIG5hbWUgaW5wdXRcclxuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHVzZXJEYXRhLmRlc2NyaXB0aW9uOyAvLyBQcmUtZmlsbCBwcm9maWxlIGRlc2NyaXB0aW9uXHJcbiAgcHJvZmlsZUZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7IC8vIFJlc2V0IGZvcm0gdmFsaWRhdGlvbiBzdGF0ZVxyXG4gIHByb2ZpbGVFZGl0UG9wdXBJbnN0YW5jZS5vcGVuKCk7IC8vIE9wZW4gdGhlIHByb2ZpbGUgZWRpdCBwb3B1cFxyXG59O1xyXG5cclxuLy8gT3BlbnMgdGhlIGltYWdlIHBvcHVwIHdoZW4gYSBjYXJkIGltYWdlIGlzIGNsaWNrZWRcclxuY29uc3QgaGFuZGxlSW1hZ2VQb3B1cCA9IChsaW5rLCBuYW1lKSA9PiB7XHJcbiAgcGljdHVyZVBvcHVwSW5zdGFuY2Uub3Blbih7IG5hbWUsIGxpbmsgfSk7IC8vIE9wZW4gdGhlIHBvcHVwIHdpdGggdGhlIGltYWdlIGFuZCBpdHMgY2FwdGlvblxyXG59O1xyXG5cclxuLy8gSW5pdGlhbGl6ZSBwcm9maWxlIGVkaXQgcG9wdXAgd2l0aCBmb3JtIHN1Ym1pc3Npb24gaGFuZGxpbmdcclxuY29uc3QgcHJvZmlsZUVkaXRQb3B1cEluc3RhbmNlID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgXCIjcHJvZmlsZS1lZGl0LXBvcHVwXCIsXHJcbiAgKGZvcm1EYXRhKSA9PiB7XHJcbiAgICBwcm9maWxlRWRpdFBvcHVwSW5zdGFuY2UucmVuZGVyTG9hZGluZyh0cnVlKTtcclxuXHJcbiAgICAvLyBTZW5kIFBBVENIIHJlcXVlc3QgdG8gdXBkYXRlIHRoZSB1c2VyJ3MgcHJvZmlsZSBpbmZvXHJcbiAgICBhcGlcclxuICAgICAgLnVwZGF0ZVVzZXJJbmZvKHtcclxuICAgICAgICBuYW1lOiBmb3JtRGF0YS5uYW1lLFxyXG4gICAgICAgIGFib3V0OiBmb3JtRGF0YS5kZXNjcmlwdGlvbixcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKHVwZGF0ZWRVc2VySW5mbykgPT4ge1xyXG4gICAgICAgIHVzZXJJbmZvSW5zdGFuY2Uuc2V0VXNlckluZm8oe1xyXG4gICAgICAgICAgbmFtZTogdXBkYXRlZFVzZXJJbmZvLm5hbWUsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogdXBkYXRlZFVzZXJJbmZvLmFib3V0LFxyXG4gICAgICAgICAgYXZhdGFyOiB1cGRhdGVkVXNlckluZm8uYXZhdGFyLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHByb2ZpbGVFZGl0UG9wdXBJbnN0YW5jZS5jbG9zZSgpOyAvLyBDbG9zZSB0aGUgcG9wdXAgYWZ0ZXIgc3VjY2Vzc1xyXG4gICAgICAgIHByb2ZpbGVFZGl0UG9wdXBJbnN0YW5jZS5yZXNldEZvcm0oKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgcHJvZmlsZTpcIiwgZXJyKTsgLy8gSGFuZGxlIGVycm9ycyBkdXJpbmcgcHJvZmlsZSB1cGRhdGVcclxuICAgICAgfSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgIHByb2ZpbGVFZGl0UG9wdXBJbnN0YW5jZS5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG4pO1xyXG5cclxucHJvZmlsZUVkaXRQb3B1cEluc3RhbmNlLnNldEV2ZW50TGlzdGVuZXJzKCk7IC8vIFNldCBldmVudCBsaXN0ZW5lcnMgZm9yIHRoZSBwcm9maWxlIGVkaXQgcG9wdXBcclxuXHJcbi8vIEluaXRpYWxpemUgdGhlIGNhcmQgYWRkaXRpb24gcG9wdXAgd2l0aCBmb3JtIHN1Ym1pc3Npb24gaGFuZGxpbmdcclxuY29uc3QgYWRkQ2FyZFBvcHVwSW5zdGFuY2UgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBcIiNhZGQtY2FyZC1wb3B1cFwiLFxyXG4gIChmb3JtRGF0YSkgPT4ge1xyXG4gICAgYWRkQ2FyZFBvcHVwSW5zdGFuY2UucmVuZGVyTG9hZGluZyh0cnVlKTtcclxuICAgIC8vIFNlbmQgUE9TVCByZXF1ZXN0IHRvIGFkZCBhIG5ldyBjYXJkXHJcbiAgICBhcGlcclxuICAgICAgLmFkZENhcmQoe1xyXG4gICAgICAgIG5hbWU6IGZvcm1EYXRhLnRpdGxlLFxyXG4gICAgICAgIGxpbms6IGZvcm1EYXRhLnVybCxcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKG5ld0NhcmQpID0+IHtcclxuICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoe1xyXG4gICAgICAgICAgbmFtZTogbmV3Q2FyZC5uYW1lLFxyXG4gICAgICAgICAgbGluazogbmV3Q2FyZC5saW5rLFxyXG4gICAgICAgICAgX2lkOiBuZXdDYXJkLl9pZCxcclxuICAgICAgICAgIG93bmVyOiBuZXdDYXJkLm93bmVyLFxyXG4gICAgICAgICAgbGlrZXM6IG5ld0NhcmQubGlrZXMsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCk7IC8vIEFkZCBuZXcgY2FyZCB0byB0aGUgVUlcclxuICAgICAgICBhZGRDYXJkUG9wdXBJbnN0YW5jZS5jbG9zZSgpOyAvLyBDbG9zZSB0aGUgcG9wdXAgYWZ0ZXIgc3VjY2Vzc1xyXG4gICAgICAgIGFkZENhcmRQb3B1cEluc3RhbmNlLnJlc2V0Rm9ybSgpO1xyXG4gICAgICAgIGNhcmRGb3JtVmFsaWRhdG9yLmRpc2FibGVCdXR0b24oKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWRkaW5nIGNhcmQ6XCIsIGVycik7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICBhZGRDYXJkUG9wdXBJbnN0YW5jZS5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG4pO1xyXG5cclxuYWRkQ2FyZFBvcHVwSW5zdGFuY2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTsgLy8gU2V0IGV2ZW50IGxpc3RlbmVycyBmb3IgdGhlIGNhcmQgYWRkaXRpb24gcG9wdXBcclxuXHJcbi8vIEluaXRpYWxpemUgYXZhdGFyIGVkaXQgcG9wdXAgd2l0aCBmb3JtIHN1Ym1pc3Npb24gaGFuZGxpbmdcclxuY29uc3QgYXZhdGFyRWRpdFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjYXZhdGFyLWVkaXQtcG9wdXBcIiwgKGZvcm1EYXRhKSA9PiB7XHJcbiAgYXZhdGFyRWRpdFBvcHVwLnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcblxyXG4gIGFwaVxyXG4gICAgLnVwZGF0ZUF2YXRhcihmb3JtRGF0YS5hdmF0YXIpXHJcbiAgICAudGhlbigodXBkYXRlZFVzZXJJbmZvKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvSW5zdGFuY2Uuc2V0VXNlckluZm8oe1xyXG4gICAgICAgIG5hbWU6IHVwZGF0ZWRVc2VySW5mby5uYW1lLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiB1cGRhdGVkVXNlckluZm8uYWJvdXQsXHJcbiAgICAgICAgYXZhdGFyOiB1cGRhdGVkVXNlckluZm8uYXZhdGFyLFxyXG4gICAgICB9KTtcclxuICAgICAgYXZhdGFyRWRpdFBvcHVwLmNsb3NlKCk7XHJcbiAgICAgIGF2YXRhckVkaXRGb3JtLnJlc2V0KCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoXCJFcnJvciB1cGRhdGluZyBhdmF0YXI6XCIsIGVycikpXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIGF2YXRhckVkaXRQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgIH0pO1xyXG59KTtcclxuXHJcbmF2YXRhckVkaXRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpOyAvLyBTZXQgZXZlbnQgbGlzdGVuZXJzIGZvciB0aGUgYXZhdGFyIGVkaXQgcG9wdXBcclxuXHJcbi8vIFNldCB1cCB0aGUgZXZlbnQgbGlzdGVuZXIgZm9yIHRoZSBhdmF0YXIgZWRpdCBidXR0b25cclxuYXZhdGFyRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGF2YXRhckVkaXRQb3B1cC5vcGVuKCk7IC8vIE9wZW4gdGhlIGF2YXRhciBlZGl0IHBvcHVwIHdoZW4gdGhlIGJ1dHRvbiBpcyBjbGlja2VkXHJcbn0pO1xyXG5cclxuLy8gSW5pdGlhbGl6ZSBpbWFnZSBwb3B1cCBmb3IgZGlzcGxheWluZyBsYXJnZXIgaW1hZ2VzXHJcbmNvbnN0IHBpY3R1cmVQb3B1cEluc3RhbmNlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI3BpY3R1cmUtcG9wdXBcIik7XHJcbnBpY3R1cmVQb3B1cEluc3RhbmNlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyBJbml0aWFsaXplIGZvcm0gdmFsaWRhdG9ycyBmb3IgcHJvZmlsZSwgY2FyZCwgYW5kIGF2YXRhciBmb3Jtc1xyXG5jb25zdCBwcm9maWxlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxyXG4gIGZvcm1WYWxpZGF0aW9uU2V0dGluZ3MsXHJcbiAgcHJvZmlsZUVkaXRGb3JtXHJcbik7XHJcbmNvbnN0IGNhcmRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgZm9ybVZhbGlkYXRpb25TZXR0aW5ncyxcclxuICBhZGRDYXJkRm9ybVxyXG4pO1xyXG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgZm9ybVZhbGlkYXRpb25TZXR0aW5ncyxcclxuICBhdmF0YXJFZGl0Rm9ybVxyXG4pO1xyXG5cclxuLy8gRW5hYmxlIGZvcm0gdmFsaWRhdGlvbiBmb3IgYWxsIGZvcm1zXHJcbnByb2ZpbGVGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuY2FyZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5hdmF0YXJGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbi8vIFNldCB1cCBldmVudCBsaXN0ZW5lcnMgZm9yIHByb2ZpbGUgZWRpdCBhbmQgYWRkIGNhcmQgYnV0dG9uc1xyXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUHJvZmlsZUVkaXQpOyAvLyBPcGVuIHByb2ZpbGUgZWRpdCBwb3B1cFxyXG5hZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgYWRkQ2FyZFBvcHVwSW5zdGFuY2Uub3BlbigpOyAvLyBPcGVuIGNhcmQgYWRkaXRpb24gcG9wdXBcclxufSk7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgLy8gQ29uc3RydWN0b3IgaW5pdGlhbGl6ZXMgQVBJIHdpdGggYSBiYXNlIFVSTCBhbmQgYXV0aG9yaXphdGlvbiBoZWFkZXJzXHJcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcclxuICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgLy8gR2VuZXJhbCBtZXRob2QgdG8gaGFuZGxlIGZldGNoIHJlcXVlc3RzIGFuZCBjaGVjayByZXNwb25zZXNcclxuICBfcmVxdWVzdCh1cmwsIG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBmZXRjaCh1cmwsIG9wdGlvbnMpLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICAvLyBNZXRob2QgdG8gY2hlY2sgdGhlIHNlcnZlcidzIHJlc3BvbnNlIGFuZCBoYW5kbGUgZXJyb3JzXHJcbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpOyAvLyBSZXR1cm4gSlNPTiBpZiByZXNwb25zZSBpcyBPS1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApOyAvLyBSZWplY3QgcHJvbWlzZSB3aXRoIGVycm9yIHN0YXR1c1xyXG4gIH1cclxuXHJcbiAgLy8gR2VuZXJhbCBlcnJvciBoYW5kbGVyIGZvciBjYXRjaGluZyBhbmQgbG9nZ2luZyBlcnJvcnNcclxuICBfaGFuZGxlRXJyb3IoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGVycik7IC8vIExvZyBlcnJvciB0byBjb25zb2xlXHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTsgLy8gUmVqZWN0IHRoZSBwcm9taXNlIHdpdGggdGhlIGVycm9yXHJcbiAgfVxyXG5cclxuICAvLyBGZXRjaCBpbml0aWFsIHNldCBvZiBjYXJkcyBmcm9tIHRoZSBzZXJ2ZXJcclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsIC8vIFBhc3MgYXV0aG9yaXphdGlvbiBoZWFkZXJzXHJcbiAgICB9KS5jYXRjaCh0aGlzLl9oYW5kbGVFcnJvcik7IC8vIEhhbmRsZSBlcnJvcnNcclxuICB9XHJcblxyXG4gIC8vIEZldGNoIHVzZXIgaW5mb3JtYXRpb24gZnJvbSB0aGUgc2VydmVyXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLmJhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsIC8vIEF1dGhvcml6YXRpb24gaGVhZGVycyBmb3IgdGhlIHJlcXVlc3RcclxuICAgIH0pLmNhdGNoKHRoaXMuX2hhbmRsZUVycm9yKTsgLy8gSGFuZGxlIGVycm9yc1xyXG4gIH1cclxuXHJcbiAgLy8gVXBkYXRlIHVzZXIgaW5mb3JtYXRpb24gKG5hbWUsIGFib3V0KSBvbiB0aGUgc2VydmVyXHJcbiAgdXBkYXRlVXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLmJhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIiwgLy8gUEFUQ0ggcmVxdWVzdCBmb3IgcGFydGlhbCB1cGRhdGVzXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IGFib3V0LFxyXG4gICAgICB9KSwgLy8gSlNPTiBib2R5IHdpdGggdXBkYXRlZCBkYXRhXHJcbiAgICB9KS5jYXRjaCh0aGlzLl9oYW5kbGVFcnJvcik7IC8vIEhhbmRsZSBlcnJvcnNcclxuICB9XHJcblxyXG4gIC8vIEFkZCBhIG5ldyBjYXJkIChuYW1lLCBsaW5rKSB0byB0aGUgc2VydmVyXHJcbiAgYWRkQ2FyZCh7IG5hbWUsIGxpbmsgfSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIiwgLy8gUE9TVCByZXF1ZXN0IHRvIGNyZWF0ZSBuZXcgY2FyZFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGxpbms6IGxpbmssXHJcbiAgICAgIH0pLCAvLyBKU09OIGJvZHkgd2l0aCBjYXJkIGRldGFpbHNcclxuICAgIH0pLmNhdGNoKHRoaXMuX2hhbmRsZUVycm9yKTsgLy8gSGFuZGxlIGVycm9yc1xyXG4gIH1cclxuXHJcbiAgLy8gRGVsZXRlIGEgY2FyZCBieSBpdHMgSURcclxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIiwgLy8gREVMRVRFIHJlcXVlc3QgdG8gcmVtb3ZlIHRoZSBjYXJkXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycywgLy8gQXV0aG9yaXphdGlvbiBoZWFkZXJzXHJcbiAgICB9KS5jYXRjaCh0aGlzLl9oYW5kbGVFcnJvcik7IC8vIEhhbmRsZSBlcnJvcnNcclxuICB9XHJcblxyXG4gIC8vIExpa2UgYSBjYXJkIGJ5IHNlbmRpbmcgYSBQVVQgcmVxdWVzdCB0byB0aGUgc2VydmVyXHJcbiAgbGlrZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBVVFwiLCAvLyBQVVQgcmVxdWVzdCB0byBsaWtlIHRoZSBjYXJkXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgIH0pLmNhdGNoKHRoaXMuX2hhbmRsZUVycm9yKTsgLy8gSGFuZGxlIGVycm9yc1xyXG4gIH1cclxuXHJcbiAgLy8gRGlzbGlrZSBhIGNhcmQgYnkgc2VuZGluZyBhIERFTEVURSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXJcclxuICBkaXNsaWtlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsIC8vIERFTEVURSByZXF1ZXN0IHRvIHJlbW92ZSB0aGUgbGlrZVxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICB9KS5jYXRjaCh0aGlzLl9oYW5kbGVFcnJvcik7IC8vIEhhbmRsZSBlcnJvcnNcclxuICB9XHJcblxyXG4gIC8vIFVwZGF0ZSB1c2VyIGF2YXRhciBieSBzZW5kaW5nIGEgUEFUQ0ggcmVxdWVzdCB3aXRoIHRoZSBuZXcgYXZhdGFyIFVSTFxyXG4gIHVwZGF0ZUF2YXRhcihhdmF0YXJVcmwpIHtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIiwgLy8gUEFUQ0ggcmVxdWVzdCBmb3IgcGFydGlhbCB1cGRhdGVzXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcjogYXZhdGFyVXJsLCAvLyBKU09OIGJvZHkgd2l0aCBuZXcgYXZhdGFyIFVSTFxyXG4gICAgICB9KSxcclxuICAgIH0pLmNhdGNoKHRoaXMuX2hhbmRsZUVycm9yKTsgLy8gSGFuZGxlIGVycm9yc1xyXG4gIH1cclxufVxyXG4iLCIvLyBUaGUgVXNlckluZm8gY2xhc3MgaXMgcmVzcG9uc2libGUgZm9yIG1hbmFnaW5nIGFuZCB1cGRhdGluZyB1c2VyIGluZm9ybWF0aW9uIG9uIHRoZSBwYWdlXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3RvciwgZGVzY3JpcHRpb25TZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xyXG4gICAgdGhpcy5fbmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9kZXNjcmlwdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRlc2NyaXB0aW9uU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgLy8gTWV0aG9kIHRvIGdldCB0aGUgY3VycmVudCB1c2VyIGluZm9ybWF0aW9uIGZyb20gdGhlIHBhZ2VcclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5fZGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgICBhdmF0YXI6IHRoaXMuX2F2YXRhckVsZW1lbnQuc3JjLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIE1ldGhvZCB0byB1cGRhdGUgdGhlIHVzZXIgaW5mb3JtYXRpb24gb24gdGhlIHBhZ2VcclxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGRlc2NyaXB0aW9uLCBhdmF0YXIgfSkge1xyXG4gICAgdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fZGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XHJcbiAgICB0aGlzLl9hdmF0YXJFbGVtZW50LnNyYyA9IGF2YXRhcjtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLmNvbmZpcm1CdXR0b24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIucG9wdXBfX2J1dHRvbl9jb25maXJtLWRlbGV0ZVwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5oYW5kbGVDb25maXJtID0gbnVsbDsgLy8gSW5pdGlhbGl6ZSB0byBudWxsIHRvIHN0b3JlIHRoZSBjb25maXJtYXRpb24gaGFuZGxlclxyXG4gIH1cclxuXHJcbiAgLy8gU2V0IHRoZSBjb25maXJtIGhhbmRsZXIgZHluYW1pY2FsbHkgYW5kIHJlbW92ZSBwcmV2aW91cyBoYW5kbGVyc1xyXG4gIHNldENvbmZpcm1IYW5kbGVyKGhhbmRsZUNvbmZpcm0pIHtcclxuICAgIHRoaXMuaGFuZGxlQ29uZmlybSA9IGhhbmRsZUNvbmZpcm07XHJcblxyXG4gICAgLy8gUmVtb3ZlIGFueSBwcmV2aW91c2x5IGFkZGVkIGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgdGhpcy5jb25maXJtQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9ib3VuZEhhbmRsZUNvbmZpcm0pO1xyXG5cclxuICAgIC8vIEJpbmQgdGhlIGNvbmZpcm0gaGFuZGxlciBhbmQgc3RvcmUgaXQgZm9yIGxhdGVyIHJlbW92YWxcclxuICAgIHRoaXMuX2JvdW5kSGFuZGxlQ29uZmlybSA9ICgpID0+IHtcclxuICAgICAgdGhpcy5oYW5kbGVDb25maXJtKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEFkZCB0aGUgbmV3IGV2ZW50IGxpc3RlbmVyIGZvciB0aGUgY29uZmlybWF0aW9uIGJ1dHRvblxyXG4gICAgdGhpcy5jb25maXJtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9ib3VuZEhhbmRsZUNvbmZpcm0sIHtcclxuICAgICAgb25jZTogdHJ1ZSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gT3ZlcnJpZGUgdGhlIHNldEV2ZW50TGlzdGVuZXJzIHRvIHNldCBkZWZhdWx0IHBvcHVwIGJlaGF2aW9yc1xyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTsgLy8gSW5oZXJpdCB0aGUgZGVmYXVsdCBsaXN0ZW5lcnNcclxuXHJcbiAgICAvLyBDbG9zZSB0aGUgcG9wdXAgd2hlbiBjbGlja2luZyB0aGUgY2xvc2UgYnV0dG9uXHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5jbG9zZSgpKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVuZGVyIGVhY2ggaW4gYXJyYXlcclxuICByZW5kZXJJdGVtcyhpdGVtcykge1xyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4gdGhpcy5fcmVuZGVyZXIoaXRlbSkpO1xyXG4gIH1cclxuXHJcbiAgLy8gQWRkIHNpbmdsZSBpdGVtIHRvIGNvbnRhaW5lclxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG59XHJcbiIsIi8vIEltcG9ydCB0aGUgYmFzZSBQb3B1cCBjbGFzc1xyXG5pbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbi8vIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAgdG8gaGFuZGxlIGltYWdlIHBvcHVwc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICAvLyBDb25zdHJ1Y3RvciB0YWtlcyB0aGUgcG9wdXAgc2VsZWN0b3IgYXMgYW4gYXJndW1lbnRcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAvLyBDYWxsIHRoZSBwYXJlbnQgY2xhc3MgKFBvcHVwKSBjb25zdHJ1Y3RvciB3aXRoIHRoZSBwb3B1cFNlbGVjdG9yXHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuXHJcbiAgICAvLyBTZWxlY3QgdGhlIGltYWdlIGVsZW1lbnQgaW5zaWRlIHRoZSBwb3B1cFxyXG4gICAgdGhpcy5faW1hZ2VFbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xyXG5cclxuICAgIC8vIFNlbGVjdCB0aGUgY2FwdGlvbiBlbGVtZW50IGluc2lkZSB0aGUgcG9wdXBcclxuICAgIHRoaXMuX2NhcHRpb25FbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NhcHRpb25cIik7XHJcbiAgfVxyXG5cclxuICAvLyBNZXRob2QgdG8gb3BlbiB0aGUgaW1hZ2UgcG9wdXAgd2l0aCB0aGUgcHJvdmlkZWQgbmFtZSBhbmQgbGlua1xyXG4gIG9wZW4oeyBuYW1lLCBsaW5rIH0pIHtcclxuICAgIC8vIFNldCB0aGUgaW1hZ2Ugc291cmNlIHRvIHRoZSBwcm92aWRlZCBsaW5rXHJcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQuc3JjID0gbGluaztcclxuXHJcbiAgICAvLyBTZXQgdGhlIGFsdCB0ZXh0IG9mIHRoZSBpbWFnZSB0byB0aGUgcHJvdmlkZWQgbmFtZVxyXG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LmFsdCA9IG5hbWU7XHJcblxyXG4gICAgLy8gU2V0IHRoZSBjYXB0aW9uIHRleHQgdG8gdGhlIHByb3ZpZGVkIG5hbWVcclxuICAgIHRoaXMuX2NhcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcclxuXHJcbiAgICAvLyBDYWxsIHRoZSBwYXJlbnQgY2xhc3MncyBvcGVuIG1ldGhvZCB0byBkaXNwbGF5IHRoZSBwb3B1cFxyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiZm9ybVZhbGlkYXRpb25TZXR0aW5ncyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJzZWxlY3RvcnMiLCJwcm9maWxlRWRpdEZvcm0iLCJkb2N1bWVudCIsImZvcm1zIiwiYWRkQ2FyZEZvcm0iLCJhdmF0YXJFZGl0Rm9ybSIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9maWxlRWRpdEJ1dHRvbiIsImFkZENhcmRCdXR0b24iLCJwcm9maWxlVGl0bGUiLCJwcm9maWxlRGVzY3JpcHRpb24iLCJwcm9maWxlVGl0bGVJbnB1dCIsInByb2ZpbGVEZXNjcmlwdGlvbklucHV0IiwiY2FyZExpc3RFbCIsImFkZENhcmRUaXRsZUlucHV0IiwiYWRkQ2FyZFVybElucHV0IiwiQ2FyZCIsImNvbnN0cnVjdG9yIiwiX3JlZiIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJjdXJyZW50VXNlcklkIiwiYXBpIiwiaGFuZGxlRGVsZXRlQ2FyZCIsIm5hbWUiLCJsaW5rIiwiX2lkIiwiaXNMaWtlZCIsImxpa2VzIiwib3duZXIiLCJ0aGlzIiwiX25hbWUiLCJfbGluayIsIl9pc0xpa2VkIiwiX2xpa2VzIiwiX293bmVyIiwiX2N1cnJlbnRVc2VySWQiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfYXBpIiwiX2hhbmRsZURlbGV0ZUNhcmQiLCJzZXRMaWtlU3RhdGUiLCJfbGlrZUJ1dHRvbiIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsInRvZ2dsZUxpa2UiLCJkaXNsaWtlQ2FyZCIsInRoZW4iLCJ1cGRhdGVkQ2FyZCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwibGlrZUNhcmQiLCJzZXRFdmVudExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJfdHJhc2hCdXR0b24iLCJfY2FyZEVsZW1lbnQiLCJfY2FyZEltYWdlRWwiLCJnZXRWaWV3IiwiY3JlYXRlQ2FyZEVsZW1lbnQiLCJjYXJkRWxlbWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfY2FyZFRpdGxlRWwiLCJ0ZXh0Q29udGVudCIsInNyYyIsImFsdCIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5ncyIsImZvcm1FbGVtZW50IiwiX3NldHRpbmdzIiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc3VibWl0QnV0dG9uIiwiX2hhc0ludmFsaWRJbnB1dCIsInNvbWUiLCJpbnB1dEVsZW1lbnQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZGlzYWJsZUJ1dHRvbiIsImRpc2FibGVkIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsImVycm9yRWxlbWVudCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJmb3JFYWNoIiwiZW5hYmxlVmFsaWRhdGlvbiIsInJlc2V0VmFsaWRhdGlvbiIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwib3BlbiIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsInRhcmdldCIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfc3VibWl0QnRuIiwiX3N1Ym1pdEJ0blRleHQiLCJpbnB1dExpc3QiLCJfX2dldElucHV0VmFsdWVzIiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwicmVuZGVyTG9hZGluZyIsImlzTG9hZGluZyIsImxvYWRpbmdUZXh0IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwicHJldmVudERlZmF1bHQiLCJyZXNldEZvcm0iLCJyZXNldCIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX3JlcXVlc3QiLCJ1cmwiLCJvcHRpb25zIiwiZmV0Y2giLCJfY2hlY2tSZXNwb25zZSIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJfaGFuZGxlRXJyb3IiLCJnZXRJbml0aWFsQ2FyZHMiLCJnZXRVc2VySW5mbyIsInVwZGF0ZVVzZXJJbmZvIiwiX3JlZjIiLCJhYm91dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWRkQ2FyZCIsIl9yZWYzIiwiZGVsZXRlQ2FyZCIsImNhcmRJZCIsInVwZGF0ZUF2YXRhciIsImF2YXRhclVybCIsImF2YXRhciIsImF1dGhvcml6YXRpb24iLCJhdmF0YXJFZGl0QnV0dG9uIiwidXNlckluZm9JbnN0YW5jZSIsIm5hbWVTZWxlY3RvciIsImRlc2NyaXB0aW9uU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9uYW1lRWxlbWVudCIsIl9kZXNjcmlwdGlvbkVsZW1lbnQiLCJfYXZhdGFyRWxlbWVudCIsImRlc2NyaXB0aW9uIiwic2V0VXNlckluZm8iLCJkZWxldGVQb3B1cEluc3RhbmNlIiwiY29uZmlybUJ1dHRvbiIsImhhbmRsZUNvbmZpcm0iLCJzZXRDb25maXJtSGFuZGxlciIsIl9ib3VuZEhhbmRsZUNvbmZpcm0iLCJvbmNlIiwiY3JlYXRlQ2FyZCIsImNhcmREYXRhIiwiaGFuZGxlSW1hZ2VQb3B1cCIsImNhcmRTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsIml0ZW1zIiwiaXRlbSIsImFkZEl0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsInVzZXJJbmZvIiwiY2FyZHMiLCJyZXZlcnNlIiwicGljdHVyZVBvcHVwSW5zdGFuY2UiLCJwcm9maWxlRWRpdFBvcHVwSW5zdGFuY2UiLCJmb3JtRGF0YSIsInVwZGF0ZWRVc2VySW5mbyIsImZpbmFsbHkiLCJhZGRDYXJkUG9wdXBJbnN0YW5jZSIsInRpdGxlIiwibmV3Q2FyZCIsImNhcmRGb3JtVmFsaWRhdG9yIiwiYXZhdGFyRWRpdFBvcHVwIiwiX2ltYWdlRWxlbWVudCIsIl9jYXB0aW9uRWxlbWVudCIsInByb2ZpbGVGb3JtVmFsaWRhdG9yIiwiYXZhdGFyRm9ybVZhbGlkYXRvciIsImhhbmRsZVByb2ZpbGVFZGl0IiwidXNlckRhdGEiXSwic291cmNlUm9vdCI6IiJ9